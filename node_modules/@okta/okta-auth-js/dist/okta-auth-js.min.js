/*! For license information please see okta-auth-js.min.js.LICENSE.txt */
var OktaAuth;!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},3646:function(e,t,r){var n=r(7228);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},8926:function(e){function t(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=e.apply(r,n);function u(e){t(i,o,a,u,s,"next",e)}function s(e){t(i,o,a,u,s,"throw",e)}u(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},9100:function(e,t,r){var n=r(9489),o=r(7067);function a(t,r,i){return o()?(e.exports=a=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=a=function(e,t,r){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return r&&n(a,r.prototype),a},e.exports.default=e.exports,e.exports.__esModule=!0),a.apply(null,arguments)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},3913:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},9713:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},6525:function(e,t,r){var n=r(8331);function o(t,r,a){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=o=function(e,t,r){var o=n(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(r):a.value}},e.exports.default=e.exports,e.exports.__esModule=!0),o(t,r,a||t)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},9754:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},2205:function(e,t,r){var n=r(9489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0},7067:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},6860:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},3884:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},6479:function(e,t,r){var n=r(7316);e.exports=function(e,t){if(null==e)return{};var r,o,a=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},7316:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},8585:function(e,t,r){var n=r(8).default,o=r(1506);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},9489:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},3038:function(e,t,r){var n=r(2858),o=r(3884),a=r(379),i=r(521);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},8331:function(e,t,r){var n=r(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},319:function(e,t,r){var n=r(3646),o=r(6860),a=r(379),i=r(8206);e.exports=function(e){return n(e)||o(e)||a(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},8:function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},379:function(e,t,r){var n=r(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},5957:function(e,t,r){var n=r(9754),o=r(9489),a=r(430),i=r(9100);function u(t){var r="function"==typeof Map?new Map:void 0;return e.exports=u=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return i(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,u(t)}e.exports=u,e.exports.default=e.exports,e.exports.__esModule=!0},7757:function(e,t,r){e.exports=r(5666)},7913:function(e,t,r){"use strict";var n=r(5318);t.AuthStateManager=t.INITIAL_AUTH_STATE=void 0;var o=n(r(7757)),a=n(r(8926)),i=n(r(4575)),u=n(r(3913)),s=n(r(9713)),c=n(r(3615)),l=r(5728),f=r(305),d=r(1425),p=n(r(5991));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.INITIAL_AUTH_STATE=null;var y={updateAuthStatePromise:null,canceledTimes:0},g="authStateChange",m=function(){function e(t){var r=this;if((0,i.default)(this,e),(0,s.default)(this,"_sdk",void 0),(0,s.default)(this,"_pending",void 0),(0,s.default)(this,"_authState",void 0),(0,s.default)(this,"_prevAuthState",void 0),(0,s.default)(this,"_logOptions",void 0),(0,s.default)(this,"_transformQueue",void 0),!t.emitter)throw new l.AuthSdkError("Emitter should be initialized before AuthStateManager");this._sdk=t,this._pending=v({},y),this._authState=null,this._logOptions={},this._prevAuthState=null,this._transformQueue=new p.default({quiet:!0}),t.tokenManager.on(d.EVENT_ADDED,(function(e,t){r._setLogOptions({event:d.EVENT_ADDED,key:e,token:t}),r.updateAuthState()})),t.tokenManager.on(d.EVENT_REMOVED,(function(e,t){r._setLogOptions({event:d.EVENT_REMOVED,key:e,token:t}),r.updateAuthState()}))}var t;return(0,u.default)(e,[{key:"_setLogOptions",value:function(e){this._logOptions=e}},{key:"getAuthState",value:function(){return this._authState}},{key:"getPreviousAuthState",value:function(){return this._prevAuthState}},{key:"updateAuthState",value:(t=(0,a.default)(o.default.mark((function e(){var t,r,n,a,i,u,s,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._sdk.options,r=t.transformAuthState,n=t.devMode,a=function(e){var t=l._logOptions,r=t.event,n=t.key,o=t.token;(0,f.getConsole)().group("OKTA-AUTH-JS:updateAuthState: Event:".concat(r," Status:").concat(e)),(0,f.getConsole)().log(n,o),(0,f.getConsole)().log("Current authState",l._authState),(0,f.getConsole)().groupEnd(),l._logOptions={}},i=function(e){var t,r;r=e,(t=l._authState)&&t.isAuthenticated===r.isAuthenticated&&JSON.stringify(t.idToken)===JSON.stringify(r.idToken)&&JSON.stringify(t.accessToken)===JSON.stringify(r.accessToken)&&t.error===r.error?n&&a("unchanged"):(l._prevAuthState=l._authState,l._authState=e,l._sdk.emitter.emit(g,v({},e)),n&&a("emitted"))},u=function e(t){return l._pending.updateAuthStatePromise.then((function(){var r=l._pending.updateAuthStatePromise;return r&&r!==t?e(r):l.getAuthState()}))},!this._pending.updateAuthStatePromise){e.next=11;break}if(!(this._pending.canceledTimes>=10)){e.next=10;break}return n&&a("terminated"),e.abrupt("return",u(this._pending.updateAuthStatePromise));case 10:this._pending.updateAuthStatePromise.cancel();case 11:return s=new c.default((function(e,t,o){o.shouldReject=!1,o((function(){l._pending.updateAuthStatePromise=null,l._pending.canceledTimes=l._pending.canceledTimes+1,n&&a("canceled")}));var u=function(t){s.isCanceled?e():(i(t),e(),l._pending=v({},y))};l._sdk.isAuthenticated().then((function(){if(s.isCanceled)e();else{var t=l._sdk.tokenManager.getTokensSync(),n=t.accessToken,o=t.idToken,a=t.refreshToken,i={accessToken:n,idToken:o,refreshToken:a,isAuthenticated:!(!n||!o)};(r?l._transformQueue.push(r,null,l._sdk,i):Promise.resolve(i)).then((function(e){return u(e)})).catch((function(e){return u({accessToken:n,idToken:o,refreshToken:a,isAuthenticated:!1,error:e})}))}}))})),this._pending.updateAuthStatePromise=s,e.abrupt("return",u(s));case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"subscribe",value:function(e){this._sdk.emitter.on(g,e)}},{key:"unsubscribe",value:function(e){this._sdk.emitter.off(g,e)}}]),e}();t.AuthStateManager=m},3574:function(e,t,r){"use strict";var n=r(5318),o=r(8);t.default=void 0;var a=n(r(6479)),i=n(r(7757)),u=n(r(8926)),s=n(r(4575)),c=n(r(3913)),l=n(r(9713)),f=U(r(1971)),d=r(2375),p=n(r(3611)),h=r(4096),v=r(9443),y=U(r(415)),g=U(r(9718)),m=U(r(2056)),b=n(r(5407)),O=r(305),k=r(1425),w=r(5370),S=r(4777),E=n(r(5991)),T=n(r(8719)),P=r(7913),_=r(9169),j=n(r(2752)),A=r(1661),x=r(8630),R=r(4928),M=r(5372),C=r(2620),D=n(r(4279)),I=["originalUri"];function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(N=function(e){return e?r:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=N(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(){function e(t){var r=this;(0,s.default)(this,e),(0,l.default)(this,"options",void 0),(0,l.default)(this,"storageManager",void 0),(0,l.default)(this,"transactionManager",void 0),(0,l.default)(this,"tx",void 0),(0,l.default)(this,"idx",void 0),(0,l.default)(this,"session",void 0),(0,l.default)(this,"pkce",void 0),(0,l.default)(this,"features",y),(0,l.default)(this,"token",void 0),(0,l.default)(this,"_tokenQueue",void 0),(0,l.default)(this,"emitter",void 0),(0,l.default)(this,"tokenManager",void 0),(0,l.default)(this,"authStateManager",void 0),(0,l.default)(this,"serviceManager",void 0),(0,l.default)(this,"http",void 0),(0,l.default)(this,"fingerprint",void 0),(0,l.default)(this,"_oktaUserAgent",void 0),(0,l.default)(this,"_pending",void 0);var n=this.options=(0,A.buildOptions)(t);this.storageManager=new _.StorageManager(n.storageManager,n.cookies,n.storageUtil),this.transactionManager=new j.default(Object.assign({storageManager:this.storageManager},n.transactionManager)),this._oktaUserAgent=new R.OktaUserAgent,this.tx={status:d.transactionStatus.bind(null,this),resume:d.resumeTransaction.bind(null,this),exists:Object.assign(d.transactionExists.bind(null,this),{_get:function(e){return n.storageUtil.storage.get(e)}}),introspect:d.introspectAuthn.bind(null,this)},this.pkce={DEFAULT_CODE_CHALLENGE_METHOD:p.default.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:p.default.generateVerifier,computeChallenge:p.default.computeChallenge},Object.assign(this.options.storageUtil,{getPKCEStorage:this.storageManager.getLegacyPKCEStorage.bind(this.storageManager),getHttpCache:this.storageManager.getHttpCache.bind(this.storageManager)}),this._pending={handleLogin:!1},(0,y.isBrowser)()&&(this.options=Object.assign(this.options,{redirectUri:(0,O.toAbsoluteUrl)(t.redirectUri,window.location.origin)})),t.maxClockSkew||0===t.maxClockSkew?this.options.maxClockSkew=t.maxClockSkew:this.options.maxClockSkew=f.DEFAULT_MAX_CLOCK_SKEW,this.options.ignoreLifetime=!!t.ignoreLifetime,this.session={close:h.closeSession.bind(null,this),exists:h.sessionExists.bind(null,this),get:h.getSession.bind(null,this),refresh:h.refreshSession.bind(null,this),setCookieAndRedirect:h.setCookieAndRedirect.bind(null,this)},this._tokenQueue=new E.default;var o=function(e){return E.default.prototype.push.bind(r._tokenQueue,e,null)},a=o(v.getWithRedirect.bind(null,this)),i=Object.assign(a,{_setLocation:function(e){window.location=e}}),u=o(v.parseFromUrl.bind(null,this)),c=Object.assign(u,{_getHistory:function(){return window.history},_getLocation:function(){return window.location},_getDocument:function(){return window.document}});this.token={prepareTokenParams:v.prepareTokenParams.bind(null,this),exchangeCodeForTokens:v.exchangeCodeForTokens.bind(null,this),getWithoutPrompt:v.getWithoutPrompt.bind(null,this),getWithPopup:v.getWithPopup.bind(null,this),getWithRedirect:i,parseFromUrl:c,decode:v.decodeToken,revoke:v.revokeToken.bind(null,this),renew:v.renewToken.bind(null,this),renewTokensWithRefresh:v.renewTokensWithRefresh.bind(null,this),renewTokens:v.renewTokens.bind(null,this),getUserInfo:v.getUserInfo.bind(null,this),verify:v.verifyToken.bind(null,this),isLoginRedirect:v.isLoginRedirect.bind(null,this)};var g=["decode","isLoginRedirect","getWithRedirect","parseFromUrl"];Object.keys(this.token).forEach((function(e){if(!(g.indexOf(e)>=0)){var t=r.token[e];r.token[e]=E.default.prototype.push.bind(r._tokenQueue,t,null)}}));var m=x.startTransaction.bind(null,this);this.idx={interact:x.interact.bind(null,this),introspect:x.introspect.bind(null,this),authenticate:x.authenticate.bind(null,this),register:x.register.bind(null,this),start:m,startTransaction:m,poll:x.poll.bind(null,this),proceed:x.proceed.bind(null,this),cancel:x.cancel.bind(null,this),recoverPassword:x.recoverPassword.bind(null,this),handleInteractionCodeRedirect:x.handleInteractionCodeRedirect.bind(null,this),isInteractionRequired:v.isInteractionRequired.bind(null,this),isInteractionRequiredError:v.isInteractionRequiredError,handleEmailVerifyCallback:x.handleEmailVerifyCallback.bind(null,this),isEmailVerifyCallback:x.isEmailVerifyCallback,parseEmailVerifyCallback:x.parseEmailVerifyCallback,isEmailVerifyCallbackError:x.isEmailVerifyCallbackError,getSavedTransactionMeta:C.getSavedTransactionMeta.bind(null,this),createTransactionMeta:C.createTransactionMeta.bind(null,this),getTransactionMeta:C.getTransactionMeta.bind(null,this),saveTransactionMeta:C.saveTransactionMeta.bind(null,this),clearTransactionMeta:C.clearTransactionMeta.bind(null,this),isTransactionMetaValid:C.isTransactionMetaValid,setFlow:function(e){r.options.flow=e},getFlow:function(){return r.options.flow},canProceed:x.canProceed.bind(null,this),unlockAccount:x.unlockAccount.bind(null,this)},this.http={setRequestHeader:S.setRequestHeader.bind(null,this)},this.fingerprint=T.default.bind(null,this),this.emitter=new D.default,this.tokenManager=new k.TokenManager(this,t.tokenManager),this.authStateManager=new P.AuthStateManager(this),this.serviceManager=new w.ServiceManager(this,t.services)}var t,r,n,o,g,m,N,U,L,B,V;return(0,c.default)(e,[{key:"start",value:function(){this.tokenManager.start(),this.token.isLoginRedirect()||this.authStateManager.updateAuthState(),this.serviceManager.start()}},{key:"stop",value:function(){this.tokenManager.stop(),this.serviceManager.stop()}},{key:"setHeaders",value:function(e){this.options.headers=Object.assign({},this.options.headers,e)}},{key:"signIn",value:(V=(0,u.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signInWithCredentials(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return V.apply(this,arguments)})},{key:"signInWithCredentials",value:(B=(0,u.default)(i.default.mark((function e(t){var r,n=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,O.clone)(t||{}),r=function(e){return delete t.sendFingerprint,(0,d.postToTransaction)(n,"/api/v1/authn",t,e)},t.sendFingerprint){e.next=4;break}return e.abrupt("return",r());case 4:return e.abrupt("return",this.fingerprint().then((function(e){return r({headers:{"X-Device-Fingerprint":e}})})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return B.apply(this,arguments)})},{key:"signInWithRedirect",value:(L=(0,u.default)(i.default.mark((function e(){var t,r,n,o,u=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.originalUri,n=(0,a.default)(t,I),!this._pending.handleLogin){e.next=4;break}return e.abrupt("return");case 4:return this._pending.handleLogin=!0,e.prev=5,r&&this.setOriginalUri(r),o=Object.assign({scopes:this.options.scopes||["openid","email","profile"]},n),e.next=10,this.token.getWithRedirect(o);case 10:return e.prev=10,this._pending.handleLogin=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[5,,10,13]])}))),function(){return L.apply(this,arguments)})},{key:"closeSession",value:function(){var e=this;return this.session.close().then((0,u.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.tokenManager.clear();case 1:case"end":return t.stop()}}),t)})))).catch((function(e){if("AuthApiError"===e.name&&"E0000007"===e.errorCode)return null;throw e}))}},{key:"revokeAccessToken",value:(U=(0,u.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.tokenManager.getTokens();case 3:t=e.sent.accessToken,r=this.tokenManager.getStorageKeyByType("accessToken"),this.tokenManager.remove(r);case 6:if(t){e.next=8;break}return e.abrupt("return",Promise.resolve(null));case 8:return e.abrupt("return",this.token.revoke(t));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"revokeRefreshToken",value:(N=(0,u.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.tokenManager.getTokens();case 3:t=e.sent.refreshToken,r=this.tokenManager.getStorageKeyByType("refreshToken"),this.tokenManager.remove(r);case 6:if(t){e.next=8;break}return e.abrupt("return",Promise.resolve(null));case 8:return e.abrupt("return",this.token.revoke(t));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)})},{key:"getSignOutRedirectUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.idToken,r=e.postLogoutRedirectUri,n=e.state;if(t||(t=this.tokenManager.getTokensSync().idToken),!t)return"";r||(r=this.options.postLogoutRedirectUri);var o=(0,v.getOAuthUrls)(this).logoutUrl,a=t.idToken,i=o+"?id_token_hint="+encodeURIComponent(a);return r&&(i+="&post_logout_redirect_uri="+encodeURIComponent(r)),n&&(i+="&state="+encodeURIComponent(n)),i}},{key:"signOut",value:(m=(0,u.default)(i.default.mark((function e(t){var r,n,o,a,u,s,c,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({},t),r=window.location.origin,n=window.location.href,o=t.postLogoutRedirectUri||this.options.postLogoutRedirectUri||r,a=t.accessToken,u=t.refreshToken,s=!1!==t.revokeAccessToken,(c=!1!==t.revokeRefreshToken)&&void 0===u&&(u=this.tokenManager.getTokensSync().refreshToken),s&&void 0===a&&(a=this.tokenManager.getTokensSync().accessToken),t.idToken||(t.idToken=this.tokenManager.getTokensSync().idToken),!c||!u){e.next=14;break}return e.next=14,this.revokeRefreshToken(u);case 14:if(!s||!a){e.next=17;break}return e.next=17,this.revokeAccessToken(a);case 17:if(l=this.getSignOutRedirectUrl(F(F({},t),{},{postLogoutRedirectUri:o}))){e.next=22;break}return e.abrupt("return",this.closeSession().then((function(){o===n?window.location.reload():window.location.assign(o)})));case 22:t.clearTokensBeforeRedirect?this.tokenManager.clear():this.tokenManager.addPendingRemoveFlags(),window.location.assign(l);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"webfinger",value:function(e){var t="/.well-known/webfinger"+(0,O.toQueryString)(e);return(0,S.get)(this,t,{headers:{Accept:"application/jrd+json"}})}},{key:"isAuthenticated",value:(g=(0,u.default)(i.default.mark((function e(){var t,r,n,o,a,u,s,c,l,f,d=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},r=this.tokenManager.getOptions(),n=r.autoRenew,o=r.autoRemove,a=t.onExpiredToken?"renew"===t.onExpiredToken:n,u=t.onExpiredToken?"remove"===t.onExpiredToken:o,s=this.tokenManager.getTokensSync(),!(c=s.accessToken)||!this.tokenManager.hasExpired(c)){e.next=19;break}if(c=void 0,!a){e.next=18;break}return e.prev=8,e.next=11,this.tokenManager.renew("accessToken");case 11:c=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:e.next=19;break;case 18:u&&this.tokenManager.remove("accessToken");case 19:if(l=this.tokenManager.getTokensSync(),!(f=l.idToken)||!this.tokenManager.hasExpired(f)){e.next=34;break}if(f=void 0,!a){e.next=33;break}return e.prev=23,e.next=26,this.tokenManager.renew("idToken");case 26:f=e.sent,e.next=31;break;case 29:e.prev=29,e.t1=e.catch(23);case 31:e.next=34;break;case 33:u&&this.tokenManager.remove("idToken");case 34:return e.abrupt("return",!(!c||!f));case 35:case"end":return e.stop()}}),e,this,[[8,14],[23,29]])}))),function(){return g.apply(this,arguments)})},{key:"getUser",value:(o=(0,u.default)(i.default.mark((function e(){var t,r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.tokenManager.getTokensSync(),r=t.idToken,n=t.accessToken,e.abrupt("return",this.token.getUserInfo(n,r));case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getIdToken",value:function(){var e=this.tokenManager.getTokensSync().idToken;return e?e.idToken:void 0}},{key:"getAccessToken",value:function(){var e=this.tokenManager.getTokensSync().accessToken;return e?e.accessToken:void 0}},{key:"getRefreshToken",value:function(){var e=this.tokenManager.getTokensSync().refreshToken;return e?e.refreshToken:void 0}},{key:"storeTokensFromRedirect",value:(n=(0,u.default)(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.token.parseFromUrl();case 2:t=e.sent,r=t.tokens,this.tokenManager.setTokens(r);case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setOriginalUri",value:function(e,t){b.default.getSessionStorage().setItem(f.REFERRER_PATH_STORAGE_KEY,e),(t=t||this.options.state)&&this.storageManager.getOriginalUriStorage().setItem(t,e)}},{key:"getOriginalUri",value:function(e){if(e=e||this.options.state){var t=this.storageManager.getOriginalUriStorage().getItem(e);if(t)return t}var r=b.default.getSessionStorage();return r&&r.getItem(f.REFERRER_PATH_STORAGE_KEY)||void 0}},{key:"removeOriginalUri",value:function(e){if(b.default.getSessionStorage().removeItem(f.REFERRER_PATH_STORAGE_KEY),e=e||this.options.state){var t=this.storageManager.getOriginalUriStorage();t.removeItem&&t.removeItem(e)}}},{key:"isLoginRedirect",value:function(){return(0,v.isLoginRedirect)(this)}},{key:"handleLoginRedirect",value:(r=(0,u.default)(i.default.mark((function e(t,r){var n,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.options.state,!t){e.next=6;break}this.tokenManager.setTokens(t),r=r||this.getOriginalUri(this.options.state),e.next=25;break;case 6:if(!this.isLoginRedirect()){e.next=24;break}return e.prev=7,e.next=10,(0,M.parseOAuthResponseFromUrl)(this,{});case 10:return o=e.sent,n=o.state,r=r||this.getOriginalUri(n),e.next=15,this.storeTokensFromRedirect();case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(7),e.next=21,this.authStateManager.updateAuthState();case 21:throw e.t0;case 22:e.next=25;break;case 24:return e.abrupt("return");case 25:return e.next=27,this.authStateManager.updateAuthState();case 27:if(this.removeOriginalUri(n),!(a=this.options.restoreOriginalUri)){e.next=34;break}return e.next=32,a(this,r);case 32:e.next=35;break;case 34:r&&window.location.replace(r);case 35:case"end":return e.stop()}}),e,this,[[7,17]])}))),function(e,t){return r.apply(this,arguments)})},{key:"isPKCE",value:function(){return!!this.options.pkce}},{key:"hasResponseType",value:function(e){return Array.isArray(this.options.responseType)&&this.options.responseType.length?this.options.responseType.indexOf(e)>=0:this.options.responseType===e}},{key:"isAuthorizationCodeFlow",value:function(){return this.hasResponseType("code")}},{key:"getIssuerOrigin",value:function(){return this.options.issuer.split("/oauth2/")[0]}},{key:"forgotPassword",value:function(e){return(0,d.postToTransaction)(this,"/api/v1/authn/recovery/password",e)}},{key:"unlockAccount",value:function(e){return(0,d.postToTransaction)(this,"/api/v1/authn/recovery/unlock",e)}},{key:"verifyRecoveryToken",value:function(e){return(0,d.postToTransaction)(this,"/api/v1/authn/recovery/token",e)}},{key:"invokeApiMethod",value:(t=(0,u.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.accessToken){e.next=5;break}return e.next=3,this.tokenManager.getTokens();case 3:r=e.sent.accessToken,t.accessToken=null==r?void 0:r.accessToken;case 5:return e.abrupt("return",(0,S.httpRequest)(this,t));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();(0,l.default)(B,"features",y),(0,l.default)(B,"crypto",g),(0,l.default)(B,"webauthn",m),B.features=B.prototype.features=y,Object.assign(B,{constants:f});var V=B;t.default=V,e.exports=t.default},4928:function(e,t,r){"use strict";var n=r(5318);t.OktaUserAgent=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=r(415),s=function(){function e(){(0,o.default)(this,e),(0,i.default)(this,"environments",void 0),this.environments=["okta-auth-js/".concat("6.5.1")]}return(0,a.default)(e,[{key:"addEnvironment",value:function(e){this.environments.push(e)}},{key:"getHttpHeader",value:function(){return this.maybeAddNodeEnvironment(),{"X-Okta-User-Agent-Extended":this.environments.join(" ")}}},{key:"getVersion",value:function(){return"6.5.1"}},{key:"maybeAddNodeEnvironment",value:function(){if(!(0,u.isBrowser)()&&process&&process.versions){var e=process.versions.node;this.environments.push("nodejs/".concat(e))}}}]),e}();t.OktaUserAgent=s},5991:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=r(305),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{quiet:!1};(0,o.default)(this,e),(0,i.default)(this,"queue",void 0),(0,i.default)(this,"running",void 0),(0,i.default)(this,"options",void 0),this.queue=[],this.running=!1,this.options=t}return(0,a.default)(e,[{key:"push",value:function(e,t){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return new Promise((function(n,a){r.queue.length>0&&!1!==r.options.quiet&&(0,u.warn)("Async method is being called but another async method is already running. The new method will be delayed until the previous method completes."),r.queue.push({method:e,thisObject:t,args:o,resolve:n,reject:a}),r.run()}))}},{key:"run",value:function(){var e=this;if(!this.running&&0!==this.queue.length){this.running=!0;var t=this.queue.shift(),r=t.method.apply(t.thisObject,t.args);(0,u.isPromise)(r)?r.then(t.resolve,t.reject).finally((function(){e.running=!1,e.run()})):(t.resolve(r),this.running=!1,this.run())}}}]),e}(),c=s;t.default=c,e.exports=t.default},2334:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=n(r(9123)),s=function(){function e(t,r){if((0,o.default)(this,e),(0,i.default)(this,"storageProvider",void 0),(0,i.default)(this,"storageName",void 0),!t)throw new u.default('"storage" is required');if("string"!=typeof r||!r.length)throw new u.default('"storageName" is required');this.storageName=r,this.storageProvider=t}return(0,a.default)(e,[{key:"getItem",value:function(e){return this.getStorage()[e]}},{key:"setItem",value:function(e,t){return this.updateStorage(e,t)}},{key:"removeItem",value:function(e){return this.clearStorage(e)}},{key:"getStorage",value:function(){var e=this.storageProvider.getItem(this.storageName);e=e||"{}";try{return JSON.parse(e)}catch(e){throw new u.default("Unable to parse storage string: "+this.storageName)}}},{key:"setStorage",value:function(e){try{var t=e?JSON.stringify(e):"{}";this.storageProvider.setItem(this.storageName,t)}catch(e){throw new u.default("Unable to set storage: "+this.storageName)}}},{key:"clearStorage",value:function(e){if(e){var t=this.getStorage();delete t[e],this.setStorage(t)}else this.storageProvider.removeItem?this.storageProvider.removeItem(this.storageName):this.setStorage()}},{key:"updateStorage",value:function(e,t){var r=this.getStorage();r[e]=t,this.setStorage(r)}}]),e}();t.default=s,e.exports=t.default},5370:function(e,t,r){"use strict";var n=r(5318);t.ServiceManager=void 0;var o=n(r(319)),a=n(r(4575)),i=n(r(3913)),u=n(r(9713)),s=r(8437),c=r(2604),l=r(415);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(this,e),(0,u.default)(this,"sdk",void 0),(0,u.default)(this,"options",void 0),(0,u.default)(this,"services",void 0),(0,u.default)(this,"channel",void 0),(0,u.default)(this,"elector",void 0),(0,u.default)(this,"started",void 0),this.sdk=t;var o=t.tokenManager.getOptions(),i=o.autoRenew,s=o.autoRemove,c=o.syncStorage;this.options=Object.assign({},e.defaultOptions,{autoRenew:i,autoRemove:s,syncStorage:c},n),this.started=!1,this.services=new Map,this.onLeaderDuplicate=this.onLeaderDuplicate.bind(this),this.onLeader=this.onLeader.bind(this),e.knownServices.forEach((function(e){var t=r.createService(e);t&&r.services.set(e,t)}))}return(0,i.default)(e,[{key:"onLeader",value:function(){this.started&&this.startServices()}},{key:"onLeaderDuplicate",value:function(){}},{key:"isLeader",value:function(){var e;return!(null===(e=this.elector)||void 0===e||!e.isLeader)}},{key:"hasLeader",value:function(){var e;return null===(e=this.elector)||void 0===e?void 0:e.hasLeader}},{key:"isLeaderRequired",value:function(){return(0,o.default)(this.services.values()).some((function(e){return e.requiresLeadership()}))}},{key:"start",value:function(){this.started||(this.isLeaderRequired()&&this.startElector(),this.startServices(),this.started=!0)}},{key:"stop",value:function(){this.stopElector(),this.stopServices(),this.started=!1}},{key:"getService",value:function(e){return this.services.get(e)}},{key:"startServices",value:function(){var e,t=p(this.services.values());try{for(t.s();!(e=t.n()).done;){var r=e.value;r.canStart()&&!r.isStarted()&&(!r.requiresLeadership()||this.isLeader())&&r.start()}}catch(e){t.e(e)}finally{t.f()}}},{key:"stopServices",value:function(){var e,t=p(this.services.values());try{for(t.s();!(e=t.n()).done;)e.value.stop()}catch(e){t.e(e)}finally{t.f()}}},{key:"startElector",value:function(){if(this.stopElector(),e.canUseLeaderElection()){if(!this.channel){var t=this.options.broadcastChannelName;this.channel=new s.BroadcastChannel(t)}this.elector||(this.elector=(0,s.createLeaderElection)(this.channel),this.elector.onduplicate=this.onLeaderDuplicate,this.elector.awaitLeadership().then(this.onLeader))}}},{key:"stopElector",value:function(){var e,t;this.elector&&(null===(e=this.elector)||void 0===e||e.die(),this.elector=void 0,null===(t=this.channel)||void 0===t||t.close(),this.channel=void 0)}},{key:"createService",value:function(e){var t,r=this.sdk.tokenManager;switch(e){case"autoRenew":t=new c.AutoRenewService(r,d({},this.options));break;case"syncStorage":t=new c.SyncStorageService(r,d({},this.options));break;default:throw new Error("Unknown service ".concat(e))}return t}}],[{key:"canUseLeaderElection",value:function(){return(0,l.isBrowser)()}}]),e}();t.ServiceManager=v,(0,u.default)(v,"knownServices",["autoRenew","syncStorage"]),(0,u.default)(v,"defaultOptions",{autoRenew:!0,autoRemove:!0,syncStorage:!0})},9169:function(e,t,r){"use strict";var n=r(5318);t.StorageManager=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=r(1971),s=n(r(2334)),c=r(415),l=r(305),f=r(5728);function d(e){(0,c.isBrowser)()||e.storageProvider||e.storageProvider||(0,l.warn)("Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.")}var p=function(){function e(t,r,n){(0,o.default)(this,e),(0,i.default)(this,"storageManagerOptions",void 0),(0,i.default)(this,"cookieOptions",void 0),(0,i.default)(this,"storageUtil",void 0),this.storageManagerOptions=t,this.cookieOptions=r,this.storageUtil=n}return(0,a.default)(e,[{key:"getOptionsForSection",value:function(e,t){return Object.assign({},this.storageManagerOptions[e],t)}},{key:"getStorage",value:function(e){if((e=Object.assign({},this.cookieOptions,e)).storageProvider)return e.storageProvider;var t=e,r=t.storageType,n=t.storageTypes;if("sessionStorage"===r&&(e.sessionCookie=!0),r&&n){var o=n.indexOf(r);o>=0&&(n=n.slice(o),r=void 0)}return r||(r=this.storageUtil.findStorageType(n)),this.storageUtil.getStorageByType(r,e)}},{key:"getTransactionStorage",value:function(e){d(e=this.getOptionsForSection("transaction",e));var t=this.getStorage(e),r=e.storageKey||u.TRANSACTION_STORAGE_NAME;return new s.default(t,r)}},{key:"getSharedTansactionStorage",value:function(e){d(e=this.getOptionsForSection("shared-transaction",e));var t=this.getStorage(e),r=e.storageKey||u.SHARED_TRANSACTION_STORAGE_NAME;return new s.default(t,r)}},{key:"getOriginalUriStorage",value:function(e){d(e=this.getOptionsForSection("original-uri",e));var t=this.getStorage(e),r=e.storageKey||u.ORIGINAL_URI_STORAGE_NAME;return new s.default(t,r)}},{key:"getIdxResponseStorage",value:function(e){var t;if((0,c.isBrowser)())try{t=this.storageUtil.getStorageByType("memory",e)}catch(e){(0,l.warn)("No response storage found, you may want to provide custom implementation for intermediate idx responses to optimize the network traffic")}else{var r=this.getTransactionStorage(e);r&&(t={getItem:function(e){var t=r.getStorage();return t&&t[e]?t[e]:null},setItem:function(e,t){var n=r.getStorage();if(!n)throw new f.AuthSdkError("Transaction has been cleared, failed to save idxState");n[e]=t,r.setStorage(n)},removeItem:function(e){var t=r.getStorage();t&&(delete t[e],r.setStorage(t))}})}return t?new s.default(t,u.IDX_RESPONSE_STORAGE_NAME):null}},{key:"getTokenStorage",value:function(e){d(e=this.getOptionsForSection("token",e));var t=this.getStorage(e),r=e.storageKey||u.TOKEN_STORAGE_NAME;return new s.default(t,r)}},{key:"getHttpCache",value:function(e){e=this.getOptionsForSection("cache",e);var t=this.getStorage(e),r=e.storageKey||u.CACHE_STORAGE_NAME;return new s.default(t,r)}},{key:"getLegacyPKCEStorage",value:function(e){e=this.getOptionsForSection("legacy-pkce",e);var t=this.getStorage(e),r=e.storageKey||u.PKCE_STORAGE_NAME;return new s.default(t,r)}},{key:"getLegacyOAuthParamsStorage",value:function(e){e=this.getOptionsForSection("legacy-oauth-params",e);var t=this.getStorage(e),r=e.storageKey||u.REDIRECT_OAUTH_PARAMS_NAME;return new s.default(t,r)}}]),e}();t.StorageManager=p},1425:function(e,t,r){"use strict";var n=r(5318);t.TokenManager=t.EVENT_ERROR=t.EVENT_REMOVED=t.EVENT_ADDED=t.EVENT_RENEWED=t.EVENT_EXPIRED=void 0;var o=n(r(7757)),a=n(r(8926)),i=n(r(8)),u=n(r(4575)),s=n(r(3913)),c=n(r(9713)),l=r(305),f=r(5728),d=r(8785),p=r(415),h=n(r(6244)),v=r(2852),y=r(1971);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={autoRenew:!0,autoRemove:!0,syncStorage:!0,clearPendingRemoveTokens:!0,storage:void 0,expireEarlySeconds:30,storageKey:y.TOKEN_STORAGE_NAME,_storageEventDelay:0},O="expired";t.EVENT_EXPIRED=O;var k="renewed";t.EVENT_RENEWED=k;var w="added";t.EVENT_ADDED=w;var S="removed";t.EVENT_REMOVED=S;var E="error";t.EVENT_ERROR=E;var T=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,u.default)(this,e),(0,c.default)(this,"sdk",void 0),(0,c.default)(this,"clock",void 0),(0,c.default)(this,"emitter",void 0),(0,c.default)(this,"storage",void 0),(0,c.default)(this,"state",void 0),(0,c.default)(this,"options",void 0),(0,c.default)(this,"on",void 0),(0,c.default)(this,"off",void 0),this.sdk=t,this.emitter=t.emitter,!this.emitter)throw new f.AuthSdkError("Emitter should be initialized before TokenManager");r=Object.assign({},b,(0,l.removeNils)(r)),(0,p.isIE11OrLess)()&&(r._storageEventDelay=r._storageEventDelay||1e3),(0,p.isLocalhost)()||(r.expireEarlySeconds=b.expireEarlySeconds),this.options=r;var n=(0,l.removeNils)({storageKey:r.storageKey,secure:r.secure});"object"===(0,i.default)(r.storage)?n.storageProvider=r.storage:r.storage&&(n.storageType=r.storage),this.storage=t.storageManager.getTokenStorage(m(m({},n),{},{useSeparateCookies:!0})),this.clock=h.default.create(),this.state={expireTimeouts:{},renewPromise:null},this.on=this.emitter.on.bind(this.emitter),this.off=this.emitter.off.bind(this.emitter)}var t,r,n;return(0,s.default)(e,[{key:"start",value:function(){this.options.clearPendingRemoveTokens&&this.clearPendingRemoveTokens(),this.setExpireEventTimeoutAll()}},{key:"stop",value:function(){this.clearExpireEventTimeoutAll()}},{key:"getOptions",value:function(){return(0,l.clone)(this.options)}},{key:"getExpireTime",value:function(e){var t=this.options.expireEarlySeconds||0;return e.expiresAt-t}},{key:"hasExpired",value:function(e){return this.getExpireTime(e)<=this.clock.now()}},{key:"emitExpired",value:function(e,t){this.emitter.emit(O,e,t)}},{key:"emitRenewed",value:function(e,t,r){this.emitter.emit(k,e,t,r)}},{key:"emitAdded",value:function(e,t){this.emitter.emit(w,e,t)}},{key:"emitRemoved",value:function(e,t){this.emitter.emit(S,e,t)}},{key:"emitError",value:function(e){this.emitter.emit(E,e)}},{key:"emitEventsForCrossTabsStorageUpdate",value:function(e,t){var r=this,n=this.getTokensFromStorageValue(t),o=this.getTokensFromStorageValue(e);Object.keys(o).forEach((function(e){var t=n[e],a=o[e];JSON.stringify(t)!==JSON.stringify(a)&&r.emitAdded(e,a)})),Object.keys(n).forEach((function(e){var t=n[e];o[e]||r.emitRemoved(e,t)}))}},{key:"clearExpireEventTimeout",value:function(e){clearTimeout(this.state.expireTimeouts[e]),delete this.state.expireTimeouts[e],this.state.renewPromise=null}},{key:"clearExpireEventTimeoutAll",value:function(){var e=this.state.expireTimeouts;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.clearExpireEventTimeout(t)}},{key:"setExpireEventTimeout",value:function(e,t){var r=this;if(!(0,v.isRefreshToken)(t)){var n=this.getExpireTime(t),o=1e3*Math.max(n-this.clock.now(),0);this.clearExpireEventTimeout(e);var a=setTimeout((function(){r.emitExpired(e,t)}),o);this.state.expireTimeouts[e]=a}}},{key:"setExpireEventTimeoutAll",value:function(){var e=this.storage.getStorage();for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];this.setExpireEventTimeout(t,r)}}},{key:"resetExpireEventTimeoutAll",value:function(){this.clearExpireEventTimeoutAll(),this.setExpireEventTimeoutAll()}},{key:"add",value:function(e,t){var r=this.storage.getStorage();(0,d.validateToken)(t),r[e]=t,this.storage.setStorage(r),this.emitAdded(e,t),this.setExpireEventTimeout(e,t)}},{key:"getSync",value:function(e){return this.storage.getStorage()[e]}},{key:"get",value:(n=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSync(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getTokensSync",value:function(){var e={},t=this.storage.getStorage();return Object.keys(t).forEach((function(r){var n=t[r];(0,v.isAccessToken)(n)?e.accessToken=n:(0,v.isIDToken)(n)?e.idToken=n:(0,v.isRefreshToken)(n)&&(e.refreshToken=n)})),e}},{key:"getTokens",value:(r=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getTokensSync());case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getStorageKeyByType",value:function(e){var t=this.storage.getStorage();return Object.keys(t).filter((function(r){var n=t[r];return(0,v.isAccessToken)(n)&&"accessToken"===e||(0,v.isIDToken)(n)&&"idToken"===e||(0,v.isRefreshToken)(n)&&"refreshToken"===e}))[0]}},{key:"getTokenType",value:function(e){if((0,v.isAccessToken)(e))return"accessToken";if((0,v.isIDToken)(e))return"idToken";if((0,v.isRefreshToken)(e))return"refreshToken";throw new f.AuthSdkError("Unknown token type")}},{key:"setTokens",value:function(e,t,r,n){var o=this,a=function(e,a){var i=o.getTokenType(a);"accessToken"===i?t&&t(e,a):"idToken"===i?r&&r(e,a):"refreshToken"===i&&n&&n(e,a)},i=function(e,t){o.emitAdded(e,t),o.setExpireEventTimeout(e,t),a(e,t)},u=function(e,t){o.clearExpireEventTimeout(e),o.emitRemoved(e,t),a(e,t)},s=["idToken","accessToken","refreshToken"],c=this.getTokensSync();s.forEach((function(t){var r=e[t];r&&(0,d.validateToken)(r,t)}));var l=s.reduce((function(t,r){var n=e[r];return n&&(t[o.getStorageKeyByType(r)||r]=n),t}),{});this.storage.setStorage(l),s.forEach((function(t){var r,n,s,l=e[t],f=c[t],d=o.getStorageKeyByType(t)||t;l&&f?(u(d,f),i(d,l),r=d,n=l,s=f,o.emitRenewed(r,n,s),o.clearExpireEventTimeout(r),o.setExpireEventTimeout(r,n),a(r,n)):l?i(d,l):f&&u(d,f)}))}},{key:"remove",value:function(e){this.clearExpireEventTimeout(e);var t=this.storage.getStorage(),r=t[e];delete t[e],this.storage.setStorage(t),this.emitRemoved(e,r)}},{key:"renewToken",value:(t=(0,a.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(r=this.sdk.token)||void 0===r?void 0:r.renew(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"validateToken",value:function(e){return(0,d.validateToken)(e)}},{key:"renew",value:function(e){var t=this;if(this.state.renewPromise)return this.state.renewPromise;try{var r=this.getSync(e);if(!r)throw new f.AuthSdkError("The tokenManager has no token for the key: "+e)}catch(e){return Promise.reject(e)}return this.clearExpireEventTimeout(e),this.state.renewPromise=this.sdk.token.renewTokens().then((function(e){return t.setTokens(e),e[t.getTokenType(r)]})).catch((function(r){throw t.remove(e),r.tokenKey=e,t.emitError(r),r})).finally((function(){t.state.renewPromise=null})),this.state.renewPromise}},{key:"clear",value:function(){this.clearExpireEventTimeoutAll(),this.storage.clearStorage()}},{key:"clearPendingRemoveTokens",value:function(){var e=this,t=this.getTokensSync();Object.keys(t).forEach((function(r){t[r].pendingRemove&&e.remove(r)}))}},{key:"getTokensFromStorageValue",value:function(e){var t;try{t=JSON.parse(e)||{}}catch(e){t={}}return t}},{key:"updateRefreshToken",value:function(e){var t=this.getStorageKeyByType("refreshToken")||y.REFRESH_TOKEN_STORAGE_KEY,r=this.storage.getStorage();(0,d.validateToken)(e),r[t]=e,this.storage.setStorage(r)}},{key:"addPendingRemoveFlags",value:function(){var e=this.getTokensSync();Object.keys(e).forEach((function(t){e[t].pendingRemove=!0})),this.setTokens(e)}}]),e}();t.TokenManager=T},2752:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=r(5728),s=r(1971),c=r(2852),l=r(480),f=r(305),d=r(4909),p=function(){function e(t){(0,o.default)(this,e),(0,i.default)(this,"options",void 0),(0,i.default)(this,"storageManager",void 0),(0,i.default)(this,"legacyWidgetSupport",void 0),(0,i.default)(this,"saveNonceCookie",void 0),(0,i.default)(this,"saveStateCookie",void 0),(0,i.default)(this,"saveParamsCookie",void 0),(0,i.default)(this,"enableSharedStorage",void 0),(0,i.default)(this,"saveLastResponse",void 0),this.storageManager=t.storageManager,this.legacyWidgetSupport=!1!==t.legacyWidgetSupport,this.saveNonceCookie=!1!==t.saveNonceCookie,this.saveStateCookie=!1!==t.saveStateCookie,this.saveParamsCookie=!1!==t.saveParamsCookie,this.enableSharedStorage=!1!==t.enableSharedStorage,this.saveLastResponse=!1!==t.saveLastResponse,this.options=t}return(0,a.default)(e,[{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.storageManager.getTransactionStorage(),r=t.getStorage();if(t.clearStorage(),this.enableSharedStorage&&!1!==e.clearSharedStorage){var n=e.state||(null==r?void 0:r.state);n&&(0,d.clearTransactionFromSharedStorage)(this.storageManager,n)}!1!==e.clearIdxResponse&&this.clearIdxResponse(),this.legacyWidgetSupport&&(e.oauth&&this.clearLegacyOAuthParams(),e.pkce&&this.clearLegacyPKCE())}},{key:"save",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.storageManager.getTransactionStorage(),n=r.getStorage();if((0,c.isTransactionMeta)(n)&&!t.muteWarning&&(0,f.warn)("a saved auth transaction exists in storage. This may indicate another auth flow is already in progress."),r.setStorage(e),this.enableSharedStorage&&e.state&&(0,d.saveTransactionToSharedStorage)(this.storageManager,e.state,e),t.oauth&&(this.saveNonceCookie||this.saveStateCookie||this.saveParamsCookie)){var o=this.storageManager.getStorage({storageType:"cookie"});if(this.saveParamsCookie){var a=e.responseType,i=e.state,u=e.nonce,l=e.scopes,p=e.clientId,h=e.urls,v=e.ignoreSignature,y={responseType:a,state:i,nonce:u,scopes:l,clientId:p,urls:h,ignoreSignature:v};o.setItem(s.REDIRECT_OAUTH_PARAMS_NAME,JSON.stringify(y),null)}this.saveNonceCookie&&e.nonce&&o.setItem(s.REDIRECT_NONCE_COOKIE_NAME,e.nonce,null),this.saveStateCookie&&e.state&&o.setItem(s.REDIRECT_STATE_COOKIE_NAME,e.state,null)}}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=this.load(e);return!!t}catch(e){return!1}}},{key:"load",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.enableSharedStorage&&t.state&&((0,d.pruneSharedStorage)(this.storageManager),e=(0,d.loadTransactionFromSharedStorage)(this.storageManager,t.state),(0,c.isTransactionMeta)(e)))return e;var r=this.storageManager.getTransactionStorage();if(e=r.getStorage(),(0,c.isTransactionMeta)(e))return e;if(!this.legacyWidgetSupport)return null;if(t.oauth)try{var n=this.loadLegacyOAuthParams();Object.assign(e,n)}finally{this.clearLegacyOAuthParams()}if(t.pkce)try{var o=this.loadLegacyPKCE();Object.assign(e,o)}finally{this.clearLegacyPKCE()}return(0,c.isTransactionMeta)(e)?e:null}},{key:"clearLegacyPKCE",value:function(){this.storageManager.storageUtil.testStorageType("localStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).clearStorage()}},{key:"loadLegacyPKCE",value:function(){var e;if(this.storageManager.storageUtil.testStorageType("localStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).getStorage())&&e.codeVerifier)return e;if(this.storageManager.storageUtil.testStorageType("sessionStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).getStorage())&&e.codeVerifier)return e;throw new u.AuthSdkError("Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.",void 0)}},{key:"clearLegacyOAuthParams",value:function(){this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("cookie")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).clearStorage()}},{key:"loadLegacyOAuthParams",value:function(){var e;if(this.storageManager.storageUtil.testStorageType("sessionStorage")&&(e=this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).getStorage()),(0,c.isOAuthTransactionMeta)(e))return e;if(this.storageManager.storageUtil.testStorageType("cookie")&&(e=this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).getStorage()),(0,c.isOAuthTransactionMeta)(e))return e;throw new u.AuthSdkError("Unable to retrieve OAuth redirect params from storage")}},{key:"saveIdxResponse",value:function(e){if(this.saveLastResponse){var t=this.storageManager.getIdxResponseStorage();t&&t.setStorage(e)}}},{key:"loadIdxResponse",value:function(e){if(!this.saveLastResponse)return null;var t=this.storageManager.getIdxResponseStorage();if(!t)return null;var r=t.getStorage();if(!r||!(0,l.isRawIdxResponse)(r.rawIdxResponse))return null;if(e){var n=e.stateHandle,o=e.interactionHandle;if(n&&r.stateHandle!==n)return null;if(o&&r.interactionHandle!==o)return null}return r}},{key:"clearIdxResponse",value:function(){if(this.saveLastResponse){var e=this.storageManager.getIdxResponseStorage();null==e||e.clearStorage()}}}]),e}();t.default=p,e.exports=t.default},5407:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(646)),a=n(r(9123)),i=r(305),u={getHttpCache:function(){return null},getPKCEStorage:function(){return null},browserHasLocalStorage:function(){try{var e=this.getLocalStorage();return this.testStorage(e)}catch(e){return!1}},browserHasSessionStorage:function(){try{var e=this.getSessionStorage();return this.testStorage(e)}catch(e){return!1}},testStorageType:function(e){var t=!1;switch(e){case"sessionStorage":t=this.browserHasSessionStorage();break;case"localStorage":t=this.browserHasLocalStorage();break;case"cookie":case"memory":t=!0;break;default:t=!1}return t},getStorageByType:function(e,t){var r;switch(e){case"sessionStorage":r=this.getSessionStorage();break;case"localStorage":r=this.getLocalStorage();break;case"cookie":r=this.getCookieStorage(t);break;case"memory":r=this.getInMemoryStorage();break;default:throw new a.default("Unrecognized storage option: ".concat(e))}return r},findStorageType:function(e){var t,r;return t=(e=e.slice()).shift(),(r=e.length?e[0]:null)?this.testStorageType(t)?t:((0,i.warn)("This browser doesn't support ".concat(t,". Switching to ").concat(r,".")),this.findStorageType(e)):t},getLocalStorage:function(){return localStorage},getSessionStorage:function(){return sessionStorage},getCookieStorage:function(e){var t=this,r=e.secure,n=e.sameSite,o=e.sessionCookie;if(void 0===r||void 0===n)throw new a.default('getCookieStorage: "secure" and "sameSite" options must be provided');var i={getItem:this.storage.get,setItem:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2200-01-01T00:00:00.000Z";i=o?null:i,t.storage.set(e,a,i,{secure:r,sameSite:n})},removeItem:function(e){t.storage.delete(e)}};return e.useSeparateCookies?{getItem:function(e){var t=i.getItem(),r={};return Object.keys(t).forEach((function(n){0===n.indexOf(e)&&(r[n.replace("".concat(e,"_"),"")]=JSON.parse(t[n]))})),JSON.stringify(r)},setItem:function(e,t){var r=JSON.parse(this.getItem(e));t=JSON.parse(t),Object.keys(t).forEach((function(n){var o=e+"_"+n,a=JSON.stringify(t[n]);i.setItem(o,a),delete r[n]})),Object.keys(r).forEach((function(t){i.removeItem(e+"_"+t)}))},removeItem:function(e){var t=JSON.parse(this.getItem(e));Object.keys(t).forEach((function(t){i.removeItem(e+"_"+t)}))}}:i},inMemoryStore:{},getInMemoryStorage:function(){var e=this;return{getItem:function(t){return e.inMemoryStore[t]},setItem:function(t,r){e.inMemoryStore[t]=r}}},testStorage:function(e){var t="okta-test-storage";try{return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},storage:{set:function(e,t,r,n){var i=n.sameSite,u=n.secure;if(void 0===u||void 0===i)throw new a.default('storage.set: "secure" and "sameSite" options must be provided');var s={path:n.path||"/",secure:u,sameSite:i};return Date.parse(r)&&(s.expires=new Date(r)),o.default.set(e,t,s),this.get(e)},get:function(e){return arguments.length?o.default.get(e):o.default.get()},delete:function(e){return o.default.remove(e,{path:"/"})}}},s=u;t.default=s,e.exports=t.default},8719:function(e,t,r){"use strict";t.default=function(e,t){return t=t||{},(0,o.isFingerprintSupported)()?new Promise((function(o,s){var c;(i=document.createElement("iframe")).style.display="none",u=function(t){if(t&&t.data&&t.origin===e.getIssuerOrigin()){try{var r=JSON.parse(t.data)}catch(e){return}if(r)return"FingerprintAvailable"===r.type?o(r.fingerprint):void("FingerprintServiceReady"===r.type&&t.source.postMessage(JSON.stringify({type:"GetFingerprint"}),t.origin))}},(0,a.addListener)(window,"message",u),i.src=e.getIssuerOrigin()+"/auth/services/devicefingerprint",document.body.appendChild(i),r=setTimeout((function(){s(new n.AuthSdkError("Fingerprinting timed out"))}),(null===(c=t)||void 0===c?void 0:c.timeout)||15e3)})).finally((function(){clearTimeout(r),(0,a.removeListener)(window,"message",u),document.body.contains(i)&&i.parentElement.removeChild(i)})):Promise.reject(new n.AuthSdkError("Fingerprinting is not supported on this device"));var r,i,u};var n=r(5728),o=r(415),a=r(9443);e.exports=t.default},2158:function(e,t,r){"use strict";var n=r(5318);t.assertValidConfig=function(e){var t=(e=e||{}).scopes;if(t&&!Array.isArray(t))throw new o.default('scopes must be a array of strings. Required usage: new OktaAuth({scopes: ["openid", "email"]})');var r=e.issuer;if(!r)throw new o.default('No issuer passed to constructor. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(!new RegExp("^http?s?://.+").test(r))throw new o.default('Issuer must be a valid URL. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(-1!==r.indexOf("-admin."))throw new o.default('Issuer URL passed to constructor contains "-admin" in subdomain. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com})')};var o=n(r(9123))},6244:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=function(){function e(t){(0,o.default)(this,e),(0,i.default)(this,"localOffset",void 0),this.localOffset=parseInt(t||0)}return(0,a.default)(e,[{key:"now",value:function(){return(Date.now()+this.localOffset)/1e3}}],[{key:"create",value:function(){return new e(0)}}]),e}();t.default=u,e.exports=t.default},1971:function(e,t){"use strict";t.IDX_API_VERSION=t.DEFAULT_CODE_CHALLENGE_METHOD=t.MAX_VERIFIER_LENGTH=t.MIN_VERIFIER_LENGTH=t.REFERRER_PATH_STORAGE_KEY=t.REFRESH_TOKEN_STORAGE_KEY=t.ID_TOKEN_STORAGE_KEY=t.ACCESS_TOKEN_STORAGE_KEY=t.IDX_RESPONSE_STORAGE_NAME=t.ORIGINAL_URI_STORAGE_NAME=t.SHARED_TRANSACTION_STORAGE_NAME=t.TRANSACTION_STORAGE_NAME=t.PKCE_STORAGE_NAME=t.CACHE_STORAGE_NAME=t.TOKEN_STORAGE_NAME=t.REDIRECT_NONCE_COOKIE_NAME=t.REDIRECT_STATE_COOKIE_NAME=t.REDIRECT_OAUTH_PARAMS_NAME=t.DEFAULT_CACHE_DURATION=t.DEFAULT_MAX_CLOCK_SKEW=t.DEFAULT_POLLING_DELAY=t.STATE_TOKEN_KEY_NAME=void 0,t.STATE_TOKEN_KEY_NAME="oktaStateToken",t.DEFAULT_POLLING_DELAY=500,t.DEFAULT_MAX_CLOCK_SKEW=300,t.DEFAULT_CACHE_DURATION=86400,t.REDIRECT_OAUTH_PARAMS_NAME="okta-oauth-redirect-params",t.REDIRECT_STATE_COOKIE_NAME="okta-oauth-state",t.REDIRECT_NONCE_COOKIE_NAME="okta-oauth-nonce",t.TOKEN_STORAGE_NAME="okta-token-storage",t.CACHE_STORAGE_NAME="okta-cache-storage",t.PKCE_STORAGE_NAME="okta-pkce-storage",t.TRANSACTION_STORAGE_NAME="okta-transaction-storage",t.SHARED_TRANSACTION_STORAGE_NAME="okta-shared-transaction-storage",t.ORIGINAL_URI_STORAGE_NAME="okta-original-uri-storage",t.IDX_RESPONSE_STORAGE_NAME="okta-idx-response-storage",t.ACCESS_TOKEN_STORAGE_KEY="accessToken",t.ID_TOKEN_STORAGE_KEY="idToken",t.REFRESH_TOKEN_STORAGE_KEY="refreshToken",t.REFERRER_PATH_STORAGE_KEY="referrerPath",t.MIN_VERIFIER_LENGTH=43,t.MAX_VERIFIER_LENGTH=128,t.DEFAULT_CODE_CHALLENGE_METHOD="S256",t.IDX_API_VERSION="1.0.0"},7987:function(e,t,r){"use strict";t.stringToBase64Url=function(e){return a((0,o.btoa)(e))},t.base64ToBase64Url=a,t.base64UrlToBase64=i,t.base64UrlToString=function(e){var t=i(e);switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new n.AuthSdkError("Not a valid Base64Url")}var r=(0,o.atob)(t);try{return decodeURIComponent(escape(r))}catch(e){return r}},t.stringToBuffer=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},t.base64UrlDecode=u,t.base64UrlToBuffer=function(e){return Uint8Array.from(u(e),(function(e){return e.charCodeAt(0)}))},t.bufferToBase64Url=function(e){return(0,o.btoa)(new Uint8Array(e).reduce((function(e,t){return e+String.fromCharCode(t)}),""))};var n=r(5728),o=r(1);function a(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function i(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function u(e){return(0,o.atob)(i(e))}},7594:function(e,t){"use strict";t.webcrypto=t.btoa=t.atob=void 0,t.atob=function(e){return atob(e)},t.btoa=function(e){return btoa(e)};var r="undefined"==typeof crypto?null:crypto;t.webcrypto=r},9718:function(e,t,r){"use strict";var n=r(7987);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(5698);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(3154);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(1);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},5698:function(e,t,r){"use strict";t.getOidcHash=function(e){var t=(new TextEncoder).encode(e);return o.webcrypto.subtle.digest("SHA-256",t).then((function(e){var t=new Uint8Array(e).slice(0,16),r=String.fromCharCode.apply(null,t);return(0,n.stringToBase64Url)(r)}))};var n=r(7987),o=r(1)},3154:function(e,t,r){"use strict";t.verifyToken=function(e,t){t=(0,n.clone)(t);var r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};return delete t.use,a.webcrypto.subtle.importKey("jwk",t,r,!0,["verify"]).then((function(t){var n=e.split("."),i=(0,o.stringToBuffer)(n[0]+"."+n[1]),u=(0,o.base64UrlDecode)(n[2]),s=(0,o.stringToBuffer)(u);return a.webcrypto.subtle.verify(r,t,s,i)}))};var n=r(305),o=r(7987),a=r(1)},2056:function(e,t,r){"use strict";t.getAssertion=t.getAttestation=t.buildCredentialRequestOptions=t.buildCredentialCreationOptions=void 0;var n=r(7987),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){"webauthn"===e.key&&t.push({type:"public-key",id:(0,n.base64UrlToBuffer)(e.credentialId)})})),t};t.buildCredentialCreationOptions=function(e,t){return{publicKey:{rp:e.rp,user:{id:(0,n.base64UrlToBuffer)(e.user.id),name:e.user.name,displayName:e.user.displayName},challenge:(0,n.base64UrlToBuffer)(e.challenge),pubKeyCredParams:e.pubKeyCredParams,attestation:e.attestation,authenticatorSelection:e.authenticatorSelection,excludeCredentials:o(t)}}},t.buildCredentialRequestOptions=function(e,t){return{publicKey:{challenge:(0,n.base64UrlToBuffer)(e.challenge),userVerification:e.userVerification,allowCredentials:o(t)}}},t.getAttestation=function(e){var t=e.response;return{id:e.id,clientData:(0,n.bufferToBase64Url)(t.clientDataJSON),attestation:(0,n.bufferToBase64Url)(t.attestationObject)}},t.getAssertion=function(e){var t=e.response;return{id:e.id,clientData:(0,n.bufferToBase64Url)(t.clientDataJSON),authenticatorData:(0,n.bufferToBase64Url)(t.authenticatorData),signatureData:(0,n.bufferToBase64Url)(t.signature)}}},1:function(e,t,r){"use strict";var n=r(7594);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},3983:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(1506)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));var l=function(e){(0,i.default)(l,e);var t,r,n=(t=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function l(e,t){var r;(0,o.default)(this,l);var i=e.errorSummary;return r=n.call(this,i),(0,c.default)((0,a.default)(r),"errorSummary",void 0),(0,c.default)((0,a.default)(r),"errorCode",void 0),(0,c.default)((0,a.default)(r),"errorLink",void 0),(0,c.default)((0,a.default)(r),"errorId",void 0),(0,c.default)((0,a.default)(r),"errorCauses",void 0),(0,c.default)((0,a.default)(r),"xhr",void 0),r.name="AuthApiError",r.errorSummary=e.errorSummary,r.errorCode=e.errorCode,r.errorLink=e.errorLink,r.errorId=e.errorId,r.errorCauses=e.errorCauses,t&&(r.xhr=t),r}return l}(n(r(401)).default);t.default=l,e.exports=t.default},6573:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(2205)),i=n(r(8585)),u=n(r(9754));var s=function(e){(0,a.default)(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(t);if(r){var o=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.default)(this,e)});function s(){return(0,o.default)(this,s),n.call(this,"The poll was stopped by the sdk")}return s}(n(r(401)).default);t.default=s,e.exports=t.default},9123:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(1506)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));var l=function(e){(0,i.default)(l,e);var t,r,n=(t=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function l(e,t){var r;return(0,o.default)(this,l),r=n.call(this,e),(0,c.default)((0,a.default)(r),"errorSummary",void 0),(0,c.default)((0,a.default)(r),"errorCode",void 0),(0,c.default)((0,a.default)(r),"errorLink",void 0),(0,c.default)((0,a.default)(r),"errorId",void 0),(0,c.default)((0,a.default)(r),"errorCauses",void 0),(0,c.default)((0,a.default)(r),"xhr",void 0),r.name="AuthSdkError",r.errorCode="INTERNAL",r.errorSummary=e,r.errorLink="INTERNAL",r.errorId="INTERNAL",r.errorCauses=[],t&&(r.xhr=t),r}return l}(n(r(401)).default);t.default=l,e.exports=t.default},401:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(1506)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754));var c=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(e){var t;return(0,o.default)(this,c),t=n.call(this,e),Object.setPrototypeOf((0,a.default)(t),(this instanceof c?this.constructor:void 0).prototype),t}return c}((0,n(r(5957)).default)(Error));t.default=c,e.exports=t.default},2886:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(4575)),a=n(r(1506)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));var l=function(e){(0,i.default)(l,e);var t,r,n=(t=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function l(e,t){var r;return(0,o.default)(this,l),r=n.call(this,t),(0,c.default)((0,a.default)(r),"errorCode",void 0),(0,c.default)((0,a.default)(r),"errorSummary",void 0),(0,c.default)((0,a.default)(r),"error",void 0),(0,c.default)((0,a.default)(r),"error_description",void 0),r.name="OAuthError",r.errorCode=e,r.errorSummary=t,r.error=e,r.error_description=t,r}return l}(n(r(401)).default);t.default=l,e.exports=t.default},5728:function(e,t,r){"use strict";var n=r(5318);t.isAuthApiError=function(e){return e instanceof o.default},Object.defineProperty(t,"AuthApiError",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"AuthPollStopError",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"AuthSdkError",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"OAuthError",{enumerable:!0,get:function(){return u.default}});var o=n(r(3983)),a=n(r(6573)),i=n(r(9123)),u=n(r(2886))},415:function(e,t,r){"use strict";t.isBrowser=a,t.isIE11OrLess=function(){if(!a())return!1;var e=document.documentMode;return!!e&&e<=11},t.getUserAgent=i,t.isFingerprintSupported=function(){var e=i();return e&&!o.test(e)},t.isPopupPostMessageSupported=function(){if(!a())return!1;var e=document.documentMode,t=e&&e<10;return void 0!==window.postMessage&&!t},t.isTokenVerifySupported=u,t.hasTextEncoder=s,t.isPKCESupported=function(){return u()&&s()},t.isHTTPS=function(){return!!a()&&"https:"===window.location.protocol},t.isLocalhost=function(){return a()&&"localhost"===window.location.hostname};var n=r(9718),o=/windows phone|iemobile|wpdesktop/i;function a(){return"undefined"!=typeof document&&"undefined"!=typeof window}function i(){return navigator.userAgent}function u(){return void 0!==n.webcrypto&&null!==n.webcrypto&&void 0!==n.webcrypto.subtle&&"undefined"!=typeof Uint8Array}function s(){return"undefined"!=typeof TextEncoder}},4447:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(3038)),a=n(r(8)),i=n(r(4098));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=/application\/\w*\+?json/;t.default=function(e,t,n){var c=n.data,l=n.headers||{},f=l["Content-Type"]||l["content-type"]||"";c&&"string"!=typeof c&&(s.test(f)?c=JSON.stringify(c):"application/x-www-form-urlencoded"===f&&(c=Object.entries(c).map((function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(encodeURIComponent(n))})).join("&")));var d=(r.g.fetch||i.default)(t,{method:e,headers:n.headers,body:c,credentials:n.withCredentials?"include":"omit"});return d.finally||(d=Promise.resolve(d)),d.then((function(e){var t=!e.ok,r=e.status;return function(e){return e.headers.get("Content-Type")&&e.headers.get("Content-Type").toLowerCase().indexOf("application/json")>=0?e.json().catch((function(e){return{error:e,errorSummary:"Could not parse server response"}})):e.text()}(e).then((function(t){return function(e,t,r){var n,o="object"===(0,a.default)(t),i={},s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(r.headers.entries());try{for(s.s();!(n=s.n()).done;){var c=n.value;i[c[0]]=c[1]}}catch(e){s.e(e)}finally{s.f()}var l={responseText:o?JSON.stringify(t):t,status:e,headers:i};return o&&(l.responseType="json",l.responseJSON=t),l}(r,t,e)})).then((function(e){var r;if(t||null!==(r=e.responseJSON)&&void 0!==r&&r.error)throw e;return e}))}))},e.exports=t.default},2281:function(e,t){"use strict";t.setRequestHeader=function(e,t,r){e.options.headers=e.options.headers||{},e.options.headers[t]=r}},4777:function(e,t,r){"use strict";var n=r(2281);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(5385);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},5385:function(e,t,r){"use strict";var n=r(5318);t.httpRequest=l,t.get=function(e,t,r){var n={url:t=(0,i.isAbsoluteUrl)(t)?t:e.getIssuerOrigin()+t,method:"GET"};return Object.assign(n,r),l(e,n)},t.post=function(e,t,r,n){var o={url:t=(0,i.isAbsoluteUrl)(t)?t:e.getIssuerOrigin()+t,method:"POST",args:r,saveAuthnState:!0};return Object.assign(o,n),l(e,o)};var o=n(r(8)),a=n(r(9713)),i=r(305),u=r(1971),s=r(5728);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t){var r=(t=t||{}).url,n=t.method,l=t.args,f=t.saveAuthnState,d=t.accessToken,p=!0===t.withCredentials,h=e.options.storageUtil.storage,v=e.storageManager.getHttpCache(e.options.cookies);if(t.cacheResponse){var y=v.getStorage()[r];if(y&&Date.now()/1e3<y.expiresAt)return Promise.resolve(y.response)}var g=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({Accept:"application/json","Content-Type":"application/json"},e._oktaUserAgent.getHttpHeader());Object.assign(g,e.options.headers,t.headers),g=(0,i.removeNils)(g),d&&(0,i.isString)(d)&&(g.Authorization="Bearer "+d);var m,b,O={headers:g,data:l||void 0,withCredentials:p};return e.options.httpRequestClient(n,r,O).then((function(n){return(b=n.responseText)&&(0,i.isString)(b)&&(b=JSON.parse(b))&&"object"===(0,o.default)(b)&&!b.headers&&(b.headers=n.headers),f&&(b.stateToken||h.delete(u.STATE_TOKEN_KEY_NAME)),b&&b.stateToken&&b.expiresAt&&h.set(u.STATE_TOKEN_KEY_NAME,b.stateToken,b.expiresAt,e.options.cookies),b&&t.cacheResponse&&v.updateStorage(r,{expiresAt:Math.floor(Date.now()/1e3)+u.DEFAULT_CACHE_DURATION,response:b}),b})).catch((function(t){var r=t.responseText||{};if((0,i.isString)(r))try{r=JSON.parse(r)}catch(e){r={errorSummary:"Unknown error"}}throw t.status>=500&&(r.errorSummary="Unknown error"),e.options.transformErrorXHR&&(t=e.options.transformErrorXHR((0,i.clone)(t))),"E0000011"===(m=r.error&&r.error_description?new s.OAuthError(r.error,r.error_description):new s.AuthApiError(r,t)).errorCode&&h.delete(u.STATE_TOKEN_KEY_NAME),m}))}},1286:function(e,t,r){"use strict";var n=r(5318);t.authenticate=function(e){return f.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(2852),s=r(4819);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(){return f=(0,i.default)(o.default.mark((function e(t){var r,n=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.length>1&&void 0!==n[1]?n[1]:{}).password&&!r.authenticator&&(r.authenticator=u.AuthenticatorKey.OKTA_PASSWORD),e.abrupt("return",(0,s.run)(t,l(l({},r),{},{flow:"authenticate"})));case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},7644:function(e,t,r){"use strict";var n=r(5318);t.Authenticator=void 0;var o=n(r(4575)),a=n(r(9713));t.Authenticator=function e(t){(0,o.default)(this,e),(0,a.default)(this,"meta",void 0),this.meta=t}},9582:function(e,t,r){"use strict";var n=r(5318);t.OktaPassword=void 0;var o=n(r(9713)),a=n(r(4575)),i=n(r(3913)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){(0,u.default)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function o(){return(0,a.default)(this,o),n.apply(this,arguments)}return(0,i.default)(o,[{key:"canVerify",value:function(e){return!(!e.credentials&&!e.password)}},{key:"mapCredentials",value:function(e){var t=e.credentials,r=e.password;if(t||r)return t||{passcode:r}}},{key:"getInputs",value:function(e){var t;return f(f({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{},{name:"password",type:"string",required:e.required})}}]),o}(r(7644).Authenticator);t.OktaPassword=d},5459:function(e,t,r){"use strict";var n=r(5318);t.OktaVerifyTotp=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754));var c=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"mapCredentials",value:function(e){var t=e.verificationCode;if(t)return{totp:t}}}]),c}(r(5153).VerificationCodeAuthenticator);t.OktaVerifyTotp=c},1977:function(e,t,r){"use strict";var n=r(5318);t.SecurityQuestionEnrollment=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754));var c=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canVerify",value:function(e){var t=e.credentials;if(t&&t.questionKey&&t.answer)return!0;var r=e.questionKey,n=e.question,o=e.answer;return!(!r||!o)||!(!n||!o)}},{key:"mapCredentials",value:function(e){var t=e.questionKey,r=e.question,n=e.answer;if(n&&(t||r))return{questionKey:r?"custom":t,question:r,answer:n}}},{key:"getInputs",value:function(){return[{name:"questionKey",type:"string",required:!0},{name:"question",type:"string",label:"Create a security question"},{name:"answer",type:"string",label:"Answer",required:!0}]}}]),c}(r(7644).Authenticator);t.SecurityQuestionEnrollment=c},5941:function(e,t,r){"use strict";var n=r(5318);t.SecurityQuestionVerification=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754));var c=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canVerify",value:function(e){var t=e.credentials;return!(!t||!t.answer)||!!e.answer}},{key:"mapCredentials",value:function(e){var t=e.answer;if(t)return{questionKey:this.meta.contextualData.enrolledQuestion.questionKey,answer:t}}},{key:"getInputs",value:function(){return[{name:"answer",type:"string",label:"Answer",required:!0}]}}]),c}(r(7644).Authenticator);t.SecurityQuestionVerification=c},5153:function(e,t,r){"use strict";var n=r(5318);t.VerificationCodeAuthenticator=void 0;var o=n(r(9713)),a=n(r(4575)),i=n(r(3913)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){(0,u.default)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function o(){return(0,a.default)(this,o),n.apply(this,arguments)}return(0,i.default)(o,[{key:"canVerify",value:function(e){return!!(e.credentials||e.verificationCode||e.otp)}},{key:"mapCredentials",value:function(e){var t=e.credentials,r=e.verificationCode,n=e.otp;if(t||r||n)return t||{passcode:r||n}}},{key:"getInputs",value:function(e){var t;return f(f({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{},{name:"verificationCode",type:"string",required:e.required})}}]),o}(r(7644).Authenticator);t.VerificationCodeAuthenticator=d},3816:function(e,t,r){"use strict";var n=r(5318);t.WebauthnEnrollment=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754));var c=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canVerify",value:function(e){var t=e.credentials||e,r=t.clientData,n=t.attestation;return!(!r||!n)}},{key:"mapCredentials",value:function(e){var t=e.credentials,r=e.clientData,n=e.attestation;if(t||r||n)return t||{clientData:r,attestation:n}}},{key:"getInputs",value:function(){return[{name:"clientData",type:"string",required:!0,visible:!1,label:"Client Data"},{name:"attestation",type:"string",required:!0,visible:!1,label:"Attestation"}]}}]),c}(r(7644).Authenticator);t.WebauthnEnrollment=c},6304:function(e,t,r){"use strict";var n=r(5318);t.WebauthnVerification=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754));var c=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canVerify",value:function(e){var t=e.credentials||e,r=t.clientData,n=t.authenticatorData,o=t.signatureData;return!!(r&&n&&o)}},{key:"mapCredentials",value:function(e){var t=e.credentials,r=e.authenticatorData,n=e.clientData,o=e.signatureData;if(t||r||n||o)return t||{authenticatorData:r,clientData:n,signatureData:o}}},{key:"getInputs",value:function(){return[{name:"authenticatorData",type:"string",label:"Authenticator Data",required:!0,visible:!1},{name:"clientData",type:"string",label:"Client Data",required:!0,visible:!1},{name:"signatureData",type:"string",label:"Signature Data",required:!0,visible:!1}]}}]),c}(r(7644).Authenticator);t.WebauthnVerification=c},8815:function(e,t,r){"use strict";t.getAuthenticator=function(e){var t,r,f=e.relatesTo,d=(null==f?void 0:f.value)||{};switch(d.key){case l.AuthenticatorKey.OKTA_PASSWORD:return new a.OktaPassword(d);case l.AuthenticatorKey.SECURITY_QUESTION:return null!==(t=d.contextualData)&&void 0!==t&&t.enrolledQuestion?new u.SecurityQuestionVerification(d):new i.SecurityQuestionEnrollment(d);case l.AuthenticatorKey.OKTA_VERIFY:return new n.OktaVerifyTotp(d);case l.AuthenticatorKey.WEBAUTHN:return null!==(r=d.contextualData)&&void 0!==r&&r.challengeData?new c.WebauthnVerification(d):new s.WebauthnEnrollment(d);default:return new o.VerificationCodeAuthenticator(d)}};var n=r(5459),o=r(5153),a=r(9582),i=r(1977),u=r(5941),s=r(3816),c=r(6304),l=r(1642)},8220:function(e,t,r){"use strict";var n=r(8815);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(7644);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(5153);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(9582);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=r(1977);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=r(5941);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=r(3816);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=r(6304);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}))},9344:function(e,t,r){"use strict";t.formatAuthenticator=function(e){var t;if((0,n.isAuthenticator)(e))t=e;else{if("string"!=typeof e)throw new Error("Invalid format for authenticator");t={key:e}}return t},t.compareAuthenticators=function(e,t){return!(!e||!t)&&(e.id&&t.id?e.id===t.id:!(!e.key||!t.key)&&e.key===t.key)},t.findMatchedOption=function(e,t){var r,n,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{var i=function(){var e=n.value;if(r=t.find((function(t){return t.relatesTo.key===e.key})))return"break"};for(a.s();!(n=a.n()).done&&"break"!==i(););}catch(e){a.e(e)}finally{a.f()}return r};var n=r(1642);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},9192:function(e,t,r){"use strict";var n=r(5318);t.cancel=function(e,t){return f.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(4819),s=r(8306);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(){return(f=(0,i.default)(o.default.mark((function e(t,r){var n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionManager.load(),a=(0,s.getFlowSpecification)(t,n.flow),e.abrupt("return",(0,u.run)(t,l(l(l({},r),a),{},{actions:["cancel"]})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7985:function(e,t,r){"use strict";var n=r(5318);t.isEmailVerifyCallbackError=function(e){return"EmailVerifyCallbackError"===e.name},t.isEmailVerifyCallback=v,t.parseEmailVerifyCallback=y,t.handleEmailVerifyCallback=function(e,t){return g.apply(this,arguments)},t.EmailVerifyCallbackError=void 0;var o=n(r(7757)),a=n(r(8926)),i=n(r(4575)),u=n(r(1506)),s=n(r(2205)),c=n(r(8585)),l=n(r(9754)),f=n(r(9713)),d=n(r(401)),p=r(1969);var h=function(e){(0,s.default)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(t);if(r){var o=(0,l.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function o(e,t){var r;return(0,i.default)(this,o),r=n.call(this,"Enter the OTP code in the originating client: ".concat(t)),(0,f.default)((0,u.default)(r),"state",void 0),(0,f.default)((0,u.default)(r),"otp",void 0),r.name="EmailVerifyCallbackError",r.state=e,r.otp=t,r}return o}(d.default);function v(e){return/(otp=)/i.test(e)&&/(state=)/i.test(e)}function y(e){return(0,p.urlParamsToObject)(e)}function g(){return(g=(0,a.default)(o.default.mark((function e(t,r){var n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v(r)){e.next=9;break}if(n=y(r),a=n.state,i=n.otp,!t.idx.canProceed({state:a})){e.next=8;break}return e.next=5,t.idx.proceed({state:a,otp:i});case 5:return e.abrupt("return",e.sent);case 8:throw new h(a,i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.EmailVerifyCallbackError=h},2535:function(e,t,r){"use strict";t.AccountUnlockFlow=void 0;var n=r(8275),o={identify:n.Identify,"select-authenticator-unlock-account":n.SelectAuthenticatorUnlockAccount,"select-authenticator-authenticate":n.SelectAuthenticatorAuthenticate,"challenge-authenticator":n.ChallengeAuthenticator,"challenge-poll":n.ChallengePoll,"authenticator-verification-data":n.AuthenticatorVerificationData};t.AccountUnlockFlow=o},3550:function(e,t,r){"use strict";t.AuthenticationFlow=void 0;var n=r(8275),o={identify:n.Identify,"select-authenticator-authenticate":n.SelectAuthenticatorAuthenticate,"select-authenticator-enroll":n.SelectAuthenticatorEnroll,"authenticator-enrollment-data":n.AuthenticatorEnrollmentData,"authenticator-verification-data":n.AuthenticatorVerificationData,"enroll-authenticator":n.EnrollAuthenticator,"challenge-authenticator":n.ChallengeAuthenticator,"challenge-poll":n.ChallengePoll,"reenroll-authenticator":n.ReEnrollAuthenticator,"enroll-poll":n.EnrollPoll,"redirect-idp":n.RedirectIdp,skip:n.Skip};t.AuthenticationFlow=o},8226:function(e,t,r){"use strict";t.getFlowSpecification=function(e){var t,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=!0;switch(u){case"register":case"signup":case"enrollProfile":t=a.RegistrationFlow,s=!1;break;case"recoverPassword":case"resetPassword":t=o.PasswordRecoveryFlow,r=["currentAuthenticator-recover","currentAuthenticatorEnrollment-recover"],s=!1;break;case"unlockAccount":t=i.AccountUnlockFlow,s=!1,r=["unlock-account"];break;default:t=n.AuthenticationFlow}return{flow:u,remediators:t,actions:r,withCredentials:s}};var n=r(3550),o=r(6508),a=r(1103),i=r(2535)},6508:function(e,t,r){"use strict";t.PasswordRecoveryFlow=void 0;var n=r(8275),o={identify:n.Identify,"identify-recovery":n.Identify,"select-authenticator-authenticate":n.SelectAuthenticatorAuthenticate,"select-authenticator-enroll":n.SelectAuthenticatorEnroll,"challenge-authenticator":n.ChallengeAuthenticator,"authenticator-verification-data":n.AuthenticatorVerificationData,"authenticator-enrollment-data":n.AuthenticatorEnrollmentData,"reset-authenticator":n.ResetAuthenticator,"reenroll-authenticator":n.ReEnrollAuthenticator,"enroll-poll":n.EnrollPoll};t.PasswordRecoveryFlow=o},1103:function(e,t,r){"use strict";t.RegistrationFlow=void 0;var n=r(8275),o={"select-enroll-profile":n.SelectEnrollProfile,"enroll-profile":n.EnrollProfile,"authenticator-enrollment-data":n.AuthenticatorEnrollmentData,"select-authenticator-enroll":n.SelectAuthenticatorEnroll,"enroll-poll":n.EnrollPoll,"select-enrollment-channel":n.SelectEnrollmentChannel,"enrollment-channel-data":n.EnrollmentChannelData,"enroll-authenticator":n.EnrollAuthenticator,skip:n.Skip};t.RegistrationFlow=o},5474:function(){},8306:function(e,t,r){"use strict";var n=r(3550);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(8226);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(6508);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(1103);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=r(2535);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=r(5474);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}))},5021:function(e,t,r){"use strict";var n=r(5318);t.handleInteractionCodeRedirect=function(e,t){return u.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(5728);function u(){return(u=(0,a.default)(o.default.mark((function e(t,r){var n,a,u,s,c,l,f,d,p,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.transactionManager.load()){e.next=3;break}throw new i.AuthSdkError("No transaction data was found in storage");case 3:if(a=n.codeVerifier,u=n.state,s=new URL(r),c=s.searchParams,l=c.get("state"),f=c.get("interaction_code"),!(d=c.get("error"))){e.next=10;break}throw new i.OAuthError(d,c.get("error_description"));case 10:if(l===u){e.next=12;break}throw new i.AuthSdkError("State in redirect uri does not match with transaction state");case 12:if(f){e.next=14;break}throw new i.AuthSdkError("Unable to parse interaction_code from the url");case 14:return e.next=16,t.token.exchangeCodeForTokens({interactionCode:f,codeVerifier:a});case 16:p=e.sent,h=p.tokens,t.tokenManager.setTokens(h);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7894:function(e,t,r){"use strict";var n=r(5318);t.validateVersionConfig=u,t.makeIdxState=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,s=null!==(r=null==t?void 0:t.version)&&void 0!==r?r:o.IDX_API_VERSION;u(s);var c=i(s),l=c.makeIdxState;return l(e,t,n,a)},t.parsersForVersion=void 0;var o=r(1971),a=n(r(157)),i=function(e){switch(e){case"1.0.0":return a.default;case void 0:case null:throw new Error("Api version is required");default:throw new Error("Unknown api version: ".concat(e,".  Use an exact semver version."))}};function u(e){if(!e)throw new Error("version is required");if((null!=e?e:"").replace(/[^0-9a-zA-Z._-]/,"")!==e||!e)throw new Error("invalid version supplied - version is required and uses semver syntax");i(e)}t.parsersForVersion=i},422:function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.divideActionParamsByMutability=void 0;var o=function(e){return!1!==e.mutable},a=function(e){var t={},n=[],a={};if(!e.value)return n.push(e),{defaultParamsForAction:t,neededParamsForAction:n,immutableParamsForAction:a};var i,u=r(e.value);try{for(u.s();!(i=u.n()).done;){var s,c,l=i.value;o(l)?(n.push(l),null!==(s=l.value)&&void 0!==s&&s&&(t[l.name]=l.value)):a[l.name]=null!==(c=l.value)&&void 0!==c?c:""}}catch(e){u.e(e)}finally{u.f()}return{defaultParamsForAction:t,neededParamsForAction:n,immutableParamsForAction:a}};t.divideActionParamsByMutability=function(e){var t,n=[],o={},i={},u=r(e=Array.isArray(e)?e:[e]);try{for(u.s();!(t=u.n()).done;){var s=t.value,c=a(s),l=c.defaultParamsForAction,f=c.neededParamsForAction,d=c.immutableParamsForAction;n.push(f),o[s.name]=l,i[s.name]=d}}catch(e){u.e(e)}finally{u.f()}return{defaultParams:o,neededParams:n,immutableParams:i}}},8941:function(e,t,r){"use strict";var n=r(5318);t.default=void 0;var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(4777),s=r(422),c=r(6273),l=n(r(3983));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e,t){var r=t.actionDefinition,n=t.defaultParamsForAction,a=void 0===n?{}:n,s=t.immutableParamsForAction,f=void 0===s?{}:s,p=t.toPersist,h=void 0===p?{}:p,v=r.href;return(0,i.default)(o.default.mark((function t(){var n,i,s,p,y,g,m,b,O,k=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k.length>0&&void 0!==k[0]?k[0]:{},i={"Content-Type":"application/json",Accept:r.accepts||"application/ion+json"},s=JSON.stringify(d(d(d({},a),n),f)),t.prev=3,t.next=6,(0,u.httpRequest)(e,{url:v,method:r.method,headers:i,args:s,withCredentials:null===(p=null==h?void 0:h.withCredentials)||void 0===p||p});case 6:return y=t.sent,t.abrupt("return",(0,c.makeIdxState)(e,d({},y),h,!0));case 10:if(t.prev=10,t.t0=t.catch(3),t.t0 instanceof l.default&&null!==t.t0&&void 0!==t.t0&&t.t0.xhr){t.next=14;break}throw t.t0;case 14:throw g=t.t0.xhr,m=g.responseJSON||JSON.parse(g.responseText),b=g.headers["WWW-Authenticate"]||g.headers["www-authenticate"],O=(0,c.makeIdxState)(e,d({},m),h,!1),401===g.status&&'Oktadevicejwt realm="Okta Device"'===b&&(O.stepUp=!0),O;case 20:case"end":return t.stop()}}),t,null,[[3,10]])})))};t.default=function(e,t,r){var n=p,o=(0,s.divideActionParamsByMutability)(t),a=o.defaultParams,i=o.neededParams,u=o.immutableParams,c=n(e,{actionDefinition:t,defaultParamsForAction:a[t.name],immutableParamsForAction:u[t.name],toPersist:r});return c.neededParams=i,c},e.exports=t.default},897:function(e,t,r){"use strict";var n=r(5318);t.parseIdxResponse=t.parseNonRemediations=void 0;var o=n(r(3038)),a=n(r(9713)),i=n(r(6479)),u=n(r(8)),s=r(7423),c=n(r(8941)),l=r(5883),f=["value","type"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=Object.fromEntries(["remediation","context"].map((function(e){return[e,!0]}))),v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={},a={};return Object.keys(t).filter((function(e){return!h[e]})).forEach((function(s){if("object"===(0,u.default)(t[s])&&t[s])if(t[s].rel)n[t[s].name]=(0,c.default)(e,t[s],r);else{var l=t[s],d=l.value,h=l.type,v=(0,i.default)(l,f);a[s]=p({type:h},v),"object"===h?(a[s].value={},Object.entries(d).forEach((function(t){var i=(0,o.default)(t,2),u=i[0],l=i[1];l.rel?n["".concat(s,"-").concat(u.name||u)]=(0,c.default)(e,l,r):a[s].value[u]=l}))):a[s].value=d}else a[s]=t[s]})),{context:a,actions:n}};t.parseNonRemediations=v;var y=function e(t,r){Object.keys(r).forEach((function(n){if("relatesTo"===n){var o=Array.isArray(r[n])?r[n][0]:r[n];if("string"==typeof o){var a=(0,l.JSONPath)({path:o,json:t})[0];if(a)return void(r[n]=a)}}Array.isArray(r[n])&&r[n].forEach((function(r){return e(t,r)}))}))},g=function(e,t,r){if(t.rel){var n=(0,s.generateRemediationFunctions)(e,[t],r)[t.name];return p(p({},t),{},{action:n})}return t};t.parseIdxResponse=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(null===(r=t.remediation)||void 0===r?void 0:r.value)||[];o.forEach((function(e){return y(t,e)}));var a=o.map((function(t){return g(e,t,n)})),i=v(e,t,n),u=i.context,s=i.actions;return{remediations:a,context:u,actions:s}}},6273:function(e,t,r){"use strict";var n=r(5318);t.makeIdxState=function(e,t,r,n){var s,c,l,f,d=t,p=(0,u.parseIdxResponse)(e,t,r),h=p.remediations,v=p.context,y=p.actions,g=(0,i.default)(h),m=(f=(0,a.default)(o.default.mark((function e(t){var r,n,a=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},n=h.find((function(e){return e.name===t}))){e.next=4;break}return e.abrupt("return",Promise.reject("Unknown remediation choice: [".concat(t,"]")));case 4:if("function"==typeof n.action){e.next=7;break}return e.abrupt("return",Promise.reject("Current remediation cannot make form submit action: [".concat(t,"]")));case 7:return e.abrupt("return",n.action(r));case 8:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)});return{proceed:m,neededToProceed:g,actions:y,context:v,rawIdxState:d,interactionCode:null===(s=d.successWithInteractionCode)||void 0===s||null===(c=s.value)||void 0===c||null===(l=c.find((function(e){return"interaction_code"===e.name})))||void 0===l?void 0:l.value,toPersist:r,requestDidSucceed:n}};var o=n(r(7757)),a=n(r(8926)),i=n(r(319)),u=r(897)},157:function(e,t,r){"use strict";t.default=void 0;var n={makeIdxState:r(6273).makeIdxState};t.default=n,e.exports=t.default},7423:function(e,t,r){"use strict";var n=r(5318);t.generateRemediationFunctions=void 0;var o=n(r(8941));t.generateRemediationFunctions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.fromEntries(t.map((function(t){return[t.name,(0,o.default)(e,t,r)]})))}},8630:function(e,t,r){"use strict";var n={authenticate:!0,cancel:!0,handleEmailVerifyCallback:!0,isEmailVerifyCallback:!0,parseEmailVerifyCallback:!0,isEmailVerifyCallbackError:!0,interact:!0,introspect:!0,poll:!0,proceed:!0,canProceed:!0,register:!0,recoverPassword:!0,handleInteractionCodeRedirect:!0,startTransaction:!0,unlockAccount:!0};Object.defineProperty(t,"authenticate",{enumerable:!0,get:function(){return o.authenticate}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function(){return a.cancel}}),Object.defineProperty(t,"handleEmailVerifyCallback",{enumerable:!0,get:function(){return i.handleEmailVerifyCallback}}),Object.defineProperty(t,"isEmailVerifyCallback",{enumerable:!0,get:function(){return i.isEmailVerifyCallback}}),Object.defineProperty(t,"parseEmailVerifyCallback",{enumerable:!0,get:function(){return i.parseEmailVerifyCallback}}),Object.defineProperty(t,"isEmailVerifyCallbackError",{enumerable:!0,get:function(){return i.isEmailVerifyCallbackError}}),Object.defineProperty(t,"interact",{enumerable:!0,get:function(){return u.interact}}),Object.defineProperty(t,"introspect",{enumerable:!0,get:function(){return s.introspect}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return c.poll}}),Object.defineProperty(t,"proceed",{enumerable:!0,get:function(){return l.proceed}}),Object.defineProperty(t,"canProceed",{enumerable:!0,get:function(){return l.canProceed}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return f.register}}),Object.defineProperty(t,"recoverPassword",{enumerable:!0,get:function(){return d.recoverPassword}}),Object.defineProperty(t,"handleInteractionCodeRedirect",{enumerable:!0,get:function(){return p.handleInteractionCodeRedirect}}),Object.defineProperty(t,"startTransaction",{enumerable:!0,get:function(){return h.startTransaction}}),Object.defineProperty(t,"unlockAccount",{enumerable:!0,get:function(){return v.unlockAccount}});var o=r(1286),a=r(9192),i=r(7985),u=r(6131),s=r(2660),c=r(9310),l=r(2845),f=r(8826),d=r(9214),p=r(5021),h=r(2473),v=r(8277),y=r(2620);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}))},6131:function(e,t,r){"use strict";var n=r(5318);t.interact=function(e){return v.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(2620),s=r(9443),c=r(8630),l=r(305),f=r(4777);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){return{meta:e,interactionHandle:e.interactionHandle,state:e.state}}function v(){return v=(0,i.default)(o.default.mark((function e(t){var r,n,a,i,d,v,y,g,m,b,O,k,w,S,E,T,P,_,j,A,x,R,M,C=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=C.length>1&&void 0!==C[1]?C[1]:{},a=(0,l.removeNils)(a),i=(0,u.getSavedTransactionMeta)(t,a),null===(r=i)||void 0===r||!r.interactionHandle){e.next=5;break}return e.abrupt("return",h(i));case 5:return e.next=7,(0,c.createTransactionMeta)(t,p(p({},i),a));case 7:return i=e.sent,d=(0,s.getOAuthBaseUrl)(t),y=(v=i).clientId,g=v.redirectUri,m=v.state,b=v.scopes,O=v.withCredentials,k=v.codeChallenge,w=v.codeChallengeMethod,S=v.activationToken,E=v.recoveryToken,T=v.maxAge,P=a.clientSecret||t.options.clientSecret,O=null===(n=O)||void 0===n||n,_="".concat(d,"/v1/interact"),j=p(p(p(p({client_id:y,scope:b.join(" "),redirect_uri:g,code_challenge:k,code_challenge_method:w,state:m},S&&{activation_token:S}),E&&{recovery_token:E}),P&&{client_secret:P}),T&&{max_age:T}),A={"Content-Type":"application/x-www-form-urlencoded"},e.next=17,(0,f.httpRequest)(t,{method:"POST",url:_,headers:A,withCredentials:O,args:j});case 17:return x=e.sent,R=x.interaction_handle,M=p(p({},i),{},{interactionHandle:R,withCredentials:O,state:m,scopes:b,recoveryToken:E,activationToken:S}),(0,u.saveTransactionMeta)(t,M),e.abrupt("return",h(M));case 22:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},2660:function(e,t,r){"use strict";var n=r(5318);t.introspect=function(e){return d.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(7894),u=r(480),s=r(9443),c=r(1971),l=r(4777),f=r(5728);function d(){return d=(0,a.default)(o.default.mark((function e(t){var r,n,a,d,p,h,v,y,g,m,b,O,k,w,S=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=S.length>1&&void 0!==S[1]?S[1]:{},(d=t.transactionManager.loadIdxResponse(r))&&(n=d.rawIdxResponse,a=d.requestDidSucceed),n){e.next=27;break}return h=r.version||c.IDX_API_VERSION,v=(0,s.getOAuthDomain)(t),y=r.interactionHandle,g=r.stateHandle,m=null===(p=r.withCredentials)||void 0===p||p,e.prev=8,a=!0,(0,i.validateVersionConfig)(h),b="".concat(v,"/idp/idx/introspect"),O=g?{stateToken:g}:{interactionHandle:y},k={"Content-Type":"application/ion+json; okta-version=".concat(h),Accept:"application/ion+json; okta-version=".concat(h)},e.next=16,(0,l.httpRequest)(t,{method:"POST",url:b,headers:k,withCredentials:m,args:O});case 16:n=e.sent,e.next=27;break;case 19:if(e.prev=19,e.t0=e.catch(8),!((0,f.isAuthApiError)(e.t0)&&e.t0.xhr&&(0,u.isRawIdxResponse)(e.t0.xhr.responseJSON))){e.next=26;break}n=e.t0.xhr.responseJSON,a=!1,e.next=27;break;case 26:throw e.t0;case 27:return w=r.withCredentials,e.abrupt("return",(0,i.makeIdxState)(t,n,{withCredentials:w},a));case 29:case"end":return e.stop()}}),e,null,[[8,19]])}))),d.apply(this,arguments)}},9310:function(e,t,r){"use strict";var n=r(5318);t.poll=c;var o=n(r(7757)),a=n(r(8926)),i=r(2845),u=r(2620),s=r(305);function c(e){return l.apply(this,arguments)}function l(){return l=(0,a.default)(o.default.mark((function e(t){var r,n,l,f,d,p=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},e.next=3,(0,i.proceed)(t,{startPolling:!0});case 3:if(l=e.sent,f=(0,u.getSavedTransactionMeta)(t),null!=(d=null==f||null===(r=f.remediations)||void 0===r?void 0:r.find((function(e){return e.includes("poll")})))&&d.length||(0,s.warn)("No polling remediations available at the current IDX flow stage"),!Number.isInteger(n.refresh)){e.next=9;break}return e.abrupt("return",new Promise((function(e,r){setTimeout((0,a.default)(o.default.mark((function n(){var a,i,u;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{u=null===(a=l.nextStep)||void 0===a||null===(i=a.poll)||void 0===i?void 0:i.refresh,e(u?c(t,{refresh:u}):l)}catch(e){r(e)}case 1:case"end":return n.stop()}}),n)}))),n.refresh)})));case 9:return e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}},2845:function(e,t,r){"use strict";var n=r(5318);t.canProceed=d,t.proceed=function(e){return p.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(4819),s=r(2620),c=r(5728);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,s.getSavedTransactionMeta)(e,t);return!(!r&&!t.stateHandle)}function p(){return p=(0,i.default)(o.default.mark((function e(t){var r,n,a,i,l=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:{},d(t,r)){e.next=3;break}throw new c.AuthSdkError("Unable to proceed: saved transaction could not be loaded");case 3:return n=r.flow,a=r.state,n||(i=(0,s.getSavedTransactionMeta)(t,{state:a}),n=null==i?void 0:i.flow),e.abrupt("return",(0,u.run)(t,f(f({},r),{},{flow:n})));case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}},9214:function(e,t,r){"use strict";var n=r(5318);t.recoverPassword=function(e){return f.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(4819),s=r(8306);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(){return f=(0,i.default)(o.default.mark((function e(t){var r,n,a=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=(0,s.getFlowSpecification)(t,"recoverPassword"),e.abrupt("return",(0,u.run)(t,l(l({},r),n)));case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},8826:function(e,t,r){"use strict";var n=r(5318);t.register=function(e){return h.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(4819),s=r(2620),c=r(2473),l=r(5728),f=r(2852);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){return h=(0,i.default)(o.default.mark((function e(t){var r,n,a,i,d=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},(0,s.hasSavedInteractionHandle)(t)){e.next=13;break}return e.next=4,(0,c.startTransaction)(t,p(p({},r),{},{flow:"register",autoRemediate:!1}));case 4:if(n=e.sent,a=n.enabledFeatures,i=n.availableSteps,r.activationToken||!a||a.includes(f.IdxFeature.REGISTRATION)){e.next=10;break}throw new l.AuthSdkError("Registration is not supported based on your current org configuration.");case 10:if(!r.activationToken||null==i||!i.some((function(e){return"identify"===e.name}))){e.next=13;break}throw new l.AuthSdkError("activationToken is not supported based on your current org configuration.");case 13:return e.abrupt("return",(0,u.run)(t,p(p({},r),{},{flow:"register"})));case 14:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}},201:function(e,t,r){"use strict";var n=r(5318);t.remediate=m;var o=n(r(7757)),a=n(r(8)),i=n(r(319)),u=n(r(8926)),s=n(r(9713)),c=r(5728),l=r(5031);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){return Object.keys(t.actions).find((function(t){return!!e.resend&&t.includes("-resend")}))}function y(e){return h(h({},e),{},{resend:void 0})}function g(e,t){var r=e.actions||[];return r=r.filter((function(e){return"string"==typeof e?e!==t:e.name!==t})),h(h({},e),{},{actions:r})}function m(e,t,r,n){return b.apply(this,arguments)}function b(){return(b=(0,u.default)(o.default.mark((function e(t,r,n,u){var s,d,p,b,O,k,w,S,E,T,P,_,j,A,x,R,M;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=(s=r).neededToProceed,p=s.interactionCode,b=u.flow,!p){e.next=4;break}return e.abrupt("return",{idxResponse:r});case 4:if(O=(0,l.getRemediator)(d,n,u),k=v(n,r),w=u.actions||[],!(S=[].concat((0,i.default)(w),(0,i.default)(k&&[k]||[])))){e.next=28;break}E=f(S),e.prev=10,P=o.default.mark((function e(){var a,i,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=T.value,i={},"string"!=typeof a&&(i=a.params||{},a=a.name),s=y(n),c=g(u,a),"function"!=typeof r.actions[a]){e.next=19;break}return e.prev=6,e.next=9,r.actions[a](i);case 9:r=h(h({},r=e.sent),{},{requestDidSucceed:!0}),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",{v:(0,l.handleIdxError)(t,e.t0,O)});case 16:if("cancel"!==a){e.next=18;break}return e.abrupt("return",{v:{idxResponse:r,canceled:!0}});case 18:return e.abrupt("return",{v:m(t,r,s,c)});case 19:if(!d.find((function(e){return e.name===a}))){e.next=32;break}return e.prev=21,e.next=24,r.proceed(a,i);case 24:r=h(h({},r=e.sent),{},{requestDidSucceed:!0}),e.next=31;break;case 28:return e.prev=28,e.t1=e.catch(21),e.abrupt("return",{v:(0,l.handleIdxError)(t,e.t1,O)});case 31:return e.abrupt("return",{v:m(t,r,n,c)});case 32:case"end":return e.stop()}}),e,null,[[6,13],[21,28]])})),E.s();case 13:if((T=E.n()).done){e.next=20;break}return e.delegateYield(P(),"t0",15);case 15:if(_=e.t0,"object"!==(0,a.default)(_)){e.next=18;break}return e.abrupt("return",_.v);case 18:e.next=13;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(10),E.e(e.t1);case 25:return e.prev=25,E.f(),e.finish(25);case 28:if(j=(0,l.isTerminalResponse)(r),A=(0,l.getMessagesFromResponse)(r),!j){e.next=32;break}return e.abrupt("return",{idxResponse:r,terminal:j,messages:A});case 32:if(O){e.next=49;break}if(!u.step){e.next=46;break}return n=(0,l.filterValuesForRemediation)(r,u.step,n),e.prev=35,e.next=38,r.proceed(u.step,n);case 38:return r=h(h({},r=e.sent),{},{requestDidSucceed:!0}),e.abrupt("return",{idxResponse:r});case 43:return e.prev=43,e.t2=e.catch(35),e.abrupt("return",(0,l.handleIdxError)(t,e.t2));case 46:if("default"!==b){e.next=48;break}return e.abrupt("return",{idxResponse:r});case 48:throw new c.AuthSdkError("\n      No remediation can match current flow, check policy settings in your org.\n      Remediations: [".concat(d.reduce((function(e,t){return e?e+" ,"+t.name:t.name}),""),"]\n    "));case 49:if(O.canRemediate()){e.next=52;break}return x=(0,l.getNextStep)(t,O,r),e.abrupt("return",{idxResponse:r,nextStep:x,messages:A.length?A:void 0});case 52:return R=O.getName(),M=O.getData(),e.prev=54,e.next=57,r.proceed(R,M);case 57:return r=h(h({},r=e.sent),{},{requestDidSucceed:!0}),n=O.getValuesAfterProceed(),u=h(h({},u),{},{step:void 0}),e.abrupt("return",m(t,r,n,u));case 64:return e.prev=64,e.t3=e.catch(54),e.abrupt("return",(0,l.handleIdxError)(t,e.t3,O));case 67:case"end":return e.stop()}}),e,null,[[10,22,25,28],[35,43],[54,64]])})))).apply(this,arguments)}},2541:function(e,t,r){"use strict";var n=r(5318);t.AuthenticatorEnrollmentData=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(6525)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754)),l=n(r(9713)),f=r(4794),d=r(6064);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){(0,u.default)(l,e);var t,r,n=(t=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function l(){return(0,o.default)(this,l),n.apply(this,arguments)}return(0,a.default)(l,[{key:"mapAuthenticator",value:function(){var e=this.getAuthenticatorData();return{id:(0,d.getAuthenticatorFromRemediation)(this.remediation).form.value.find((function(e){return"id"===e.name})).value,methodType:e.methodType,phoneNumber:e.phoneNumber}}},{key:"getInputAuthenticator",value:function(e){return[{name:"methodType",type:"string"},{name:"phoneNumber",label:"Phone Number",type:"string"}].map((function(t){return h(h({},e.form.value.find((function(e){return e.name===t.name}))),t)}))}},{key:"mapAuthenticatorDataFromValues",value:function(e){e=(0,i.default)((0,c.default)(l.prototype),"mapAuthenticatorDataFromValues",this).call(this,e);var t=this.values.phoneNumber;if(e||t)return h(h({},e&&e),t&&{phoneNumber:t})}}]),l}(f.AuthenticatorData);t.AuthenticatorEnrollmentData=v,(0,l.default)(v,"remediationName","authenticator-enrollment-data")},5278:function(e,t,r){"use strict";var n=r(5318);t.AuthenticatorVerificationData=void 0;var o=n(r(319)),a=n(r(4575)),i=n(r(3913)),u=n(r(1506)),s=n(r(6525)),c=n(r(2205)),l=n(r(8585)),f=n(r(9754)),d=n(r(9713)),p=r(5728);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){(0,c.default)(h,e);var t,r,n=(t=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,f.default)(t);if(r){var o=(0,f.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.default)(this,e)});function h(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.default)(this,h),t=n.call(this,e,r),(0,d.default)((0,u.default)(t),"shouldProceedWithEmailAuthenticator",void 0),t.shouldProceedWithEmailAuthenticator=!1!==o.shouldProceedWithEmailAuthenticator&&1===t.authenticator.methods.length&&"email"===t.authenticator.methods[0].type,t}return(0,i.default)(h,[{key:"canRemediate",value:function(){return!1!==this.shouldProceedWithEmailAuthenticator||(0,s.default)((0,f.default)(h.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(){var e;return!1!==this.shouldProceedWithEmailAuthenticator?null===(e=this.getAuthenticatorFromRemediation().form)||void 0===e?void 0:e.value.reduce((function(e,t){if(t.value)e[t.name]=t.value;else{if(!t.options)throw new p.AuthSdkError("Unsupported authenticator data type: ".concat(t));e[t.name]=t.options[0].value}return e}),{}):this.getAuthenticatorData()}},{key:"getInputAuthenticator",value:function(){var e=this.getAuthenticatorFromRemediation(),t=e.form.value.find((function(e){return"methodType"===e.name}));return t&&t.options?{name:"methodType",type:"string",required:!0,options:t.options}:(0,o.default)(e.form.value)}},{key:"getValuesAfterProceed",value:function(){var e=this;return this.values=(0,s.default)((0,f.default)(h.prototype),"getValuesAfterProceed",this).call(this),Object.keys(this.values).filter((function(e){return"authenticator"!==e})).reduce((function(t,r){return v(v({},t),{},(0,d.default)({},r,e.values[r]))}),{})}}]),h}(r(4794).AuthenticatorData);t.AuthenticatorVerificationData=y,(0,d.default)(y,"remediationName","authenticator-verification-data")},4794:function(e,t,r){"use strict";var n=r(5318);t.AuthenticatorData=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(1506)),u=n(r(6525)),s=n(r(2205)),c=n(r(8585)),l=n(r(9754)),f=n(r(9713)),d=r(3118),p=r(1642),h=r(9344);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){(0,s.default)(d,e);var t,r,n=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(t);if(r){var o=(0,l.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function d(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,d),t=n.call(this,e,r),(0,f.default)((0,i.default)(t),"authenticator",void 0),t.authenticator=t.getAuthenticator(),t.formatAuthenticatorData(),t}return(0,a.default)(d,[{key:"formatAuthenticatorData",value:function(){var e=this;if(this.getAuthenticatorData())this.values.authenticatorsData=this.values.authenticatorsData.map((function(t){return(0,h.compareAuthenticators)(e.authenticator,t)?e.mapAuthenticatorDataFromValues(t):t}));else{var t=this.mapAuthenticatorDataFromValues();t&&this.values.authenticatorsData.push(t)}}},{key:"getAuthenticatorData",value:function(){var e=this;return this.values.authenticatorsData.find((function(t){return(0,h.compareAuthenticators)(e.authenticator,t)}))}},{key:"canRemediate",value:function(){var e=this;return this.values.authenticatorsData.some((function(t){return(0,h.compareAuthenticators)(e.authenticator,t)}))}},{key:"getNextStep",value:function(e){var t=(0,u.default)((0,l.default)(d.prototype),"getNextStep",this).call(this,e),r=this.getMethodTypes();return y(y({},t),r&&{options:r})}},{key:"mapAuthenticatorDataFromValues",value:function(e){var t=this.values,r=t.methodType,n=t.authenticator;!r&&(0,p.isAuthenticator)(n)&&(r=null==n?void 0:n.methodType);var o=this.authenticator,a=y(y({id:o.id,enrollmentId:o.enrollmentId},e&&e),r&&{methodType:r});return a.methodType?a:null}},{key:"getAuthenticatorFromRemediation",value:function(){return this.remediation.value.find((function(e){return"authenticator"===e.name}))}},{key:"getMethodTypes",value:function(){var e;return null===(e=this.getAuthenticatorFromRemediation().form.value.find((function(e){return"methodType"===e.name})))||void 0===e?void 0:e.options}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=(0,u.default)((0,l.default)(d.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticatorsData.filter((function(t){return!0!==(0,h.compareAuthenticators)(e.authenticator,t)}));return y(y({},this.values),{},{authenticatorsData:t})}}]),d}(d.Remediator);t.AuthenticatorData=g},3118:function(e,t,r){"use strict";var n=r(5318);t.Remediator=void 0;var o=n(r(319)),a=n(r(8)),i=n(r(4575)),u=n(r(3913)),s=n(r(9713)),c=r(6064),l=r(9344);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(this,e),(0,s.default)(this,"remediation",void 0),(0,s.default)(this,"values",void 0),(0,s.default)(this,"options",void 0),(0,s.default)(this,"map",void 0),this.values=p({},r),this.options=p({},n),this.formatAuthenticators(),this.remediation=t}return(0,u.default)(e,[{key:"formatAuthenticators",value:function(){if(this.values.authenticators=this.values.authenticators||[],this.values.authenticators=this.values.authenticators.map((function(e){return(0,l.formatAuthenticator)(e)})),this.values.authenticator){var e=(0,l.formatAuthenticator)(this.values.authenticator);this.values.authenticators.some((function(t){return(0,l.compareAuthenticators)(e,t)}))||this.values.authenticators.push(e)}this.values.authenticatorsData=this.values.authenticators.reduce((function(e,t){return"object"===(0,a.default)(t)&&Object.keys(t).length>1&&e.push(t),e}),this.values.authenticatorsData||[])}},{key:"getName",value:function(){return this.remediation.name}},{key:"canRemediate",value:function(){var e=this;return!(0,c.getRequiredValues)(this.remediation).find((function(t){return!e.hasData(t)}))}},{key:"getData",value:function(e){var t=this;if(!e){var r=(0,c.getAllValues)(this.remediation).reduce((function(e,r){return e[r]=t.getData(r),e}),{});return r}if("function"==typeof this["map".concat((0,c.titleCase)(e))]){var n=this["map".concat((0,c.titleCase)(e))](this.remediation.value.find((function(t){return t.name===e})));if(n)return n}if(this.map&&this.map[e])for(var o=this.map[e],a=0;a<o.length;a++){var i=this.values[o[a]];if(i)return i}return this.values[e]}},{key:"hasData",value:function(e){return!!this.getData(e)}},{key:"getNextStep",value:function(e,t){var r=this.getName(),n=this.getInputs(),o=this.getAuthenticator(),a=null==o?void 0:o.type;return p(p({name:r,inputs:n},a&&{type:a}),o&&{authenticator:o})}},{key:"getInputs",value:function(){var e=this,t=[];return(this.remediation.value||[]).forEach((function(r){var n,o=r.name,a=r.type,i=r.visible,u=r.messages;if(!1!==i){if("function"==typeof e["getInput".concat((0,c.titleCase)(o))])n=e["getInput".concat((0,c.titleCase)(o))](r);else if("object"!==a){var s,l=(e.map?e.map[o]:null)||[];s=1===l.length?l[0]:l.find((function(t){return Object.keys(e.values).includes(t)})),s&&(n=p(p({},r),{},{name:s}))}n||(n=r),Array.isArray(n)?n.forEach((function(e){return t.push(e)})):(u&&(n.messages=u),t.push(n))}})),t}},{key:"getValuesAfterProceed",value:function(){var e,t=this.remediation.value||[],r=this.getInputs(),n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}([].concat((0,o.default)(t),(0,o.default)(r)));try{for(n.s();!(e=n.n()).done;){var a=e.value;delete this.values[a.name]}}catch(e){n.e(e)}finally{n.f()}return this.values}},{key:"getAuthenticator",value:function(){var e,t,r=null===(e=this.remediation.relatesTo)||void 0===e?void 0:e.value;if(r){var n=(0,c.getAuthenticatorFromRemediation)(this.remediation);if(!n)return r;var o=n.form.value.find((function(e){return"id"===e.name})).value,a=null===(t=n.form.value.find((function(e){return"enrollmentId"===e.name})))||void 0===t?void 0:t.value;return p(p({},r),{},{id:o,enrollmentId:a})}}}],[{key:"getMessages",value:function(e){var t,r;if(e.value)return null===(t=e.value[0])||void 0===t||null===(r=t.form)||void 0===r?void 0:r.value.reduce((function(e,t){return t.messages&&(e=[].concat((0,o.default)(e),(0,o.default)(t.messages.value))),e}),[])}}]),e}();t.Remediator=h,(0,s.default)(h,"remediationName",void 0)},9164:function(e,t,r){"use strict";var n=r(5318);t.SelectAuthenticator=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(1506)),u=n(r(6525)),s=n(r(2205)),c=n(r(8585)),l=n(r(9754)),f=n(r(9713)),d=r(3118),p=r(6064),h=r(1642),v=r(9344);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){(0,s.default)(d,e);var t,r,n=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(t);if(r){var o=(0,l.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function d(){var e;(0,o.default)(this,d);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,f.default)((0,i.default)(e),"selectedAuthenticator",void 0),(0,f.default)((0,i.default)(e),"selectedOption",void 0),e}return(0,a.default)(d,[{key:"findMatchedOption",value:function(e,t){var r,n,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(e);try{var a=function(){var e=n.value;if(r=t.find((function(t){return t.relatesTo.key===e.key})))return"break"};for(o.s();!(n=o.n()).done&&"break"!==a(););}catch(e){o.e(e)}finally{o.f()}return r}},{key:"canRemediate",value:function(){var e=this.values,t=e.authenticators,r=e.authenticator,n=(0,p.getAuthenticatorFromRemediation)(this.remediation).options;return!!(t&&t.length&&((0,h.isAuthenticator)(r)&&r.id||this.findMatchedOption(t,n)))}},{key:"getNextStep",value:function(e){var t=(0,u.default)((0,l.default)(d.prototype),"getNextStep",this).call(this,e),r=(0,p.getAuthenticatorFromRemediation)(this.remediation).options.map((function(e){var t=e;return{label:t.label,value:t.relatesTo.key}}));return g(g({},t),{},{options:r})}},{key:"mapAuthenticator",value:function(e){var t=this.values,r=t.authenticators,n=t.authenticator;if((0,h.isAuthenticator)(n)&&n.id)return this.selectedAuthenticator=n,n;var o=e.options,a=(0,v.findMatchedOption)(r,o);return this.selectedAuthenticator=a.relatesTo,this.selectedOption=a,{id:null==a?void 0:a.value.form.value.find((function(e){return"id"===e.name})).value}}},{key:"getInputAuthenticator",value:function(e){return{name:"authenticator",type:"string",options:e.options.map((function(e){return{label:e.label,value:e.relatesTo.key}}))}}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=(0,u.default)((0,l.default)(d.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticators.filter((function(t){return!0!==(0,v.compareAuthenticators)(t,e.selectedAuthenticator)}));return g(g({},this.values),{},{authenticators:t})}}]),d}(d.Remediator);t.SelectAuthenticator=b},7555:function(e,t,r){"use strict";var n=r(5318);t.VerifyAuthenticator=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(1506)),u=n(r(6525)),s=n(r(2205)),c=n(r(8585)),l=n(r(9754)),f=n(r(9713)),d=r(3118),p=r(8220);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){(0,s.default)(d,e);var t,r,n=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(t);if(r){var o=(0,l.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function d(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,d),t=n.call(this,e,r),(0,f.default)((0,i.default)(t),"authenticator",void 0),t.authenticator=(0,p.getAuthenticator)(e),t}return(0,a.default)(d,[{key:"getNextStep",value:function(e,t){var r,n=(0,u.default)((0,l.default)(d.prototype),"getNextStep",this).call(this,e,t),o=null==t||null===(r=t.authenticatorEnrollments)||void 0===r?void 0:r.value;return v(v({},n),{},{authenticatorEnrollments:o})}},{key:"canRemediate",value:function(){return this.authenticator.canVerify(this.values)}},{key:"mapCredentials",value:function(){return this.authenticator.mapCredentials(this.values)}},{key:"getInputCredentials",value:function(e){return this.authenticator.getInputs(e)}},{key:"getValuesAfterProceed",value:function(){var e=this;return this.values=(0,u.default)((0,l.default)(d.prototype),"getValuesAfterProceed",this).call(this),Object.keys(this.values).filter((function(e){return"credentials"!==e})).reduce((function(t,r){return v(v({},t),{},(0,f.default)({},r,e.values[r]))}),{})}}]),d}(d.Remediator);t.VerifyAuthenticator=y},4560:function(e,t,r){"use strict";var n=r(5318);t.ChallengeAuthenticator=void 0;var o=n(r(4575)),a=n(r(2205)),i=n(r(8585)),u=n(r(9754)),s=n(r(9713));var c=function(e){(0,a.default)(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(t);if(r){var o=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.default)(this,e)});function s(){return(0,o.default)(this,s),n.apply(this,arguments)}return s}(r(7555).VerifyAuthenticator);t.ChallengeAuthenticator=c,(0,s.default)(c,"remediationName","challenge-authenticator")},1104:function(e,t,r){"use strict";var n=r(5318);t.ChallengePoll=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));var l=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canRemediate",value:function(){return!!this.values.startPolling||"challenge-poll"===this.options.step}}]),c}(r(2288).EnrollPoll);t.ChallengePoll=l,(0,c.default)(l,"remediationName","challenge-poll")},3857:function(e,t,r){"use strict";var n=r(5318);t.EnrollAuthenticator=void 0;var o=n(r(4575)),a=n(r(2205)),i=n(r(8585)),u=n(r(9754)),s=n(r(9713));var c=function(e){(0,a.default)(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(t);if(r){var o=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.default)(this,e)});function s(){return(0,o.default)(this,s),n.apply(this,arguments)}return s}(r(7555).VerifyAuthenticator);t.EnrollAuthenticator=c,(0,s.default)(c,"remediationName","enroll-authenticator")},2288:function(e,t,r){"use strict";var n=r(5318);t.EnrollPoll=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(6525)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754)),l=n(r(9713));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){(0,u.default)(f,e);var t,r,n=(t=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function f(){return(0,o.default)(this,f),n.apply(this,arguments)}return(0,a.default)(f,[{key:"canRemediate",value:function(){return!!this.values.startPolling||"enroll-poll"===this.options.step}},{key:"getNextStep",value:function(e,t){var r=(0,i.default)((0,c.default)(f.prototype),"getNextStep",this).call(this,e,t),n=this.getAuthenticator();return!n&&null!=t&&t.currentAuthenticator&&(n=t.currentAuthenticator.value),d(d({},r),{},{authenticator:n,poll:{required:!0,refresh:this.remediation.refresh}})}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter((function(e){return"startPolling"!==e})).reduce((function(t,r){return d(d({},t),{},(0,l.default)({},r,e.values[r]))}),{})}}]),f}(r(3118).Remediator);t.EnrollPoll=p,(0,l.default)(p,"remediationName","enroll-poll")},7522:function(e,t,r){"use strict";var n=r(5318);t.EnrollProfile=void 0;var o=n(r(319)),a=n(r(4575)),i=n(r(3913)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754)),l=n(r(9713));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){(0,u.default)(f,e);var t,r,n=(t=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function f(){return(0,a.default)(this,f),n.apply(this,arguments)}return(0,i.default)(f,[{key:"canRemediate",value:function(){var e=this.getData().userProfile;return!!e&&this.remediation.value.find((function(e){return"userProfile"===e.name})).form.value.reduce((function(t,r){return r.required&&(t=t&&!!e[r.name]),t}),!0)}},{key:"mapUserProfile",value:function(e){var t=this,r=e.form.value.map((function(e){return e.name})).reduce((function(e,r){return t.values[r]?d(d({},e),{},(0,l.default)({},r,t.values[r])):e}),{});if(0!==Object.keys(r).length)return r}},{key:"getInputUserProfile",value:function(e){return(0,o.default)(e.form.value)}},{key:"getErrorMessages",value:function(e){return e.value[0].form.value.reduce((function(e,t){return t.messages&&e.push(t.messages.value[0].message),e}),[])}}]),f}(r(3118).Remediator);t.EnrollProfile=p,(0,l.default)(p,"remediationName","enroll-profile")},3679:function(e,t,r){"use strict";var n=r(5318);t.EnrollmentChannelData=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(6525)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754)),l=n(r(9713));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){(0,u.default)(f,e);var t,r,n=(t=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function f(){return(0,o.default)(this,f),n.apply(this,arguments)}return(0,a.default)(f,[{key:"getInputEmail",value:function(){return[{name:"email",type:"string",required:!0,label:"Email"}]}},{key:"getInputPhoneNumber",value:function(){return[{name:"phoneNumber",type:"string",required:!0,label:"Phone Number"}]}},{key:"canRemediate",value:function(){return Boolean(this.values.email||this.values.phoneNumber)}},{key:"getNextStep",value:function(e,t){var r=(0,i.default)((0,c.default)(f.prototype),"getNextStep",this).call(this,e,t),n=t.currentAuthenticator.value;return d(d({},r),{},{authenticator:n})}},{key:"getData",value:function(){return{stateHandle:this.values.stateHandle,email:this.values.email,phoneNumber:this.values.phoneNumber}}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter((function(e){return!["email","phoneNumber"].includes(e)})).reduce((function(t,r){return d(d({},t),{},(0,l.default)({},r,e.values[r]))}),{})}}]),f}(r(3118).Remediator);t.EnrollmentChannelData=p,(0,l.default)(p,"remediationName","enrollment-channel-data")},784:function(e,t,r){"use strict";var n=r(5318);t.GenericRemediator=void 0;var o=n(r(7757)),a=n(r(8926)),i=n(r(9713)),u=n(r(6479)),s=n(r(4575)),c=n(r(3913)),l=n(r(2205)),f=n(r(8585)),d=n(r(9754)),p=r(3118),h=r(2863),v=r(2845),y=["href","method","rel","accepts","produces","value","action"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e){(0,l.default)(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.default)(t);if(r){var o=(0,d.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,f.default)(this,e)});function i(){return(0,s.default)(this,i),n.apply(this,arguments)}return(0,c.default)(i,[{key:"canRemediate",value:function(){var e=this;return"function"==typeof this.remediation.action&&this.getInputs().reduce((function(t,r){return t&&(0,h.hasValidInputValue)(r,e.values)}),!0)}},{key:"getData",value:function(){var e=this;return this.getInputs().reduce((function(t,r){var n=r.name;return t[n]=e.values[n],t}),{})}},{key:"getNextStep",value:function(e,t){var r,n=this.getName(),i=this.getInputs(),s=this.remediation,c=(s.href,s.method,s.rel,s.accepts,s.produces,s.value,s.action),l=(0,u.default)(s,y);return c?m(m(m({},l),!!i.length&&{inputs:i}),{},{action:(r=(0,a.default)(o.default.mark((function t(r){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.proceed)(e,m({step:n},r)));case 1:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})}):m({},this.remediation)}},{key:"getInputs",value:function(){return(this.remediation.value||[]).filter((function(e){return"stateHandle"!==e.name})).map(h.unwrapFormValue).map((function(e){return e.type=e.type||"string",e}))}}]),i}(p.Remediator);t.GenericRemediator=b},6790:function(e,t,r){"use strict";var n=r(784);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},2863:function(e,t,r){"use strict";var n=r(5318);t.unwrapFormValue=function e(t){for(var r={},n=0,i=Object.entries(t);n<i.length;n++){var u=(0,a.default)(i[n],2),s=u[0],c=u[1];if(null!=c)if(Array.isArray(c))r[s]=c.map(e);else if("object"===(0,o.default)(c)){var l=Object.keys(c);if(["value","form"].includes(s)&&1===l.length&&["value","form"].includes(l[0])){var f=e(c);Object.entries(f).forEach((function(e){var t=(0,a.default)(e,2),n=t[0],o=t[1];r[n]=o}))}else r[s]=e(c)}else r[s]=c}return r},t.hasValidInputValue=function(e,t){return function e(t,r,n){var o=t.name,a=t.value,u=t.type,s=t.options,c=t.required,l=c||n;if(Array.isArray(a))return a.reduce((function(t,n){return t&&e(n,r[o],l)}),!0);if(s){if("object"===u){var f=r[o];if(null==f||!f.id)return!1;var d=s.find((function(e){return e.value.find((function(e){return"id"===e.name})).value===f.id}));return!!d&&d.value.filter((function(e){return!!e.required})).reduce((function(e,t){var r=t.name;return e&&!!f[r]}),!0)}if(!1===c)return!0;if(!0===c)return!!r[o];throw new i.AuthSdkError("Unknown options type, ".concat(JSON.stringify(t)))}return!l||!(!r||!r[o])}(e,t,!1)};var o=n(r(8)),a=n(r(3038)),i=r(5728)},8628:function(e,t,r){"use strict";var n=r(5318);t.Identify=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(1506)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754)),l=n(r(9713));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){(0,u.default)(f,e);var t,r,n=(t=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function f(){var e;(0,o.default)(this,f);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,l.default)((0,i.default)(e),"map",{identifier:["username"]}),e}return(0,a.default)(f,[{key:"canRemediate",value:function(){return!!this.getData().identifier}},{key:"mapCredentials",value:function(){var e=this.values,t=e.credentials,r=e.password;if(t||r)return t||{passcode:r}}},{key:"getInputCredentials",value:function(e){return d(d({},e.form.value[0]),{},{name:"password",required:e.required})}}]),f}(r(3118).Remediator);t.Identify=p,(0,l.default)(p,"remediationName","identify")},9024:function(e,t,r){"use strict";var n=r(5318);t.ReEnrollAuthenticator=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"mapCredentials",value:function(){var e=this.values.newPassword;if(e)return{passcode:e}}},{key:"getInputCredentials",value:function(e){var t="password"===this.getAuthenticator().type?"newPassword":"verificationCode";return f(f({},e.form.value[0]),{},{name:t})}}]),c}(r(3118).Remediator);t.ReEnrollAuthenticator=d,(0,c.default)(d,"remediationName","reenroll-authenticator")},8490:function(e,t,r){"use strict";var n=r(5318);t.RedirectIdp=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));var l=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canRemediate",value:function(){return!1}},{key:"getNextStep",value:function(){var e=this.remediation;return{name:e.name,type:e.type,idp:e.idp,href:e.href}}}]),c}(r(3118).Remediator);t.RedirectIdp=l,(0,c.default)(l,"remediationName","redirect-idp")},1019:function(e,t,r){"use strict";var n=r(5318);t.ResetAuthenticator=void 0;var o=n(r(4575)),a=n(r(2205)),i=n(r(8585)),u=n(r(9754)),s=n(r(9713));var c=function(e){(0,a.default)(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(t);if(r){var o=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.default)(this,e)});function s(){return(0,o.default)(this,s),n.apply(this,arguments)}return s}(r(7555).VerifyAuthenticator);t.ResetAuthenticator=c,(0,s.default)(c,"remediationName","reset-authenticator")},7311:function(e,t,r){"use strict";var n=r(5318);t.SelectAuthenticatorAuthenticate=void 0;var o=n(r(319)),a=n(r(4575)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713)),l=r(9164),f=r(6064),d=r(1642);var p=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,a.default)(this,c);var s="recoverPassword"===(r=n.call(this,e,i,u)).options.flow,l=null===(t=(0,f.getAuthenticatorFromRemediation)(e).options)||void 0===t?void 0:t.some((function(e){var t=e.relatesTo;return(null==t?void 0:t.key)===d.AuthenticatorKey.OKTA_PASSWORD}));return l&&(s||r.values.password)&&(r.values.authenticators=[].concat((0,o.default)(r.values.authenticators||[]),[{key:d.AuthenticatorKey.OKTA_PASSWORD}])),r}return c}(l.SelectAuthenticator);t.SelectAuthenticatorAuthenticate=p,(0,c.default)(p,"remediationName","select-authenticator-authenticate")},9865:function(e,t,r){"use strict";var n=r(5318);t.SelectAuthenticatorEnroll=void 0;var o=n(r(4575)),a=n(r(2205)),i=n(r(8585)),u=n(r(9754)),s=n(r(9713));var c=function(e){(0,a.default)(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(t);if(r){var o=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.default)(this,e)});function s(){return(0,o.default)(this,s),n.apply(this,arguments)}return s}(r(9164).SelectAuthenticator);t.SelectAuthenticatorEnroll=c,(0,s.default)(c,"remediationName","select-authenticator-enroll")},5272:function(e,t,r){"use strict";var n=r(5318);t.SelectAuthenticatorUnlockAccount=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(1506)),u=n(r(6525)),s=n(r(2205)),c=n(r(8585)),l=n(r(9754)),f=n(r(9713));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){(0,s.default)(d,e);var t,r,n=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.default)(t);if(r){var o=(0,l.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function d(){var e;(0,o.default)(this,d);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,f.default)((0,i.default)(e),"authenticator",void 0),(0,f.default)((0,i.default)(e),"map",{identifier:["username"]}),e}return(0,a.default)(d,[{key:"canRemediate",value:function(){return!!this.getData("identifier")&&(0,u.default)((0,l.default)(d.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(e){var t,r,n,o=(0,u.default)((0,l.default)(d.prototype),"mapAuthenticator",this).call(this,e),a=null===(t=this.selectedOption)||void 0===t?void 0:t.value.form.value.find((function(e){return"methodType"===e.name})),i=this.values.methodType||(null==a?void 0:a.value)||(null==a||null===(r=a.options)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.value);return i?p(p({},o),{},{methodType:i}):o}},{key:"getInputUsername",value:function(){return{name:"username",type:"string"}}}]),d}(r(9164).SelectAuthenticator);t.SelectAuthenticatorUnlockAccount=h,(0,f.default)(h,"remediationName","select-authenticator-unlock-account")},4713:function(e,t,r){"use strict";var n=r(5318);t.SelectEnrollProfile=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));var l=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canRemediate",value:function(){return!0}}]),c}(r(3118).Remediator);t.SelectEnrollProfile=l,(0,c.default)(l,"remediationName","select-enroll-profile")},3403:function(e,t,r){"use strict";var n=r(5318);t.SelectEnrollmentChannel=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(6525)),u=n(r(2205)),s=n(r(8585)),c=n(r(9754)),l=n(r(9713)),f=r(3118),d=r(6064);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){(0,u.default)(f,e);var t,r,n=(t=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.default)(t);if(r){var o=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,s.default)(this,e)});function f(){return(0,o.default)(this,f),n.apply(this,arguments)}return(0,a.default)(f,[{key:"canRemediate",value:function(){return Boolean(this.values.channel)}},{key:"getNextStep",value:function(e,t){var r=(0,i.default)((0,c.default)(f.prototype),"getNextStep",this).call(this,e,t),n=this.getChannels(),o=t.currentAuthenticator.value;return h(h(h({},r),n&&{options:n}),{},{authenticator:o})}},{key:"getChannels",value:function(){var e;return null===(e=(0,d.getAuthenticatorFromRemediation)(this.remediation).value.form.value.find((function(e){return"channel"===e.name})))||void 0===e?void 0:e.options}},{key:"getData",value:function(){return{authenticator:{id:this.remediation.value[0].value.form.value[0].value,channel:this.values.channel},stateHandle:this.values.stateHandle}}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter((function(e){return"channel"!==e})).reduce((function(t,r){return h(h({},t),{},(0,l.default)({},r,e.values[r]))}),{})}}]),f}(f.Remediator);t.SelectEnrollmentChannel=v,(0,l.default)(v,"remediationName","select-enrollment-channel")},8443:function(e,t,r){"use strict";var n=r(5318);t.Skip=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(2205)),u=n(r(8585)),s=n(r(9754)),c=n(r(9713));var l=function(e){(0,i.default)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.default)(t);if(r){var o=(0,s.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function c(){return(0,o.default)(this,c),n.apply(this,arguments)}return(0,a.default)(c,[{key:"canRemediate",value:function(){return!!this.values.skip||"skip"===this.options.step}}]),c}(r(3118).Remediator);t.Skip=l,(0,c.default)(l,"remediationName","skip")},8275:function(e,t,r){"use strict";var n=r(3118);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(3857);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(2288);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(3403);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=r(3679);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=r(4560);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=r(1104);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=r(1019);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=r(7522);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var d=r(8628);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=r(9024);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=r(8490);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v=r(7311);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=r(9865);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var g=r(5272);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var m=r(4713);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var b=r(5278);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var O=r(2541);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var k=r(8443);Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var w=r(6790);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}))},6064:function(e,t){"use strict";t.getAllValues=function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.map((function(e){return e.name}))},t.getRequiredValues=function(e){var t;return null===(t=e.value)||void 0===t?void 0:t.reduce((function(e,t){return t.required&&e.push(t.name),e}),[])},t.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substring(1)},t.getAuthenticatorFromRemediation=function(e){return e.value.find((function(e){return"authenticator"===e.name}))}},4819:function(e,t,r){"use strict";var n=r(5318);t.run=function(e){return j.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=n(r(9713)),u=r(6131),s=r(2660),c=r(201),l=r(8306),f=r(2852),d=r(480),p=r(2620),h=r(5031);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=y({},e);return["flow","remediators","actions","withCredentials","step","shouldProceedWithEmailAuthenticator"].forEach((function(e){delete t[e]})),t}function m(e,t){var r,n=t.options,o=n.flow,a=n.withCredentials,i=n.remediators,u=n.actions,s=n.useGenericRemediator,c=f.IdxStatus.PENDING;if(o=o||e.idx.getFlow()||"default"){e.idx.setFlow(o);var d=(0,l.getFlowSpecification)(e,o);a=void 0!==a?a:d.withCredentials,i=i||d.remediators,u=u||d.actions}return s=s||(null===(r=e.options.idx)||void 0===r?void 0:r.useGenericRemediator)||!1,y(y({},t),{},{options:y(y({},n),{},{flow:o,withCredentials:a,remediators:i,actions:u,useGenericRemediator:s}),status:c})}function b(e,t){return O.apply(this,arguments)}function O(){return(O=(0,a.default)(o.default.mark((function e(t,r){var n,a,i,c,l,f,d,h,v,g,m,b,O,k;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.options,a=n.stateHandle,i=n.withCredentials,c=n.version,l=n.state,f=n.scopes,d=n.recoveryToken,h=n.activationToken,v=n.maxAge,m=(0,p.getSavedTransactionMeta)(t,{state:l,recoveryToken:d,activationToken:h}),!a){e.next=9;break}return e.next=6,(0,s.introspect)(t,{withCredentials:i,version:c,stateHandle:a});case 6:g=e.sent,e.next=20;break;case 9:if(O=null===(b=m)||void 0===b?void 0:b.interactionHandle){e.next=17;break}return t.transactionManager.clear(),e.next=14,(0,u.interact)(t,{withCredentials:i,state:l,scopes:f,activationToken:h,recoveryToken:d,maxAge:v});case 14:k=e.sent,O=k.interactionHandle,m=k.meta;case 17:return e.next=19,(0,s.introspect)(t,{withCredentials:i,version:c,interactionHandle:O});case 19:g=e.sent;case 20:return e.abrupt("return",y(y({},r),{},{idxResponse:g,meta:m}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return w.apply(this,arguments)}function w(){return(w=(0,a.default)(o.default.mark((function e(t,r){var n,a,i,u,s,l,f,d,p,h,v,g,m,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.idxResponse,a=r.options,i=r.values,u=a.autoRemediate,s=a.remediators,l=a.actions,f=a.flow,d=a.step,p=a.shouldProceedWithEmailAuthenticator,h=a.useGenericRemediator,!1!==u&&(s||l||d)){e.next=5;break}return e.abrupt("return",r);case 5:return i=y(y({},i),{},{stateHandle:n.rawIdxState.stateHandle}),e.next=8,(0,c.remediate)(t,n,i,{remediators:s,actions:l,flow:f,step:d,shouldProceedWithEmailAuthenticator:p,useGenericRemediator:h});case 8:return v=e.sent,g=v.idxResponse,m=v.nextStep,b=v.canceled,n=g,e.abrupt("return",y(y({},r),{},{idxResponse:n,nextStep:m,canceled:b}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return E.apply(this,arguments)}function E(){return(E=(0,a.default)(o.default.mark((function e(t,r){var n,a,i,u,s,c,l,f,d,p,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.meta,a=r.idxResponse,i=a.interactionCode,s=(u=n).clientId,c=u.codeVerifier,l=u.ignoreSignature,f=u.redirectUri,d=u.urls,p=u.scopes,e.next=5,t.token.exchangeCodeForTokens({interactionCode:i,clientId:s,codeVerifier:c,ignoreSignature:l,redirectUri:f,scopes:p},d);case 5:return h=e.sent,e.abrupt("return",h.tokens);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return P.apply(this,arguments)}function P(){return(P=(0,a.default)(o.default.mark((function e(t,r){var n,a,i,u,s,c,l,d,p,v,g,m,b,O,k,w;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.options,a=r.idxResponse,i=r.canceled,u=r.status,s=n.exchangeCodeForTokens,c=!1,l=!1,d=!0,a&&(c=!(!a.requestDidSucceed&&!a.stepUp),g=(0,h.getEnabledFeatures)(a),m=(0,h.getAvailableSteps)(t,a,n.useGenericRemediator),b=(0,h.getMessagesFromResponse)(a),O=(0,h.isTerminalResponse)(a)),!O){e.next=15;break}u=f.IdxStatus.TERMINAL,k=Object.keys(a.actions).length>0,w=!!b.find((function(e){return"ERROR"===e.class})),k||w||!0!==a.requestDidSucceed?c=c&&k:l=!0,d=!1,e.next=32;break;case 15:if(!i){e.next=20;break}u=f.IdxStatus.CANCELED,l=!0,e.next=32;break;case 20:if(null==a||!a.interactionCode){e.next=32;break}if(p=a.interactionCode,!1!==s){e.next=27;break}u=f.IdxStatus.SUCCESS,l=!1,e.next=32;break;case 27:return e.next=29,S(t,r);case 29:v=e.sent,u=f.IdxStatus.SUCCESS,l=!0;case 32:return e.abrupt("return",y(y({},r),{},{status:u,interactionCode:p,tokens:v,shouldSaveResponse:c,shouldClearTransaction:l,clearSharedStorage:d,enabledFeatures:g,availableSteps:m,messages:b,terminal:O}));case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){var r=t.error,n=t.status;t.shouldClearTransaction;if(!(0,d.isIdxResponse)(e))throw e;return r=e,n=f.IdxStatus.FAILURE,!0,y(y({},t),{},{error:r,status:n,shouldClearTransaction:true})}function j(){return j=(0,a.default)(o.default.mark((function e(t){var r,n,a,i,u,s,c,l,f,d,h,v,O,w,S,E,P,j,A,x,R,M,C,D,I,N,U,L,F=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F.length>1&&void 0!==F[1]?F[1]:{},n={options:r,values:g(r)},n=m(t,n),e.prev=3,e.next=6,b(t,n);case 6:return n=e.sent,e.next=9,k(t,n);case 9:n=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),n=_(e.t0,n);case 15:return e.next=17,T(t,n);case 17:return n=e.sent,i=(a=n).idxResponse,u=a.meta,s=a.shouldSaveResponse,c=a.shouldClearTransaction,l=a.clearSharedStorage,f=a.status,d=a.enabledFeatures,h=a.availableSteps,v=a.tokens,O=a.nextStep,w=a.messages,S=a.error,E=a.interactionCode,c?t.transactionManager.clear({clearSharedStorage:l}):((0,p.saveTransactionMeta)(t,y({},u)),s&&(A=(j=i).rawIdxState,x=j.requestDidSucceed,t.transactionManager.saveIdxResponse({rawIdxResponse:A,requestDidSucceed:x,stateHandle:null===(P=i.context)||void 0===P?void 0:P.stateHandle,interactionHandle:null==u?void 0:u.interactionHandle}))),M=(R=i||{}).actions,C=R.context,D=R.neededToProceed,I=R.proceed,N=R.rawIdxState,U=R.requestDidSucceed,L=R.stepUp,e.abrupt("return",y(y(y(y(y(y(y(y(y({status:f},u&&{meta:u}),d&&{enabledFeatures:d}),h&&{availableSteps:h}),v&&{tokens:v}),O&&{nextStep:O}),w&&w.length&&{messages:w}),S&&{error:S}),L&&{stepUp:L}),{},{interactionCode:E,actions:M,context:C,neededToProceed:D,proceed:I,rawIdxState:N,requestDidSucceed:U}));case 22:case"end":return e.stop()}}),e,null,[[3,12]])}))),j.apply(this,arguments)}},2473:function(e,t,r){"use strict";var n=r(5318);t.startTransaction=function(e){return l.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(4819);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){return l=(0,i.default)(o.default.mark((function e(t){var r,n=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},t.transactionManager.clear(),e.abrupt("return",(0,u.run)(t,c({exchangeCodeForTokens:!1},r)));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}},2620:function(e,t,r){"use strict";var n=r(5318);t.createTransactionMeta=f,t.hasSavedInteractionHandle=function(e,t){var r=p(e,t);return!(null==r||!r.interactionHandle)},t.getSavedTransactionMeta=p,t.getTransactionMeta=function(e,t){return h.apply(this,arguments)},t.saveTransactionMeta=function(e,t){e.transactionManager.save(t,{muteWarning:!0})},t.clearTransactionMeta=function(e){e.transactionManager.clear()},t.isTransactionMetaValid=v,t.isTransactionMetaValidForFlow=y,t.isTransactionMetaValidForOptions=g;var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(305),s=r(9443);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){return d.apply(this,arguments)}function d(){return d=(0,i.default)(o.default.mark((function e(t){var r,n,a,i,u,c,f,d,p,h,v,y,g,m,b,O=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O.length>1&&void 0!==O[1]?O[1]:{},e.next=3,t.token.prepareTokenParams(r);case 3:return n=e.sent,a=(0,s.createOAuthMeta)(t,n),i=l(l({},t.options),r),u=i.flow,c=void 0===u?"default":u,f=i.withCredentials,d=void 0===f||f,p=i.activationToken,h=void 0===p?void 0:p,v=i.recoveryToken,y=void 0===v?void 0:v,g=i.maxAge,m=void 0===g?void 0:g,b=l(l({},a),{},{flow:c,withCredentials:d,activationToken:h,recoveryToken:y,maxAge:m}),e.abrupt("return",b);case 8:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(e,t){var r;t=(0,u.removeNils)(t),t=l(l({},e.options),t);try{r=e.transactionManager.load(t)}catch(e){}if(r)return v(r,t)?r:void(0,u.warn)("Saved transaction meta does not match the current configuration. This may indicate that two apps are sharing a storage key.")}function h(){return(h=(0,i.default)(o.default.mark((function e(t,r){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,u.removeNils)(r),r=l(l({},t.options),r),!(n=p(t,r))){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",f(t,r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=["issuer","clientId","redirectUri","state","codeChallenge","codeChallengeMethod","activationToken","recoveryToken"];if(!1===g(e,t,r))return!1;var n=t.flow;return!1!==y(e,n)}function y(e,t){return!(t&&"default"!==t&&"proceed"!==t)||t===e.flow}function g(e,t,r){return!r.some((function(r){var n=t[r];if(n&&n!==e[r])return!0}))}},7595:function(e,t){"use strict";var r,n,o;t.isAuthenticator=function(e){return e&&(e.key||e.id)},t.IdxFeature=t.AuthenticatorKey=t.IdxStatus=void 0,t.IdxStatus=r,function(e){e.SUCCESS="SUCCESS",e.PENDING="PENDING",e.FAILURE="FAILURE",e.TERMINAL="TERMINAL",e.CANCELED="CANCELED"}(r||(t.IdxStatus=r={})),t.AuthenticatorKey=n,function(e){e.OKTA_PASSWORD="okta_password",e.OKTA_EMAIL="okta_email",e.PHONE_NUMBER="phone_number",e.GOOGLE_AUTHENTICATOR="google_otp",e.SECURITY_QUESTION="security_question",e.OKTA_VERIFY="okta_verify",e.WEBAUTHN="webauthn"}(n||(t.AuthenticatorKey=n={})),t.IdxFeature=o,function(e){e.PASSWORD_RECOVERY="recover-password",e.REGISTRATION="enroll-profile",e.SOCIAL_IDP="redirect-idp",e.ACCOUNT_UNLOCK="unlock-account"}(o||(t.IdxFeature=o={}))},480:function(e,t){"use strict";function r(e){return e&&e.version}t.isRawIdxResponse=r,t.isIdxResponse=function(e){return e&&r(e.rawIdxState)}},1642:function(e,t,r){"use strict";var n=r(7595);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(7446);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},7446:function(){},8277:function(e,t,r){"use strict";var n=r(5318);t.unlockAccount=function(e){return h.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(4819),s=r(2620),c=r(2473),l=r(5728),f=r(2852);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){return h=(0,i.default)(o.default.mark((function e(t){var r,n,a,i=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=i.length>1&&void 0!==i[1]?i[1]:{}).flow="unlockAccount",(0,s.hasSavedInteractionHandle)(t)){e.next=9;break}return e.next=5,(0,c.startTransaction)(t,p(p({},r),{},{autoRemediate:!1}));case 5:if(n=e.sent,!(a=n.enabledFeatures)||a.includes(f.IdxFeature.ACCOUNT_UNLOCK)){e.next=9;break}throw new l.AuthSdkError("Self Service Account Unlock is not supported based on your current org configuration.");case 9:return e.abrupt("return",(0,u.run)(t,p({},r)));case 10:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}},5031:function(e,t,r){"use strict";var n=r(5318),o=r(8);t.isTerminalResponse=k,t.canSkipFn=w,t.canResendFn=S,t.getMessagesFromIdxRemediationValue=E,t.getMessagesFromResponse=T,t.getEnabledFeatures=function(e){var t=[],r=e.actions,n=e.neededToProceed;return r["currentAuthenticator-recover"]&&t.push(h.IdxFeature.PASSWORD_RECOVERY),n.some((function(e){return"select-enroll-profile"===e.name}))&&t.push(h.IdxFeature.REGISTRATION),n.some((function(e){return"redirect-idp"===e.name}))&&t.push(h.IdxFeature.SOCIAL_IDP),n.some((function(e){return"unlock-account"===e.name}))&&t.push(h.IdxFeature.ACCOUNT_UNLOCK),t},t.getAvailableSteps=function(e,t,r){var n,o=[],i=Object.values(f).reduce((function(e,t){return t.remediationName&&(e[t.remediationName]=t),e}),{}),c=b(t.neededToProceed);try{for(c.s();!(n=c.n()).done;){var l=n.value,d=P(l,{useGenericRemediator:r,remediators:i});if(d){var h=new d(l);o.push(h.getNextStep(e,t.context))}}}catch(e){c.e(e)}finally{c.f()}for(var v=function(){var t,r=(0,s.default)(g[y],1)[0];o.push({name:r,action:(t=(0,u.default)(a.default.mark((function t(n){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.proceed)(e,{actions:[{name:r,params:n}]}));case 1:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})})},y=0,g=Object.entries(t.actions||{});y<g.length;y++)v();return o},t.filterValuesForRemediation=function(e,t,r){var n=(e.neededToProceed||[]).find((function(e){return e.name===t}));return n?n.value.reduce((function(e,t){var n=t.name,o=t.value;return e[n]="stateHandle"===n?o:r[n],e}),{}):((0,l.warn)('filterValuesForRemediation: "'.concat(t,'" did not match any remediations')),r)},t.getRemediator=function(e,t,r){var n,o=r.remediators,a=r.useGenericRemediator;if(!r.step){var i=[];if(a)i.push(new d.GenericRemediator(e[0],t,r));else{var u,s=b(e);try{for(s.s();!(u=s.n()).done;){var c=u.value;if(Object.keys(o).includes(c.name)){if((n=new(P(c,r))(c,t,r)).canRemediate())return n;i.push(n)}}}catch(e){s.e(e)}finally{s.f()}}return i[0]}var f=e.find((function(e){return e.name===r.step}));if(f){var p=P(f,r);return p?new p(f,t,r):void 0}(0,l.warn)('step "'.concat(r.step,'" did not match any remediations'))},t.getNextStep=_,t.handleIdxError=function(e,t,r){var n=(0,v.isIdxResponse)(t)?t:null;if(!n)throw t;var o=k(n=m(m({},n),{},{requestDidSucceed:!1})),a=T(n);if(o)return{idxResponse:n,terminal:o,messages:a};var i=r&&_(e,r,n);return m({idxResponse:n,messages:a},i&&{nextStep:i})};var a=n(r(7757)),i=n(r(9713)),u=n(r(8926)),s=n(r(3038)),c=n(r(319)),l=r(305),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(8275)),d=r(6790),p=r(2845),h=r(1642),v=r(480);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){var t=e.neededToProceed,r=e.interactionCode;return!t.length&&!r}function w(e){return e.neededToProceed.some((function(e){return"skip"===e.name}))}function S(e){return Object.keys(e.actions).some((function(e){return e.includes("resend")}))}function E(e){if(e&&Array.isArray(e))return e.reduce((function(e,t){if(t.messages&&(e=[].concat((0,c.default)(e),(0,c.default)(t.messages.value))),t.form){var r=E(t.form.value)||[];e=[].concat((0,c.default)(e),(0,c.default)(r))}if(t.options){var n=[];t.options.forEach((function(e){e.value&&"string"!=typeof e.value&&(n=[].concat((0,c.default)(n),[e.value]))}));var o=E(n)||[];e=[].concat((0,c.default)(e),(0,c.default)(o))}return e}),[])}function T(e){var t,r=[],n=e.rawIdxState,o=e.neededToProceed,a=null===(t=n.messages)||void 0===t?void 0:t.value.map((function(e){return e}));a&&(r=[].concat((0,c.default)(r),(0,c.default)(a)));var i,u=b(o);try{for(u.s();!(i=u.n()).done;){var s=E(i.value.value);s&&(r=[].concat((0,c.default)(r),(0,c.default)(s)))}}catch(e){u.e(e)}finally{u.f()}var l={};return r.reduce((function(e,t){var r,n=null===(r=t.i18n)||void 0===r?void 0:r.key;return n&&l[n]?e:(l[n]=t,e=[].concat((0,c.default)(e),[t]))}),[])}function P(e,t){var r=t.useGenericRemediator,n=t.remediators;if(e)return r?d.GenericRemediator:n[e.name]}function _(e,t,r){var n=t.getNextStep(e,r.context),o=w(r),a=S(r);return m(m(m({},n),o&&{canSkip:o}),a&&{canResend:a})}},1237:function(e,t,r){"use strict";t.decodeToken=function(e){var t,r=e.split(".");try{t={header:JSON.parse((0,o.base64UrlToString)(r[0])),payload:JSON.parse((0,o.base64UrlToString)(r[1])),signature:r[2]}}catch(e){throw new n.AuthSdkError("Malformed token")}return t};var n=r(5728),o=r(9718)},2206:function(e,t,r){"use strict";var n=r(5318);t.convertTokenParamsToOAuthParams=c,t.buildAuthorizeParams=function(e){var t=c(e);return(0,a.toQueryString)(s(s({},t),e.extraParams&&s({},e.extraParams)))};var o=n(r(9713)),a=r(305),i=r(5728);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){if(!e.clientId)throw new i.AuthSdkError("A clientId must be specified in the OktaAuth constructor to get a token");if((0,a.isString)(e.responseType)&&-1!==e.responseType.indexOf(" "))throw new i.AuthSdkError("Multiple OAuth responseTypes must be defined as an array");var t={client_id:e.clientId,code_challenge:e.codeChallenge,code_challenge_method:e.codeChallengeMethod,display:e.display,idp:e.idp,idp_scope:e.idpScope,login_hint:e.loginHint,max_age:e.maxAge,nonce:e.nonce,prompt:e.prompt,redirect_uri:e.redirectUri,response_mode:e.responseMode,response_type:e.responseType,sessionToken:e.sessionToken,state:e.state};if(t=(0,a.removeNils)(t),["idp_scope","response_type"].forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(" "))})),-1!==e.responseType.indexOf("id_token")&&-1===e.scopes.indexOf("openid"))throw new i.AuthSdkError("openid scope must be specified in the scopes argument when requesting an id_token");return t.scope=e.scopes.join(" "),t}},2642:function(e,t,r){"use strict";var n=r(2206);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(9231);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(52);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},9231:function(e,t,r){"use strict";var n=r(5318);t.postToTokenEndpoint=function(e,t,r){!function(e){if(!e.clientId)throw new a.AuthSdkError("A clientId must be specified in the OktaAuth constructor to get a token");if(!e.redirectUri)throw new a.AuthSdkError("The redirectUri passed to /authorize must also be passed to /token");if(!e.authorizationCode&&!e.interactionCode)throw new a.AuthSdkError("An authorization code (returned from /authorize) must be passed to /token");if(!e.codeVerifier)throw new a.AuthSdkError('The "codeVerifier" (generated and saved by your app) must be passed to /token')}(t);var n=function(e,t){var r=(0,i.removeNils)({client_id:t.clientId,redirect_uri:t.redirectUri,grant_type:t.interactionCode?"interaction_code":"authorization_code",code_verifier:t.codeVerifier});t.interactionCode?r.interaction_code=t.interactionCode:t.authorizationCode&&(r.code=t.authorizationCode);var n=e.options.clientSecret;return n&&(r.client_secret=n),(0,i.toQueryString)(r).slice(1)}(e,t);return(0,u.httpRequest)(e,{url:r.tokenUrl,method:"POST",args:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},t.postRefreshToken=function(e,t,r){return(0,u.httpRequest)(e,{url:r.tokenUrl,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},args:Object.entries({client_id:t.clientId,grant_type:"refresh_token",scope:r.scopes.join(" "),refresh_token:r.refreshToken}).map((function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return r+"="+encodeURIComponent(n)})).join("&")})};var o=n(r(3038)),a=r(5728),i=r(305),u=r(4777)},52:function(e,t,r){"use strict";var n=r(5318);t.getWellKnown=u,t.getKey=function(e,t,r){var n=e.storageManager.getHttpCache(e.options.cookies);return u(e,t).then((function(t){var u=t.jwks_uri,s=n.getStorage()[u];if(s&&Date.now()/1e3<s.expiresAt){var c=(0,a.find)(s.response.keys,{kid:r});if(c)return c}return n.clearStorage(u),(0,o.get)(e,u,{cacheResponse:!0}).then((function(e){var t=(0,a.find)(e.keys,{kid:r});if(t)return t;throw new i.default("The key id, "+r+", was not found in the server's keys")}))}))};var o=r(4777),a=r(305),i=n(r(9123));function u(e,t){var r=t||e.options.issuer;return(0,o.get)(e,r+"/.well-known/openid-configuration",{cacheResponse:!0})}},8707:function(e,t,r){"use strict";t.exchangeCodeForTokens=function(e,t,r){r=r||(0,n.getOAuthUrls)(e,t);var u=t=Object.assign({},(0,n.getDefaultTokenParams)(e),(0,o.clone)(t)),s=u.authorizationCode,c=u.interactionCode,l=u.codeVerifier,f=u.clientId,d=u.redirectUri,p=u.scopes,h=u.ignoreSignature,v=u.state,y={clientId:f,redirectUri:d,authorizationCode:s,interactionCode:c,codeVerifier:l};return(0,a.postToTokenEndpoint)(e,y,r).then((function(t){var n=["token"];-1!==p.indexOf("openid")&&n.push("id_token");var o={clientId:f,redirectUri:d,scopes:p,responseType:n,ignoreSignature:h};return(0,i.handleOAuthResponse)(e,o,t,r).then((function(e){return e.code=s,e.state=v,e}))})).finally((function(){e.transactionManager.clear()}))};var n=r(8785),o=r(305),a=r(9231),i=r(8676)},3253:function(e,t,r){"use strict";var n=r(5318);t.getToken=function(e,t){if(arguments.length>2)return Promise.reject(new a.default('As of version 3.0, "getToken" takes only a single set of options'));var r=(t=t||{}).popupWindow;return t.popupWindow=void 0,(0,i.prepareTokenParams)(e,t).then((function(n){var i,c;switch(t.sessionToken?Object.assign(n,{prompt:"none",responseMode:"okta_post_message",display:null}):t.idp&&Object.assign(n,{display:"popup"}),c=(0,o.getOAuthUrls)(e,n),i=(t.codeVerifier?c.tokenUrl:c.authorizeUrl)+(0,u.buildAuthorizeParams)(n),n.sessionToken||null===n.display?"IFRAME":"popup"===n.display?"POPUP":"IMPLICIT"){case"IFRAME":var l=(0,o.addPostMessageListener)(e,t.timeout,n.state),f=(0,o.loadFrame)(i);return l.then((function(t){return(0,s.handleOAuthResponse)(e,n,t,c)})).finally((function(){var e;document.body.contains(f)&&(null===(e=f.parentElement)||void 0===e||e.removeChild(f))}));case"POPUP":var d;if("okta_post_message"===n.responseMode){if(!e.features.isPopupPostMessageSupported())throw new a.default("This browser doesn't have full postMessage support");d=(0,o.addPostMessageListener)(e,t.timeout,n.state)}return r&&r.location.assign(i),new Promise((function(e,t){var n=setInterval((function(){r&&!r.closed||(clearInterval(n),t(new a.default("Unable to parse OAuth flow response")))}),100);d.then((function(t){clearInterval(n),e(t)})).catch((function(e){clearInterval(n),t(e)}))})).then((function(t){return(0,s.handleOAuthResponse)(e,n,t,c)})).finally((function(){r&&!r.closed&&r.close()}));default:throw new a.default("The full page redirect flow is not supported")}}))};var o=r(8785),a=n(r(9123)),i=r(6898),u=r(2206),s=r(8676)},6844:function(e,t,r){"use strict";var n=r(5318);t.getUserInfo=function(e,t,r){return l.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(305),u=r(5728),s=r(4777),c=r(2852);function l(){return(l=(0,a.default)(o.default.mark((function e(t,r,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.next=3,t.tokenManager.getTokens();case 3:r=e.sent.accessToken;case 4:if(n){e.next=8;break}return e.next=7,t.tokenManager.getTokens();case 7:n=e.sent.idToken;case 8:if(r&&(0,c.isAccessToken)(r)){e.next=10;break}return e.abrupt("return",Promise.reject(new u.AuthSdkError("getUserInfo requires an access token object")));case 10:if(n&&(0,c.isIDToken)(n)){e.next=12;break}return e.abrupt("return",Promise.reject(new u.AuthSdkError("getUserInfo requires an ID token object")));case 12:return e.abrupt("return",(0,s.httpRequest)(t,{url:r.userinfoUrl,method:"GET",accessToken:r.accessToken}).then((function(e){return e.sub===n.claims.sub?e:Promise.reject(new u.AuthSdkError("getUserInfo request was rejected due to token mismatch"))})).catch((function(e){var t;if(e.xhr&&(401===e.xhr.status||403===e.xhr.status)&&(e.xhr.headers&&(0,i.isFunction)(e.xhr.headers.get)&&e.xhr.headers.get("WWW-Authenticate")?t=e.xhr.headers.get("WWW-Authenticate"):(0,i.isFunction)(e.xhr.getResponseHeader)&&(t=e.xhr.getResponseHeader("WWW-Authenticate")),t)){var r=t.match(/error="(.*?)"/)||[],n=t.match(/error_description="(.*?)"/)||[],o=r[1],a=n[1];o&&a&&(e=new u.OAuthError(o,a))}throw e})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9770:function(e,t,r){"use strict";t.getWithPopup=function(e,t){if(arguments.length>2)return Promise.reject(new n.AuthSdkError('As of version 3.0, "getWithPopup" takes only a single set of options'));var r=(0,i.loadPopup)("/",t);return t=(0,o.clone)(t)||{},Object.assign(t,{display:"popup",responseMode:"okta_post_message",popupWindow:r}),(0,a.getToken)(e,t)};var n=r(5728),o=r(305),a=r(3253),i=r(8785)},6803:function(e,t,r){"use strict";var n=r(5318);t.getWithRedirect=function(e,t){return l.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(5728),u=r(305),s=r(8785),c=r(2206);function l(){return l=(0,a.default)(o.default.mark((function e(t,r){var n,a,l,f=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f.length>2)){e.next=2;break}return e.abrupt("return",Promise.reject(new i.AuthSdkError('As of version 3.0, "getWithRedirect" takes only a single set of options')));case 2:return r=(0,u.clone)(r)||{},e.next=5,(0,s.prepareTokenParams)(t,r);case 5:n=e.sent,a=(0,s.createOAuthMeta)(t,n),l=a.urls.authorizeUrl+(0,c.buildAuthorizeParams)(n),t.transactionManager.save(a,{oauth:!0}),t.token.getWithRedirect._setLocation(l);case 10:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}},7625:function(e,t,r){"use strict";t.getWithoutPrompt=function(e,t){return arguments.length>2?Promise.reject(new n.AuthSdkError('As of version 3.0, "getWithoutPrompt" takes only a single set of options')):(t=(0,o.clone)(t)||{},Object.assign(t,{prompt:"none",responseMode:"okta_post_message",display:null}),(0,a.getToken)(e,t))};var n=r(5728),o=r(305),a=r(3253)},8676:function(e,t,r){"use strict";var n=r(5318);t.handleOAuthResponse=function(e,t,r,n){return p.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(305),u=r(7599),s=r(5728),c=r(8707),l=r(1260),f=r(8785);function d(e,t){if(e.error&&e.error_description)throw new s.OAuthError(e.error,e.error_description);if(e.state!==t.state)throw new s.AuthSdkError("OAuth flow response state doesn't match request state")}function p(){return(p=(0,a.default)(o.default.mark((function e(t,r,n,a){var p,h,v,y,g,m,b,O,k,w,S,E,T,P;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===t.options.pkce||!n.code&&!n.interaction_code){e.next=3;break}return e.abrupt("return",(0,c.exchangeCodeForTokens)(t,Object.assign({},r,{authorizationCode:n.code,interactionCode:n.interaction_code}),a));case 3:if(r=r||(0,f.getDefaultTokenParams)(t),a=a||(0,u.getOAuthUrls)(t,r),p=r.responseType||[],Array.isArray(p)||(p=[p]),h=n.scope?n.scope.split(" "):(0,i.clone)(r.scopes),v=r.clientId||t.options.clientId,d(n,r),y={},g=n.expires_in,m=n.token_type,b=n.access_token,O=n.id_token,k=n.refresh_token,w=Math.floor(Date.now()/1e3),b&&(S=t.token.decode(b),y.accessToken={accessToken:b,claims:S.payload,expiresAt:Number(g)+w,tokenType:m,scopes:h,authorizeUrl:a.authorizeUrl,userinfoUrl:a.userinfoUrl}),k&&(y.refreshToken={refreshToken:k,expiresAt:Number(g)+w,scopes:h,tokenUrl:a.tokenUrl,authorizeUrl:a.authorizeUrl,issuer:a.issuer}),!O){e.next=27;break}return E=t.token.decode(O),T={idToken:O,claims:E.payload,expiresAt:E.payload.exp-E.payload.iat+w,scopes:h,authorizeUrl:a.authorizeUrl,issuer:a.issuer,clientId:v},P={clientId:v,issuer:a.issuer,nonce:r.nonce,accessToken:b},void 0!==r.ignoreSignature&&(P.ignoreSignature=r.ignoreSignature),e.next=26,(0,l.verifyToken)(t,T,P);case 26:y.idToken=T;case 27:if(-1===p.indexOf("token")||y.accessToken){e.next=29;break}throw new s.AuthSdkError('Unable to parse OAuth flow response: response type "token" was requested but "access_token" was not returned.');case 29:if(-1===p.indexOf("id_token")||y.idToken){e.next=31;break}throw new s.AuthSdkError('Unable to parse OAuth flow response: response type "id_token" was requested but "id_token" was not returned.');case 31:return e.abrupt("return",{tokens:y,state:n.state,code:n.code});case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9443:function(e,t,r){"use strict";var n={decodeToken:!0,revokeToken:!0,renewToken:!0,renewTokensWithRefresh:!0,renewTokens:!0,verifyToken:!0,getUserInfo:!0,handleOAuthResponse:!0,exchangeCodeForTokens:!0,getToken:!0,getWithoutPrompt:!0,getWithPopup:!0,getWithRedirect:!0,parseFromUrl:!0};Object.defineProperty(t,"decodeToken",{enumerable:!0,get:function(){return i.decodeToken}}),Object.defineProperty(t,"revokeToken",{enumerable:!0,get:function(){return u.revokeToken}}),Object.defineProperty(t,"renewToken",{enumerable:!0,get:function(){return s.renewToken}}),Object.defineProperty(t,"renewTokensWithRefresh",{enumerable:!0,get:function(){return c.renewTokensWithRefresh}}),Object.defineProperty(t,"renewTokens",{enumerable:!0,get:function(){return l.renewTokens}}),Object.defineProperty(t,"verifyToken",{enumerable:!0,get:function(){return f.verifyToken}}),Object.defineProperty(t,"getUserInfo",{enumerable:!0,get:function(){return d.getUserInfo}}),Object.defineProperty(t,"handleOAuthResponse",{enumerable:!0,get:function(){return p.handleOAuthResponse}}),Object.defineProperty(t,"exchangeCodeForTokens",{enumerable:!0,get:function(){return h.exchangeCodeForTokens}}),Object.defineProperty(t,"getToken",{enumerable:!0,get:function(){return v.getToken}}),Object.defineProperty(t,"getWithoutPrompt",{enumerable:!0,get:function(){return y.getWithoutPrompt}}),Object.defineProperty(t,"getWithPopup",{enumerable:!0,get:function(){return g.getWithPopup}}),Object.defineProperty(t,"getWithRedirect",{enumerable:!0,get:function(){return m.getWithRedirect}}),Object.defineProperty(t,"parseFromUrl",{enumerable:!0,get:function(){return b.parseFromUrl}});var o=r(2642);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(8785);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(1237),u=r(6466),s=r(2476),c=r(781),l=r(6268),f=r(1260),d=r(6844),p=r(8676),h=r(8707),v=r(3253),y=r(7625),g=r(9770),m=r(6803),b=r(5372)},5372:function(e,t,r){"use strict";var n=r(5318);t.getResponseMode=l,t.parseOAuthResponseFromUrl=f,t.cleanOAuthResponseFromUrl=d,t.parseFromUrl=function(e,t){return p.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(5728),u=r(8785),s=r(305),c=r(8676);function l(e){var t=e.options.pkce?"query":"fragment";return e.options.responseMode||t}function f(e,t){t=t||{};var r,n=(t=(0,s.isString)(t)?{url:t}:t).url,o=t.responseMode||l(e),a=e.token.parseFromUrl._getLocation();if(!(r="query"===o?n?n.substring(n.indexOf("?")):a.search:n?n.substring(n.indexOf("#")):a.hash))throw new i.AuthSdkError("Unable to parse a token from the url");return(0,u.urlParamsToObject)(r)}function d(e,t){"query"===(t.responseMode||l(e))?function(e){var t=e.token.parseFromUrl._getHistory(),r=e.token.parseFromUrl._getDocument(),n=e.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,r.title,n.pathname+n.hash):n.search=""}(e):function(e){var t=e.token.parseFromUrl._getHistory(),r=e.token.parseFromUrl._getDocument(),n=e.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,r.title,n.pathname+n.search):n.hash=""}(e)}function p(){return(p=(0,a.default)(o.default.mark((function e(t,r){var n,a,l,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=r||{},r=(0,s.isString)(r)?{url:r}:r,n=f(t,r),a=n.state,l=t.transactionManager.load({oauth:!0,pkce:t.options.pkce,state:a})){e.next=7;break}return e.abrupt("return",Promise.reject(new i.AuthSdkError("Unable to retrieve OAuth redirect params from storage")));case 7:return p=l.urls,delete l.urls,r.url||d(t,r),e.abrupt("return",(0,c.handleOAuthResponse)(t,l,n,p).catch((function(e){throw(0,u.isInteractionRequiredError)(e)||t.transactionManager.clear({state:a}),e})).then((function(e){return t.transactionManager.clear({state:a}),e})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2476:function(e,t,r){"use strict";var n=r(5318);t.renewToken=function(e,t){return d.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(5728),u=r(2852),s=r(7625),c=r(781);function l(){throw new i.AuthSdkError("Renew must be passed a token with an array of scopes and an accessToken or idToken")}function f(e,t){return(0,u.isIDToken)(e)?t.idToken:(0,u.isAccessToken)(e)?t.accessToken:void l()}function d(){return(d=(0,a.default)(o.default.mark((function e(t,r){var n,a,i,d,p,h,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,u.isIDToken)(r)||(0,u.isAccessToken)(r)||l(),!(n=t.tokenManager.getTokensSync()).refreshToken){e.next=7;break}return e.next=5,(0,c.renewTokensWithRefresh)(t,{scopes:r.scopes},n.refreshToken);case 5:return n=e.sent,e.abrupt("return",f(r,n));case 7:return a=t.options.pkce?"code":(0,u.isAccessToken)(r)?"token":"id_token",d=(i=r).scopes,p=i.authorizeUrl,h=i.userinfoUrl,v=i.issuer,e.abrupt("return",(0,s.getWithoutPrompt)(t,{responseType:a,scopes:d,authorizeUrl:p,userinfoUrl:h,issuer:v}).then((function(e){return f(r,e.tokens)})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6268:function(e,t,r){"use strict";var n=r(5318);t.renewTokens=function(e,t){return l.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(5728),u=r(7625),s=r(781),c=r(8785);function l(){return(l=(0,a.default)(o.default.mark((function e(t,r){var n,a,l,f,d,p,h,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.tokenManager.getTokensSync()).refreshToken){e.next=3;break}return e.abrupt("return",(0,s.renewTokensWithRefresh)(t,r||{},n.refreshToken));case 3:if(n.accessToken||n.idToken){e.next=5;break}throw new i.AuthSdkError("renewTokens() was called but there is no existing token");case 5:if(a=n.accessToken||{},l=n.idToken||{},f=a.scopes||l.scopes){e.next=10;break}throw new i.AuthSdkError("renewTokens: invalid tokens: could not read scopes");case 10:if(d=a.authorizeUrl||l.authorizeUrl){e.next=13;break}throw new i.AuthSdkError("renewTokens: invalid tokens: could not read authorizeUrl");case 13:return p=a.userinfoUrl||t.options.userinfoUrl,h=l.issuer||t.options.issuer,r=Object.assign({scopes:f,authorizeUrl:d,userinfoUrl:p,issuer:h},r),t.options.pkce?r.responseType="code":(v=(0,c.getDefaultTokenParams)(t),y=v.responseType,r.responseType=y),e.abrupt("return",(0,u.getWithoutPrompt)(t,r).then((function(e){return e.tokens})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},781:function(e,t,r){"use strict";var n=r(5318);t.renewTokensWithRefresh=function(e,t,r){return f.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(5728),u=r(7599),s=r(6635),c=r(8676),l=r(9231);function f(){return(f=(0,a.default)(o.default.mark((function e(t,r,n){var a,f,d,p,h,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.options.clientId){e.next=3;break}throw new i.AuthSdkError("A clientId must be specified in the OktaAuth constructor to renew tokens");case 3:return f=Object.assign({},r,{clientId:a}),e.next=6,(0,l.postRefreshToken)(t,f,n);case 6:return d=e.sent,p=(0,u.getOAuthUrls)(t,r),e.next=10,(0,c.handleOAuthResponse)(t,f,d,p);case 10:return h=e.sent,v=h.tokens,(y=v.refreshToken)&&!(0,s.isSameRefreshToken)(y,n)&&t.tokenManager.updateRefreshToken(y),e.abrupt("return",v);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6466:function(e,t,r){"use strict";var n=r(5318);t.revokeToken=function(e,t){return f.apply(this,arguments)};var o=n(r(7757)),a=n(r(8926)),i=r(4777),u=r(305),s=r(7599),c=r(9718),l=n(r(9123));function f(){return(f=(0,a.default)(o.default.mark((function e(t,r){var n,a,f,d,p,h,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",a="",r&&(n=r.accessToken,a=r.refreshToken),n||a){e.next=5;break}throw new l.default("A valid access or refresh token object is required");case 5:if(f=t.options.clientId,d=t.options.clientSecret,f){e.next=9;break}throw new l.default("A clientId must be specified in the OktaAuth constructor to revoke a token");case 9:return p=(0,s.getOAuthUrls)(t).revokeUrl,h=(0,u.toQueryString)({token_type_hint:a?"refresh_token":"access_token",token:a||n}).slice(1),v=d?(0,c.btoa)("".concat(f,":").concat(d)):(0,c.btoa)(f),e.abrupt("return",(0,i.post)(t,p,h,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+v}}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},4970:function(e,t,r){"use strict";t.addListener=o,t.removeListener=a,t.loadFrame=function(e){var t=document.createElement("iframe");return t.style.display="none",t.src=e,document.body.appendChild(t)},t.loadPopup=function(e,t){var r=t.popupTitle||"External Identity Provider User Authentication";return window.open(e,r,"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600")},t.addPostMessageListener=function(e,t,r){var i,u;return new Promise((function(a,s){i=function(t){if(t.data&&t.data.state===r)return t.origin!==e.getIssuerOrigin()?s(new n.AuthSdkError("The request does not match client configuration")):void a(t.data)},o(window,"message",i),u=setTimeout((function(){s(new n.AuthSdkError("OAuth flow timed out"))}),t||12e4)})).finally((function(){clearTimeout(u),a(window,"message",i)}))};var n=r(5728);function o(e,t,r){e.addEventListener?e.addEventListener(t,r):e.attachEvent("on"+t,r)}function a(e,t,r){e.removeEventListener?e.removeEventListener(t,r):e.detachEvent("on"+t,r)}},7756:function(e,t,r){"use strict";t.getDefaultTokenParams=function(e){var t=e.options,r=t.pkce,i=t.clientId,u=t.redirectUri,s=t.responseType,c=t.responseMode,l=t.scopes,f=t.state,d=t.ignoreSignature,p=(0,o.isBrowser)()?window.location.href:void 0;return(0,a.removeNils)({pkce:r,clientId:i,redirectUri:u||p,responseType:s||["token","id_token"],responseMode:c,state:f||(0,n.generateState)(),nonce:(0,n.generateNonce)(),scopes:l||["openid","email"],ignoreSignature:d})};var n=r(7599),o=r(415),a=r(305)},9912:function(e,t){"use strict";t.isInteractionRequiredError=function(e){return"OAuthError"===e.name&&"interaction_required"===e.errorCode},t.isAuthorizationCodeError=function(e,t){if("AuthApiError"!==t.name)return!1;var r=t.xhr,n=null==r?void 0:r.responseJSON;return e.options.pkce&&"invalid_grant"===(null==n?void 0:n.error)}},8785:function(e,t,r){"use strict";var n=r(5318),o={pkce:!0};Object.defineProperty(t,"pkce",{enumerable:!0,get:function(){return f.default}});var a=r(4970);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(7756);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=r(9912);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=r(8221);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=r(7599);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=r(2865);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=n(r(3611)),d=r(6898);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=r(6635);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=r(1969);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v=r(6003);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=r(2482);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}))},8221:function(e,t){"use strict";function r(e){return/((id|access)_token=)/i.test(e)}function n(e){return/(code=)/i.test(e)}function o(e){return/(interaction_code=)/i.test(e)}function a(e){return/(error=)/i.test(e)||/(error_description)/i.test(e)}function i(e,t){var r=t.options;return!(!e||!r.redirectUri)&&0===e.indexOf(r.redirectUri)}function u(e){return e.pkce||"code"===e.responseType||"query"===e.responseMode}function s(e){return u(e)&&"fragment"!==e.responseMode?window.location.search:window.location.hash}function c(e){if(!i(window.location.href,e))return!1;var t=u(e.options),c=s(e.options);return!!a(c)||(t?n(c)||o(c):r(window.location.hash))}t.hasTokensInHash=r,t.hasAuthorizationCode=n,t.hasInteractionCode=o,t.hasErrorInUrl=a,t.isRedirectUri=i,t.isCodeFlow=u,t.getHashOrSearch=s,t.isLoginRedirect=c,t.isInteractionRequired=function(e,t){if(!t){if(!c(e))return!1;t=s(e.options)}return/(error=interaction_required)/i.test(t)}},7599:function(e,t,r){"use strict";var n=r(5318);t.generateState=function(){return(0,o.genRandomString)(64)},t.generateNonce=function(){return(0,o.genRandomString)(64)},t.getOAuthBaseUrl=u,t.getOAuthDomain=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i(e,t),n=r.split("/oauth2")[0];return n},t.getOAuthUrls=function(e,t){if(arguments.length>2)throw new a.default('As of version 3.0, "getOAuthUrls" takes only a single set of options');t=t||{};var r=(0,o.removeTrailingSlash)(t.authorizeUrl)||e.options.authorizeUrl,n=i(e,t),s=(0,o.removeTrailingSlash)(t.userinfoUrl)||e.options.userinfoUrl,c=(0,o.removeTrailingSlash)(t.tokenUrl)||e.options.tokenUrl,l=(0,o.removeTrailingSlash)(t.logoutUrl)||e.options.logoutUrl,f=(0,o.removeTrailingSlash)(t.revokeUrl)||e.options.revokeUrl,d=u(e,t);return{issuer:n,authorizeUrl:r=r||d+"/v1/authorize",userinfoUrl:s=s||d+"/v1/userinfo",tokenUrl:c=c||d+"/v1/token",revokeUrl:f=f||d+"/v1/revoke",logoutUrl:l=l||d+"/v1/logout"}};var o=r(305),a=n(r(9123));function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,o.removeTrailingSlash)(t.issuer)||e.options.issuer;return r}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i(e,t),n=r.indexOf("/oauth2")>0?r:r+"/oauth2";return n}},2865:function(e,t,r){"use strict";var n=r(5318);t.createOAuthMeta=function(e,t){var r={issuer:e.options.issuer,urls:(0,a.getOAuthUrls)(e,t),clientId:t.clientId,redirectUri:t.redirectUri,responseType:t.responseType,responseMode:t.responseMode,scopes:t.scopes,state:t.state,nonce:t.nonce,ignoreSignature:t.ignoreSignature};return!1===t.pkce?r:u(u({},r),{},{codeVerifier:t.codeVerifier,codeChallengeMethod:t.codeChallengeMethod,codeChallenge:t.codeChallenge})};var o=n(r(9713)),a=r(7599);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},3611:function(e,t,r){"use strict";t.default=void 0;var n=r(9718),o=r(1971);function a(e){return("0"+e.toString(16)).substr(-2)}var i={DEFAULT_CODE_CHALLENGE_METHOD:o.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:function(e){var t,r,i=e||"";return i.length<o.MIN_VERIFIER_LENGTH&&(i+=(t=o.MIN_VERIFIER_LENGTH-i.length,r=new Uint8Array(Math.ceil(t/2)),n.webcrypto.getRandomValues(r),Array.from(r,a).join("").slice(0,t))),encodeURIComponent(i).slice(0,o.MAX_VERIFIER_LENGTH)},computeChallenge:function(e){var t=(new TextEncoder).encode(e);return n.webcrypto.subtle.digest("SHA-256",t).then((function(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return(0,n.stringToBase64Url)(t)}))}};t.default=i,e.exports=t.default},6898:function(e,t,r){"use strict";var n=r(5318);t.assertPKCESupport=h,t.validateCodeChallengeMethod=v,t.preparePKCE=g,t.prepareTokenParams=function(e){return b.apply(this,arguments)};var o=n(r(7757)),a=n(r(9713)),i=n(r(8926)),u=r(52),s=r(5728),c=r(7756),l=r(1971),f=n(r(3611));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){if(!e.features.isPKCESupported()){var t="PKCE requires a modern browser with encryption support running in a secure context.";throw e.features.isHTTPS()||(t+="\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol."),e.features.hasTextEncoder()||(t+='\n"TextEncoder" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.'),new s.AuthSdkError(t)}}function v(e,t){return y.apply(this,arguments)}function y(){return(y=(0,i.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||t.options.codeChallengeMethod||l.DEFAULT_CODE_CHALLENGE_METHOD,e.next=3,(0,u.getWellKnown)(t);case 3:if(-1!==(e.sent.code_challenge_methods_supported||[]).indexOf(r)){e.next=7;break}throw new s.AuthSdkError("Invalid code_challenge_method");case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return m.apply(this,arguments)}function m(){return(m=(0,i.default)(o.default.mark((function e(t,r){var n,a,i,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n=r).codeVerifier,i=n.codeChallenge,u=n.codeChallengeMethod,i=i||t.options.codeChallenge){e.next=8;break}return h(t),a=a||f.default.generateVerifier(),e.next=7,f.default.computeChallenge(a);case 7:i=e.sent;case 8:return e.next=10,v(t,u);case 10:return u=e.sent,r=p(p({},r),{},{responseType:"code",codeVerifier:a,codeChallenge:i,codeChallengeMethod:u}),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return b=(0,i.default)(o.default.mark((function e(t){var r,n,a=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},n=(0,c.getDefaultTokenParams)(t),!1!==(r=p(p({},n),r)).pkce){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",g(t,r));case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}},6635:function(e,t,r){"use strict";t.isSameRefreshToken=function(e,t){return e.refreshToken===t.refreshToken},t.isRefreshTokenError=function(e){return!!(0,n.isAuthApiError)(e)&&(!(!e.xhr||!e.xhr.responseJSON)&&"invalid_grant"===e.xhr.responseJSON.error)};var n=r(5728)},1969:function(e,t){"use strict";t.urlParamsToObject=function(e){var t=/\+/g,r=/([^&=]+)=?([^&]*)/g,n=e||"";"#"===n.charAt(0)&&"/"===n.charAt(1)&&(n=n.substring(2)),"#"!==n.charAt(0)&&"?"!==n.charAt(0)||(n=n.substring(1));for(var o,a={};o=r.exec(n);){var i=o[1],u=o[2];a[i]="id_token"===i||"access_token"===i||"code"===i?u:decodeURIComponent(u.replace(t," "))}return a}},6003:function(e,t,r){"use strict";var n=r(5318);t.validateClaims=function(e,t,r){var n=r.clientId,a=r.issuer,i=r.nonce;if(!t||!a||!n)throw new o.default("The jwt, iss, and aud arguments are all required");if(i&&t.nonce!==i)throw new o.default("OAuth flow response nonce doesn't match request nonce");var u=Math.floor(Date.now()/1e3);if(t.iss!==a)throw new o.default("The issuer ["+t.iss+"] does not match ["+a+"]");if(t.aud!==n)throw new o.default("The audience ["+t.aud+"] does not match ["+n+"]");if(t.iat>t.exp)throw new o.default("The JWT expired before it was issued");if(!e.options.ignoreLifetime){if(u-e.options.maxClockSkew>t.exp)throw new o.default("The JWT expired and is no longer valid");if(t.iat>u+e.options.maxClockSkew)throw new o.default("The JWT was issued in the future")}};var o=n(r(9123))},2482:function(e,t,r){"use strict";t.validateToken=function(e,t){if(!(0,o.isIDToken)(e)&&!(0,o.isAccessToken)(e)&&!(0,o.isRefreshToken)(e))throw new n.AuthSdkError("Token must be an Object with scopes, expiresAt, and one of: an idToken, accessToken, or refreshToken property");if("accessToken"===t&&!(0,o.isAccessToken)(e))throw new n.AuthSdkError("invalid accessToken");if("idToken"===t&&!(0,o.isIDToken)(e))throw new n.AuthSdkError("invalid idToken");if("refreshToken"===t&&!(0,o.isRefreshToken)(e))throw new n.AuthSdkError("invalid refreshToken")};var n=r(5728),o=r(2852)},1260:function(e,t,r){"use strict";var n=r(5318),o=r(8);t.verifyToken=function(e,t,r){return p.apply(this,arguments)};var a=n(r(7757)),i=n(r(8926)),u=r(52),s=r(8785),c=r(5728),l=r(1237),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(9718));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function p(){return(p=(0,i.default)(a.default.mark((function e(t,r,n){var o,i,d,p,h,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.idToken){e.next=2;break}throw new c.AuthSdkError("Only idTokens may be verified");case 2:return o=(0,l.decodeToken)(r.idToken),i=(null==n?void 0:n.issuer)||t.options.issuer,e.next=6,(0,u.getWellKnown)(t,i);case 6:if(d=e.sent,p=d.issuer,h=Object.assign({clientId:t.options.clientId,ignoreSignature:t.options.ignoreSignature},n,{issuer:p}),(0,s.validateClaims)(t,o.payload,h),1!=h.ignoreSignature&&t.features.isTokenVerifySupported()){e.next=12;break}return e.abrupt("return",r);case 12:return e.next=14,(0,u.getKey)(t,r.issuer,o.header.kid);case 14:return v=e.sent,e.next=17,f.verifyToken(r.idToken,v);case 17:if(e.sent){e.next=20;break}throw new c.AuthSdkError("The token signature is not valid");case 20:if(!(n&&n.accessToken&&r.claims.at_hash)){e.next=26;break}return e.next=23,f.getOidcHash(n.accessToken);case 23:if(e.sent===r.claims.at_hash){e.next=26;break}throw new c.AuthSdkError("Token hash verification failed");case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7426:function(e,t,r){"use strict";var n=r(5318);t.getStorage=function(){return Object.assign({},a.default,{inMemoryStore:{}})},t.getCookieSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.cookies||{};return void 0===r.secure&&(r.secure=t),void 0===r.sameSite&&(r.sameSite=r.secure?"none":"lax"),r.secure&&!t&&((0,o.warn)('The current page is not being served with the HTTPS protocol.\nFor security reasons, we strongly recommend using HTTPS.\nIf you cannot use HTTPS, set "cookies.secure" option to false.'),r.secure=!1),"none"!==r.sameSite||r.secure||(r.sameSite="lax"),r},t.enableSharedStorage=t.STORAGE_MANAGER_OPTIONS=void 0;var o=r(305),a=n(r(5407));t.STORAGE_MANAGER_OPTIONS={token:{storageTypes:["localStorage","sessionStorage","cookie"]},cache:{storageTypes:["localStorage","sessionStorage","cookie"]},transaction:{storageTypes:["sessionStorage","localStorage","cookie"]},"shared-transaction":{storageTypes:["localStorage"]},"original-uri":{storageTypes:["localStorage"]}},t.enableSharedStorage=!0},1661:function(e,t,r){"use strict";var n=r(5318);t.getDefaultOptions=c,t.buildOptions=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.assertValidConfig)(t),t=l(c(),t),(0,o.removeNils)({issuer:(0,o.removeTrailingSlash)(t.issuer),tokenUrl:(0,o.removeTrailingSlash)(t.tokenUrl),authorizeUrl:(0,o.removeTrailingSlash)(t.authorizeUrl),userinfoUrl:(0,o.removeTrailingSlash)(t.userinfoUrl),revokeUrl:(0,o.removeTrailingSlash)(t.revokeUrl),logoutUrl:(0,o.removeTrailingSlash)(t.logoutUrl),clientId:t.clientId,redirectUri:t.redirectUri,state:t.state,scopes:t.scopes,postLogoutRedirectUri:t.postLogoutRedirectUri,responseMode:t.responseMode,responseType:t.responseType,pkce:!1!==t.pkce,useInteractionCodeFlow:t.useInteractionCodeFlow,httpRequestClient:t.httpRequestClient,transformErrorXHR:t.transformErrorXHR,transformAuthState:t.transformAuthState,restoreOriginalUri:t.restoreOriginalUri,storageUtil:t.storageUtil,headers:t.headers,devMode:!!t.devMode,storageManager:t.storageManager,transactionManager:t.transactionManager,cookies:(0,u.getCookieSettings)(t,(0,s.isHTTPS)()),flow:t.flow,codeChallenge:t.codeChallenge,codeChallengeMethod:t.codeChallengeMethod,recoveryToken:t.recoveryToken,activationToken:t.activationToken,idx:{useGenericRemediator:!(null===(e=t.idx)||void 0===e||!e.useGenericRemediator)},ignoreSignature:!!t.ignoreSignature,clientSecret:t.clientSecret})};var o=r(305),a=r(2158),i=n(r(4447)),u=r(7426),s=r(415);function c(){return{devMode:!1,httpRequestClient:i.default,storageUtil:(0,u.getStorage)(),storageManager:u.STORAGE_MANAGER_OPTIONS,transactionManager:{enableSharedStorage:u.enableSharedStorage}}}function l(e,t){return Object.assign({},e,(0,o.removeNils)(t),{storageManager:Object.assign({},e.storageManager,t.storageManager),transactionManager:Object.assign({},e.transactionManager,t.transactionManager)})}},2282:function(e,t,r){"use strict";var n=r(5318);t.AutoRenewService=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=r(1425),s=r(5728),c=r(415),l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),(0,i.default)(this,"tokenManager",void 0),(0,i.default)(this,"options",void 0),(0,i.default)(this,"renewTimeQueue",void 0),(0,i.default)(this,"started",!1),this.tokenManager=t,this.options=r,this.renewTimeQueue=[],this.onTokenExpiredHandler=this.onTokenExpiredHandler.bind(this)}return(0,a.default)(e,[{key:"shouldThrottleRenew",value:function(){var e=!1;if(this.renewTimeQueue.push(Date.now()),this.renewTimeQueue.length>=10){var t=this.renewTimeQueue.shift();e=this.renewTimeQueue[this.renewTimeQueue.length-1]-t<3e4}return e}},{key:"requiresLeadership",value:function(){return!!this.options.syncStorage&&(0,c.isBrowser)()}},{key:"onTokenExpiredHandler",value:function(e){if(this.options.autoRenew)if(this.shouldThrottleRenew()){var t=new s.AuthSdkError("Too many token renew requests");this.tokenManager.emitError(t)}else this.tokenManager.renew(e).catch((function(){}));else this.options.autoRemove&&this.tokenManager.remove(e)}},{key:"canStart",value:function(){return!!this.options.autoRenew||!!this.options.autoRemove}},{key:"start",value:function(){this.canStart()&&(this.stop(),this.tokenManager.on(u.EVENT_EXPIRED,this.onTokenExpiredHandler),this.started=!0)}},{key:"stop",value:function(){this.started&&(this.tokenManager.off(u.EVENT_EXPIRED,this.onTokenExpiredHandler),this.renewTimeQueue=[],this.started=!1)}},{key:"isStarted",value:function(){return this.started}}]),e}();t.AutoRenewService=l},5550:function(e,t,r){"use strict";var n=r(5318);t.SyncStorageService=void 0;var o=n(r(4575)),a=n(r(3913)),i=n(r(9713)),u=r(415),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),(0,i.default)(this,"tokenManager",void 0),(0,i.default)(this,"options",void 0),(0,i.default)(this,"syncTimeout",void 0),(0,i.default)(this,"started",!1),this.tokenManager=t,this.options=r,this.storageListener=this.storageListener.bind(this)}return(0,a.default)(e,[{key:"storageListener",value:function(e){var t=this,r=e.key,n=e.newValue,o=e.oldValue,a=this.tokenManager.getOptions();(!r||r===a.storageKey&&n!==o)&&(this.syncTimeout=setTimeout((function(){return t.tokenManager.resetExpireEventTimeoutAll(),void t.tokenManager.emitEventsForCrossTabsStorageUpdate(n,o)}),a._storageEventDelay))}},{key:"requiresLeadership",value:function(){return!1}},{key:"isStarted",value:function(){return this.started}},{key:"canStart",value:function(){return!!this.options.syncStorage&&(0,u.isBrowser)()}},{key:"start",value:function(){this.canStart()&&(this.stop(),window.addEventListener("storage",this.storageListener),this.started=!0)}},{key:"stop",value:function(){this.started&&(window.removeEventListener("storage",this.storageListener),clearTimeout(this.syncTimeout),this.started=!1)}}]),e}();t.SyncStorageService=s},2604:function(e,t,r){"use strict";var n=r(2282);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(5550);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},4096:function(e,t,r){"use strict";t.sessionExists=function(e){return e.session.get().then((function(e){return"ACTIVE"===e.status})).catch((function(){return!1}))},t.getSession=function(e){return(0,o.get)(e,"/api/v1/sessions/me",{withCredentials:!0}).then((function(t){var r=(0,n.omit)(t,"_links");return r.refresh=function(){return(0,o.post)(e,(0,n.getLink)(t,"refresh").href,{},{withCredentials:!0})},r.user=function(){return(0,o.get)(e,(0,n.getLink)(t,"user").href,{withCredentials:!0})},r})).catch((function(){return{status:"INACTIVE"}}))},t.closeSession=function(e){return(0,o.httpRequest)(e,{url:e.getIssuerOrigin()+"/api/v1/sessions/me",method:"DELETE",withCredentials:!0})},t.refreshSession=function(e){return(0,o.post)(e,"/api/v1/sessions/me/lifecycle/refresh",{},{withCredentials:!0})},t.setCookieAndRedirect=function(e,t,r){r=r||window.location.href,window.location.assign(e.getIssuerOrigin()+"/login/sessionCookieRedirect"+(0,n.toQueryString)({checkAccountSetupComplete:!0,token:t,redirectUrl:r}))};var n=r(305),o=r(4777)},3291:function(e,t,r){"use strict";var n=r(5318);t.AuthTransaction=void 0;var o=n(r(4575)),a=n(r(9713)),i=r(4777),u=r(305),s=n(r(9123)),c=r(459),l=r(8903),f=r(4393);function d(e,t,r,n,o){if(Array.isArray(n))return function(a,i){if(!a)throw new s.default("Must provide a link name");var c=(0,u.find)(n,{name:a});if(!c)throw new s.default("No link found for that name");return d(e,t,r,c,o)(i)};if(n.hints&&n.hints.allow&&1===n.hints.allow.length)switch(n.hints.allow[0]){case"GET":return function(){return(0,i.get)(e,n.href,{withCredentials:!0})};case"POST":return function(a){o&&o.isPolling&&(o.isPolling=!1);var i=(0,c.addStateToken)(t,a);"MFA_ENROLL"!==t.status&&"FACTOR_ENROLL"!==t.status||Object.assign(i,{factorType:r.factorType,provider:r.provider});var l={},d=i.autoPush;if(void 0!==d){if("function"==typeof d)try{l.autoPush=!!d()}catch(e){return Promise.reject(new s.default("AutoPush resulted in an error."))}else null!==d&&(l.autoPush=!!d);i=(0,u.omit)(i,"autoPush")}var p=i.rememberDevice;if(void 0!==p){if("function"==typeof p)try{l.rememberDevice=!!p()}catch(e){return Promise.reject(new s.default("RememberDevice resulted in an error."))}else null!==p&&(l.rememberDevice=!!p);i=(0,u.omit)(i,"rememberDevice")}else i.profile&&void 0!==i.profile.updatePhone&&(i.profile.updatePhone&&(l.updatePhone=!0),i.profile=(0,u.omit)(i.profile,"updatePhone"));var h=n.href+(0,u.toQueryString)(l);return(0,f.postToTransaction)(e,h,i)}}}function p(e,t,r,n){if(r=r||t,r=(0,u.clone)(r),Array.isArray(r)){for(var o=[],a=0,i=r.length;a<i;a++)o.push(p(e,t,r[a],n));return o}var s=r._embedded||{};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&((0,u.isObject)(s[c])||Array.isArray(s[c]))&&(s[c]=p(e,t,s[c],n));var f=function(e,t,r,n){var o={};for(var a in r._links)if(Object.prototype.hasOwnProperty.call(r._links,a)){var i=r._links[a];if("next"===a&&(a=i.name),i.type)o[a]=i;else if("poll"===a)o.poll=(0,l.getPollFn)(e,t,n);else{var u=d(e,t,r,i,n);u&&(o[a]=u)}}return o}(e,t,r,n);return Object.assign(s,f),r=(0,u.omit)(r,"_embedded","_links"),Object.assign(r,s),r}t.AuthTransaction=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,o.default)(this,e),(0,a.default)(this,"next",void 0),(0,a.default)(this,"cancel",void 0),(0,a.default)(this,"skip",void 0),(0,a.default)(this,"unlock",void 0),(0,a.default)(this,"changePassword",void 0),(0,a.default)(this,"resetPassword",void 0),(0,a.default)(this,"answer",void 0),(0,a.default)(this,"recovery",void 0),(0,a.default)(this,"verify",void 0),(0,a.default)(this,"resend",void 0),(0,a.default)(this,"activate",void 0),(0,a.default)(this,"poll",void 0),(0,a.default)(this,"prev",void 0),(0,a.default)(this,"data",void 0),(0,a.default)(this,"stateToken",void 0),(0,a.default)(this,"sessionToken",void 0),(0,a.default)(this,"status",void 0),(0,a.default)(this,"user",void 0),(0,a.default)(this,"factor",void 0),(0,a.default)(this,"factors",void 0),(0,a.default)(this,"policy",void 0),(0,a.default)(this,"scopes",void 0),(0,a.default)(this,"target",void 0),(0,a.default)(this,"authentication",void 0),this.data=void 0,this.status=void 0,r){if(this.data=r,this.data.interactionHandle)return void(this.status=r.status);Object.assign(this,p(t,r,r,{})),delete this.stateToken,"RECOVERY_CHALLENGE"!==r.status||r._links||(this.cancel=function(){return Promise.resolve(new e(t))})}}},5760:function(){},4393:function(e,t,r){"use strict";var n=r(5318);t.transactionStatus=function(e,t){return t=(0,u.addStateToken)(e,t),(0,o.post)(e,e.getIssuerOrigin()+"/api/v1/authn",t,{withCredentials:!0})},t.resumeTransaction=function(e,t){if(!t||!t.stateToken){var r=e.tx.exists._get(i.STATE_TOKEN_KEY_NAME);if(!r)return Promise.reject(new a.default("No transaction to resume"));t={stateToken:r}}return e.tx.status(t).then((function(t){return new s.AuthTransaction(e,t)}))},t.introspectAuthn=function(e,t){if(!t||!t.stateToken){var r=e.tx.exists._get(i.STATE_TOKEN_KEY_NAME);if(!r)return Promise.reject(new a.default("No transaction to evaluate"));t={stateToken:r}}return c(e,t).then((function(t){return new s.AuthTransaction(e,t)}))},t.transactionStep=c,t.transactionExists=function(e){return!!e.tx.exists._get(i.STATE_TOKEN_KEY_NAME)},t.postToTransaction=function(e,t,r,n){return n=Object.assign({withCredentials:!0},n),(0,o.post)(e,t,r,n).then((function(t){return new s.AuthTransaction(e,t)}))};var o=r(4777),a=n(r(9123)),i=r(1971),u=r(459),s=r(3291);function c(e,t){return t=(0,u.addStateToken)(e,t),(0,o.post)(e,e.getIssuerOrigin()+"/api/v1/authn/introspect",t,{withCredentials:!0})}},2375:function(e,t,r){"use strict";var n=r(4393);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(3291);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(8903);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(5760);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=r(459);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}))},8903:function(e,t,r){"use strict";var n=r(5318);t.getPollFn=function(e,t,r){return function(n){var f,d,p,h;(0,a.isNumber)(n)?f=n:(0,a.isObject)(n)&&(f=(n=n).delay,d=n.rememberDevice,p=n.autoPush,h=n.transactionCallBack),f||0===f||(f=i.DEFAULT_POLLING_DELAY);var v=(0,a.getLink)(t,"next","poll");r.isPolling=!0;var y=0;return function n(){return r.isPolling?function(){var r={};if("function"==typeof p)try{r.autoPush=!!p()}catch(e){return Promise.reject(new u.default("AutoPush resulted in an error."))}else null!=p&&(r.autoPush=!!p);if("function"==typeof d)try{r.rememberDevice=!!d()}catch(e){return Promise.reject(new u.default("RememberDevice resulted in an error."))}else null!=d&&(r.rememberDevice=!!d);var n=v.href+(0,a.toQueryString)(r);return(0,o.post)(e,n,(0,l.getStateToken)(t),{saveAuthnState:!1,withCredentials:!0})}().then((function(t){if(y=0,t.factorResult&&"WAITING"===t.factorResult){if(!r.isPolling)throw new s.default;return"function"==typeof h&&h(t),(0,a.delay)(f).then(n)}return r.isPolling=!1,new c.AuthTransaction(e,t)})).catch((function(e){if(e.xhr&&(0===e.xhr.status||429===e.xhr.status)&&y<=4){var t=1e3*Math.pow(2,y);return y++,(0,a.delay)(t).then(n)}throw e})):Promise.reject(new s.default)}().catch((function(e){throw r.isPolling=!1,e}))}};var o=r(4777),a=r(305),i=r(1971),u=n(r(9123)),s=n(r(6573)),c=(r(5760),r(3291)),l=r(459)},459:function(e,t){"use strict";function r(e,t){var r={};return Object.assign(r,t),!r.stateToken&&e.stateToken&&(r.stateToken=e.stateToken),r}t.addStateToken=r,t.getStateToken=function(e){return r(e)}},6246:function(){},3031:function(){},2516:function(){},1246:function(){},3833:function(){},5894:function(){},9573:function(){},5252:function(){},4283:function(e,t){"use strict";t.isToken=function(e){return!!(e&&(e.accessToken||e.idToken||e.refreshToken)&&Array.isArray(e.scopes))},t.isAccessToken=function(e){return e&&e.accessToken},t.isIDToken=function(e){return e&&e.idToken},t.isRefreshToken=function(e){return e&&e.refreshToken}},4444:function(){},1925:function(e,t,r){"use strict";var n=r(5318);t.isOAuthTransactionMeta=i,t.isPKCETransactionMeta=u,t.isIdxTransactionMeta=function(e){return!!u(e)&&!!e.interactionHandle},t.isCustomAuthTransactionMeta=s,t.isTransactionMeta=function(e){return!(!i(e)&&!s(e))};var o=n(r(8));function a(e){return!(!e||"object"!==(0,o.default)(e)||0===Object.values(e).length)}function i(e){return!(!a(e)||!e.redirectUri&&!e.responseType)}function u(e){return!!i(e)&&!!e.codeVerifier}function s(e){return!!a(e)&&void 0===Object.values(e).find((function(e){return"string"!=typeof e}))}},6854:function(){},423:function(){},7525:function(){},2852:function(e,t,r){"use strict";var n=r(423);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(6246);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(2516);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(1925);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=r(3031);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=r(7525);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=r(1642);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=r(1246);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=r(3833);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var d=r(5894);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=r(5252);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=r(4283);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v=r(4444);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=r(9573);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var g=r(6854);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}))},146:function(e,t){"use strict";function r(){return"undefined"!=typeof window?window.console:"undefined"!=typeof console?console:void 0}function n(){var e=r();return e&&e.log?e:{log:function(){},warn:function(){},group:function(){},groupEnd:function(){}}}function o(e){n().warn("[okta-auth-sdk] DEPRECATION: "+e)}t.getNativeConsole=r,t.getConsole=n,t.warn=function(e){n().warn("[okta-auth-sdk] WARN: "+e)},t.deprecate=o,t.deprecateWrap=function(e,t){return function(){return o(e),t.apply(null,arguments)}}},305:function(e,t,r){"use strict";var n=r(146);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var o=r(8750);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=r(3193);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(4771);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=r(6718);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}))},8750:function(e,t){"use strict";t.isoToUTCString=function(e){var t=e.match(/\d+/g),r=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return new Date(r).toUTCString()},t.genRandomString=function(e){for(var t="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",n=0,o=t.length;n<e;++n)r+=t[Math.floor(Math.random()*o)];return r},t.delay=function(e){return new Promise((function(t){setTimeout(t,e)}))}},3193:function(e,t){"use strict";function r(e){if(e){var t=JSON.stringify(e);if(t)return JSON.parse(t)}return e}t.bind=function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return n=r.concat(n),e.apply(t,n)}},t.extend=function(){var e=arguments[0],t=[].slice.call(arguments,1);return t.forEach((function(t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&void 0!==t[r]&&(e[r]=t[r])})),e},t.removeNils=function(e){var t={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];null!=n&&(t[r]=n)}return t},t.clone=r,t.omit=function(e){for(var t={},n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1==o.indexOf(i)&&(t[i]=e[i]);return r(t)},t.find=function(e,t){for(var r=e.length;r--;){var n=e[r],o=!0;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&n[a]!==t[a]){o=!1;break}if(o)return n}},t.getLink=function(e,t,n){if(e&&e._links){var o=r(e._links[t]);return o&&o.name&&n?o.name===n?o:void 0:o}}},4909:function(e,t,r){"use strict";t.pruneSharedStorage=function(e){var t=e.getSharedTansactionStorage(),r=t.getStorage();Object.keys(r).forEach((function(e){var t=r[e];Date.now()-t.dateCreated>18e5&&delete r[e]})),t.setStorage(r)},t.saveTransactionToSharedStorage=function(e,t,r){var n=e.getSharedTansactionStorage(),o=n.getStorage();o[t]={dateCreated:Date.now(),transaction:r},n.setStorage(o)},t.loadTransactionFromSharedStorage=function(e,t){var r=e.getSharedTansactionStorage().getStorage()[t];return r&&r.transaction&&(0,n.isTransactionMeta)(r.transaction)?r.transaction:null},t.clearTransactionFromSharedStorage=function(e,t){var r=e.getSharedTansactionStorage(),n=r.getStorage();delete n[t],r.setStorage(n)};var n=r(2852)},4771:function(e,t){"use strict";t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isNumber=function(e){return"[object Number]"===Object.prototype.toString.call(e)},t.isFunction=function(e){return!!e&&"[object Function]"==={}.toString.call(e)},t.isPromise=function(e){return e&&e.finally&&"function"==typeof e.finally}},6718:function(e,t){"use strict";function r(e){return/^(?:[a-z]+:)?\/\//i.test(e)}function n(e){if(e){var t=e.replace(/^\s+|\s+$/gm,"");return t.replace(/\/+$/,"")}}t.isAbsoluteUrl=r,t.toAbsoluteUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r(e)?e:(t=n(t),"/"===e[0]?"".concat(t).concat(e):"".concat(t,"/").concat(e))},t.toRelativeUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r(e)&&(e=e.substring(t.length)),"/"===e[0]?e:"/".concat(e)},t.toQueryString=function(e){var t=[];if(null!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&void 0!==e[r]&&null!==e[r]&&t.push(r+"="+encodeURIComponent(e[r]));return t.length?"?"+t.join("&"):""},t.removeTrailingSlash=n},3615:function(e,t,r){"use strict";var n=r(4575),o=r(3913),a=r(2205),i=r(8585),u=r(9754);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){a(c,e);var t,r,s=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=u(t);if(r){var o=u(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return i(this,e)});function c(e){var t;return n(this,c),(t=s.call(this,e||"Promise was canceled")).name="CancelError",t}return o(c,[{key:"isCanceled",get:function(){return!0}}]),c}(r(5957)(Error)),l=function(){function e(t){var r=this;n(this,e),this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((function(e,n){r._reject=n;var o=function(e){if(!r._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");r._cancelHandlers.push(e)};return Object.defineProperties(o,{shouldReject:{get:function(){return r._rejectOnCancel},set:function(e){r._rejectOnCancel=e}}}),t((function(t){r._isCanceled&&o.shouldReject||(r._isPending=!1,e(t))}),(function(e){r._isPending=!1,n(e)}),o)}))}return o(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(this._cancelHandlers);try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(e){r.e(e)}finally{r.f()}}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new c(e))}}},{key:"isCanceled",get:function(){return this._isCanceled}}],[{key:"fn",value:function(t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return new e((function(e,r,o){n.push(o),t.apply(void 0,n).then(e,r)}))}}}]),e}();Object.setPrototypeOf(l.prototype,Promise.prototype),e.exports=l,e.exports.CancelError=c},8991:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_BROADCAST_CHANNELS=t.BroadcastChannel=void 0,t.clearNodeFolder=function(e){e=(0,a.fillOptionsWithDefaults)(e);var t=(0,o.chooseMethod)(e);return"node"===t.type?t.clearNodeFolder().then((function(){return!0})):n.PROMISE_RESOLVED_FALSE},t.enforceOptions=function(e){u=e};var n=r(6202),o=r(4632),a=r(1052),i=new Set;t.OPEN_BROADCAST_CHANNELS=i;var u,s=0,c=function(e,t){var r,c;this.id=s++,i.add(this),this.name=e,u&&(t=u),this.options=(0,a.fillOptionsWithDefaults)(t),this.method=(0,o.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,c=(r=this).method.create(r.name,r.options),(0,n.isPromise)(c)?(r._prepP=c,c.then((function(e){r._state=e}))):r._state=c};function l(e,t,r){var o={time:e.method.microSeconds(),type:t,data:r};return(e._prepP?e._prepP:n.PROMISE_RESOLVED_VOID).then((function(){var t=e.method.postMessage(e._state,o);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function f(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function d(e,t,r){e._addEL[t].push(r),function(e){if(!e._iL&&f(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var r=e.time-1e5;t.time>=r&&e.fn(t.data)}))},r=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,r)})):(e._iL=!0,e.method.onMessage(e._state,t,r))}}(e)}function p(e,t,r){e._addEL[t]=e._addEL[t].filter((function(e){return e!==r})),function(e){if(e._iL&&!f(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}t.BroadcastChannel=c,c._pubkey=!0,c.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return l(this,"message",e)},postInternal:function(e){return l(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};p(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,d(this,"message",t)):this._onML=null},addEventListener:function(e,t){d(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){p(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){i.delete(this),this.closed=!0;var t=this._prepP?this._prepP:n.PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}}},8437:function(e,t,r){"use strict";var n=r(5585);e.exports={BroadcastChannel:n.BroadcastChannel,createLeaderElection:n.createLeaderElection,clearNodeFolder:n.clearNodeFolder,enforceOptions:n.enforceOptions,beLeader:n.beLeader}},5585:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BroadcastChannel",{enumerable:!0,get:function(){return n.BroadcastChannel}}),Object.defineProperty(t,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return n.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(t,"beLeader",{enumerable:!0,get:function(){return o.beLeader}}),Object.defineProperty(t,"clearNodeFolder",{enumerable:!0,get:function(){return n.clearNodeFolder}}),Object.defineProperty(t,"createLeaderElection",{enumerable:!0,get:function(){return o.createLeaderElection}}),Object.defineProperty(t,"enforceOptions",{enumerable:!0,get:function(){return n.enforceOptions}});var n=r(8991),o=r(6550)},6550:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beLeader=u,t.createLeaderElection=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var r=new a(e,t);return e._befC.push((function(){return r.die()})),e._leaderElector=r,r};var n=r(6202),o=r(2499),a=function(e,t){var r=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,n.randomToken)(),this._aplQ=n.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var o=function(e){"leader"===e.context&&("death"===e.action&&(r.hasLeader=!1),"tell"===e.action&&(r.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",o),this._lstns.push(o)};function i(e,t){var r={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(r)}function u(e){e.isLeader=!0,e.hasLeader=!0;var t=(0,o.add)((function(){return e.die()}));e._unl.push(t);var r=function(t){"leader"===t.context&&"apply"===t.action&&i(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),i(e,"tell"))};return e.broadcastChannel.addEventListener("internal",r),e._lstns.push(r),i(e,"tell")}a.prototype={applyOnce:function(e){var t=this;return this.isLeader?(0,n.sleep)(0,!0):this.isDead?(0,n.sleep)(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return n.PROMISE_RESOLVED_TRUE;var r,o=!1,a=new Promise((function(e){r=function(){o=!0,e()}})),s=[],c=function(e){"leader"===e.context&&e.token!=t.token&&(s.push(e),"apply"===e.action&&e.token>t.token&&r(),"tell"===e.action&&(r(),t.hasLeader=!0))};t.broadcastChannel.addEventListener("internal",c);var l=e?4*t._options.responseTime:t._options.responseTime;return i(t,"apply").then((function(){return Promise.race([(0,n.sleep)(l),a.then((function(){return Promise.reject(new Error)}))])})).then((function(){return i(t,"apply")})).then((function(){return Promise.race([(0,n.sleep)(l),a.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",c),!o&&u(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader})))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?n.PROMISE_RESOLVED_VOID:new Promise((function(t){var r=!1;function o(){r||(r=!0,e.broadcastChannel.removeEventListener("internal",a),t(!0))}e.applyOnce().then((function(){e.isLeader&&o()})),function t(){return(0,n.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!r)return e.isLeader?void o():e.applyOnce(!0).then((function(){e.isLeader?o():t()}))}))}();var a=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&o()})))};e.broadcastChannel.addEventListener("internal",a),e._lstns.push(a)}))),this._aLP;var e},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,i(this,"death")}}},4632:function(e,t,r){"use strict";var n=r(8330);r(1909),Object.defineProperty(t,"__esModule",{value:!0}),t.chooseMethod=function(e){var t=[].concat(e.methods,c).filter(Boolean);if(e.type){if("simulate"===e.type)return u.default;var r=t.find((function(t){return t.type===e.type}));if(r)return r;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||s.isNode||(t=t.filter((function(e){return"idb"!==e.type})));var n=t.find((function(e){return e.canBeUsed()}));if(n)return n;throw new Error("No useable method found in "+JSON.stringify(c.map((function(e){return e.type}))))};var o=n(r(6115)),a=n(r(9122)),i=n(r(4924)),u=n(r(1574)),s=r(6202),c=[o.default,a.default,i.default]},9122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.averageResponseTime=w,t.canBeUsed=k,t.cleanOldMessages=h,t.close=m,t.create=v,t.createDatabase=c,t.default=void 0,t.getAllMessages=function(e){var t=e.transaction(u).objectStore(u),r=[];return new Promise((function(e){t.openCursor().onsuccess=function(t){var n=t.target.result;n?(r.push(n.value),n.continue()):e(r)}}))},t.getIdb=s,t.getMessagesHigherThan=f,t.getOldMessages=p,t.microSeconds=void 0,t.onMessage=O,t.postMessage=b,t.removeMessageById=d,t.type=void 0,t.writeMessage=l;var n=r(6202),o=r(2151),a=r(1052),i=n.microSeconds;t.microSeconds=i;var u="messages";function s(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function c(e){var t="pubkey.broadcast-channel-0-"+e,r=s().open(t,1);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(u,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}}))}function l(e,t,r){var n={uuid:t,time:(new Date).getTime(),data:r},o=e.transaction([u],"readwrite");return new Promise((function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(u).add(n)}))}function f(e,t){var r=e.transaction(u).objectStore(u),n=[];return new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(t+1,1/0);return r.openCursor(e)}catch(e){return r.openCursor()}}()).onsuccess=function(r){var o=r.target.result;o?o.value.id<t+1?o.continue(t+1):(n.push(o.value),o.continue()):e(n)}}))}function d(e,t){var r=e.transaction([u],"readwrite").objectStore(u).delete(t);return new Promise((function(e){r.onsuccess=function(){return e()}}))}function p(e,t){var r=(new Date).getTime()-t,n=e.transaction(u).objectStore(u),o=[];return new Promise((function(e){n.openCursor().onsuccess=function(t){var n=t.target.result;if(n){var a=n.value;if(!(a.time<r))return void e(o);o.push(a),n.continue()}else e(o)}}))}function h(e,t){return p(e,t).then((function(t){return Promise.all(t.map((function(t){return d(e,t.id)})))}))}function v(e,t){return t=(0,a.fillOptionsWithDefaults)(t),c(e).then((function(r){var a={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:(0,n.randomToken)(),eMIs:new o.ObliviousSet(2*t.idb.ttl),writeBlockPromise:n.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){a.closed=!0,t.idb.onclose&&t.idb.onclose()},y(a),a}))}function y(e){e.closed||g(e).then((function(){return(0,n.sleep)(e.options.idb.fallbackInterval)})).then((function(){return y(e)}))}function g(e){return e.closed?n.PROMISE_RESOLVED_VOID:e.messagesCallback?f(e.db,e.lastCursorId).then((function(t){var r=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return r.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),n.PROMISE_RESOLVED_VOID})):n.PROMISE_RESOLVED_VOID}function m(e){e.closed=!0,e.db.close()}function b(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return l(e.db,e.uuid,t)})).then((function(){0===(0,n.randomInt)(0,10)&&h(e.db,e.options.idb.ttl)})),e.writeBlockPromise}function O(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,g(e)}function k(){return!n.isNode&&!!s()}function w(e){return 2*e.idb.fallbackInterval}t.type="idb";var S={create:v,close:m,onMessage:O,postMessage:b,canBeUsed:k,type:"idb",averageResponseTime:w,microSeconds:i};t.default=S},4924:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addStorageEventListener=f,t.averageResponseTime=g,t.canBeUsed=y,t.close=h,t.create=p,t.default=void 0,t.getLocalStorage=s,t.microSeconds=void 0,t.onMessage=v,t.postMessage=l,t.removeStorageEventListener=d,t.storageKey=c,t.type=void 0;var n=r(2151),o=r(1052),a=r(6202),i=a.microSeconds;t.microSeconds=i;var u="localstorage";function s(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function c(e){return"pubkey.broadcastChannel-"+e}function l(e,t){return new Promise((function(r){(0,a.sleep)().then((function(){var n=c(e.channelName),o={token:(0,a.randomToken)(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(o);s().setItem(n,i);var u=document.createEvent("Event");u.initEvent("storage",!0,!0),u.key=n,u.newValue=i,window.dispatchEvent(u),r()}))}))}function f(e,t){var r=c(e),n=function(e){e.key===r&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",n),n}function d(e){window.removeEventListener("storage",e)}function p(e,t){if(t=(0,o.fillOptionsWithDefaults)(t),!y())throw new Error("BroadcastChannel: localstorage cannot be used");var r=(0,a.randomToken)(),i=new n.ObliviousSet(t.localstorage.removeTimeout),u={channelName:e,uuid:r,eMIs:i};return u.listener=f(e,(function(e){u.messagesCallback&&e.uuid!==r&&e.token&&!i.has(e.token)&&(e.data.time&&e.data.time<u.messagesCallbackTime||(i.add(e.token),u.messagesCallback(e.data)))})),u}function h(e){d(e.listener)}function v(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t}function y(){if(a.isNode)return!1;var e=s();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}function g(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}t.type=u;var m={create:p,close:h,onMessage:v,postMessage:l,canBeUsed:y,type:u,averageResponseTime:g,microSeconds:i};t.default=m},6115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.averageResponseTime=f,t.canBeUsed=l,t.close=u,t.create=i,t.microSeconds=t.default=void 0,t.onMessage=c,t.postMessage=s,t.type=void 0;var n=r(6202),o=n.microSeconds;t.microSeconds=o;var a="native";function i(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t}function u(e){e.bc.close(),e.subFns=[]}function s(e,t){try{return e.bc.postMessage(t,!1),n.PROMISE_RESOLVED_VOID}catch(e){return Promise.reject(e)}}function c(e,t){e.messagesCallback=t}function l(){if(n.isNode&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1}function f(){return 150}t.type=a;var d={create:i,close:u,onMessage:c,postMessage:s,canBeUsed:l,type:a,averageResponseTime:f,microSeconds:o};t.default=d},1574:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.averageResponseTime=f,t.canBeUsed=l,t.close=u,t.create=i,t.microSeconds=t.default=void 0,t.onMessage=c,t.postMessage=s,t.type=void 0;var n=r(6202).microSeconds;t.microSeconds=n;var o="simulate";t.type=o;var a=new Set;function i(e){var t={name:e,messagesCallback:null};return a.add(t),t}function u(e){a.delete(e)}function s(e,t){return new Promise((function(r){return setTimeout((function(){Array.from(a).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),r()}),5)}))}function c(e,t){e.messagesCallback=t}function l(){return!0}function f(){return 5}var d={create:i,close:u,onMessage:c,postMessage:s,canBeUsed:l,type:o,averageResponseTime:f,microSeconds:n};t.default=d},1052:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}},6202:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=t.PROMISE_RESOLVED_VOID=t.PROMISE_RESOLVED_TRUE=t.PROMISE_RESOLVED_FALSE=void 0,t.isPromise=function(e){return!(!e||"function"!=typeof e.then)},t.microSeconds=function(){var e=(new Date).getTime();return e===a?1e3*e+ ++i:(a=e,i=0,1e3*e)},t.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.randomToken=function(){return Math.random().toString(36).substring(2)},t.sleep=function(e,t){return e||(e=0),new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))};var r=Promise.resolve(!1);t.PROMISE_RESOLVED_FALSE=r;var n=Promise.resolve(!0);t.PROMISE_RESOLVED_TRUE=n;var o=Promise.resolve();t.PROMISE_RESOLVED_VOID=o;var a=0,i=0,u="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);t.isNode=u},8330:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},1909:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4098:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,i="ArrayBuffer"in e;if(i)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function v(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function O(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function k(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];k.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,r){return new Promise((function(n,a){var i=new b(e,r);if(i.signal&&i.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function s(){u.abort()}u.onload=function(){var e,t,r={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;n(new k(o,r))},u.onerror=function(){a(new TypeError("Network request failed"))},u.ontimeout=function(){a(new TypeError("Network request failed"))},u.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},u.open(i.method,i.url,!0),"include"===i.credentials?u.withCredentials=!0:"omit"===i.credentials&&(u.withCredentials=!1),"responseType"in u&&o&&(u.responseType="blob"),i.headers.forEach((function(e,t){u.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",s),u.onreadystatechange=function(){4===u.readyState&&i.signal.removeEventListener("abort",s)}),u.send(void 0===i._bodyInit?null:i._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=d,e.Request=b,e.Response=k),t.Headers=d,t.Request=b,t.Response=k,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},5643:function(e){e.exports=!1},646:function(e){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}return function t(r,n){function o(t,o,a){if("undefined"!=typeof document){"number"==typeof(a=e({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var u in a)a[u]&&(i+="; "+u,!0!==a[u]&&(i+="="+a[u].split(";")[0]));return document.cookie=t+"="+r.write(o,t)+i}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},o=0;o<t.length;o++){var a=t[o].split("="),i=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(n[u]=r.read(i,u),e===u)break}catch(e){}}return e?n[e]:n}},remove:function(t,r){o(t,"",e({},r,{expires:-1}))},withAttributes:function(r){return t(this.converter,e({},this.attributes,r))},withConverter:function(r){return t(e({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},2151:function(e,t,r){"use strict";r.r(t),r.d(t,{ObliviousSet:function(){return n},removeTooOldValues:function(){return o},now:function(){return a}});var n=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,a()),this.set.add(e),setTimeout((function(){o(t)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function o(e){for(var t=a()-e.ttl,r=e.set[Symbol.iterator]();;){var n=r.next().value;if(!n)return;if(!(e.timeMap.get(n)<t))return;e.timeMap.delete(n),e.set.delete(n)}}function a(){return(new Date).getTime()}},5666:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(e,t,r){var n=f;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return x()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var u=T(i,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var s=l(e,t,r);if("normal"===s.type){if(n=r.done?h:d,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=h,r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function m(){}var b={};b[a]=function(){return this};var O=Object.getPrototypeOf,k=O&&O(O(A([])));k&&k!==r&&n.call(k,a)&&(b=k);var w=m.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,a,i,u){var s=l(e[o],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(f).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,u)}))}u(s.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function T(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:x}}function x(){return{value:t,done:!0}}return g.prototype=w.constructor=m,m.constructor=g,g.displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(E.prototype),E.prototype[i]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(c(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(w),s(w,u,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},4279:function(e){function t(){}t.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function o(){n.off(e,o),t.apply(r,arguments)}return o._=t,this.on(e,o,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=r.length;n<o;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],o=[];if(n&&t)for(var a=0,i=n.length;a<i;a++)n[a].fn!==t&&n[a].fn._!==t&&o.push(n[a]);return o.length?r[e]=o:delete r[e],this}},e.exports=t},2499:function(e,t,r){"use strict";r.r(t),r.d(t,{add:function(){return f},getSize:function(){return h},removeAll:function(){return p},runAll:function(){return d}});var n=r(5643),o=r.n(n),a={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}},i=r(199),u=r.n(i),s=o()?u():a,c=new Set,l=!1;function f(e){if(l||(l=!0,s.add(d)),"function"!=typeof e)throw new Error("Listener is no function");return c.add(e),{remove:function(){return c.delete(e)},run:function(){return c.delete(e),e()}}}function d(){var e=[];return c.forEach((function(t){e.push(t()),c.delete(t)})),Promise.all(e)}function p(){c.clear()}function h(){return c.size}},199:function(){},5883:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,r){return u=i()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&a(o,r.prototype),o},u.apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},s(e)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,{JSONPath:function(){return g}});var p=Object.prototype.hasOwnProperty;function h(e,t){return(e=e.slice()).push(t),e}function v(e,t){return(t=t.slice()).unshift(e),t}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n=(t=u,r=i(),function(){var e,n=o(t);if(r){var a=o(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return c(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=n.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,t.value=e,t.name="NewError",t}return u}(s(Error));function g(e,t,r,o,a){if(!(this instanceof g))try{return new g(e,t,r,o,a)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(a=o,o=r,r=t,t=e,e=null);var i=e&&"object"===n(e);if(e=e||{},this.json=e.json||r,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!p.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||o||null,this.otherTypeCallback=e.otherTypeCallback||a||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var u={path:i?e.path:t};i?"json"in e&&(u.json=e.json):u.json=r;var s=this.evaluate(u);if(!s||"object"!==n(s))throw new y(s);return s}}g.prototype.evaluate=function(e,t,r,o){var a=this,i=this.parent,u=this.parentProperty,s=this.flatten,c=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=o||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===n(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!p.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=e.json,s=p.call(e,"flatten")?e.flatten:s,this.currResultType=p.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=p.call(e,"sandbox")?e.sandbox:this.currSandbox,c=p.call(e,"wrap")?e.wrap:c,this.currPreventEval=p.call(e,"preventEval")?e.preventEval:this.currPreventEval,r=p.call(e,"callback")?e.callback:r,this.currOtherTypeCallback=p.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,i=p.call(e,"parent")?e.parent:i,u=p.call(e,"parentProperty")?e.parentProperty:u,e=e.path}if(i=i||null,u=u||null,Array.isArray(e)&&(e=g.toPathString(e)),(e||""===e)&&t){var l=g.toPathArray(e);"$"===l[0]&&l.length>1&&l.shift(),this._hasParentSelector=null;var f=this._trace(l,t,["$"],i,u,r).filter((function(e){return e&&!e.isParentSelector}));return f.length?c||1!==f.length||f[0].hasArrExpr?f.reduce((function(e,t){var r=a._getPreferredOutput(t);return s&&Array.isArray(r)?e=e.concat(r):e.push(r),e}),[]):this._getPreferredOutput(f[0]):c?[]:void 0}},g.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var r=Array.isArray(e.path)?e.path:g.toPathArray(e.path);return e.pointer=g.toPointer(r),e.path="string"==typeof e.path?e.path:g.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return g.toPathString(e[t]);case"pointer":return g.toPointer(e.path);default:throw new TypeError("Unknown result type")}},g.prototype._handleCallback=function(e,t,r){if(t){var n=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:g.toPathString(e.path),t(n,r,e)}},g.prototype._trace=function(e,t,r,o,a,i,u,s){var c,l=this;if(!e.length)return c={path:r,value:t,parent:o,parentProperty:a,hasArrExpr:u},this._handleCallback(c,i,"value"),c;var d=e[0],y=e.slice(1),g=[];function m(e){Array.isArray(e)?e.forEach((function(e){g.push(e)})):g.push(e)}if(("string"!=typeof d||s)&&t&&p.call(t,d))m(this._trace(y,t[d],h(r,d),t,d,i,u));else if("*"===d)this._walk(d,y,t,r,o,a,i,(function(e,t,r,n,o,a,i,u){m(l._trace(v(e,r),n,o,a,i,u,!0,!0))}));else if(".."===d)m(this._trace(y,t,r,o,a,i,u)),this._walk(d,y,t,r,o,a,i,(function(e,t,r,o,a,i,u,s){"object"===n(o[e])&&m(l._trace(v(t,r),o[e],h(a,e),o,e,s,!0))}));else{if("^"===d)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:y,isParentSelector:!0};if("~"===d)return c={path:h(r,d),value:a,parent:o,parentProperty:null},this._handleCallback(c,i,"property"),c;if("$"===d)m(this._trace(y,t,r,null,null,i,u));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(d))m(this._slice(d,y,t,r,o,a,i));else if(0===d.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(d,y,t,r,o,a,i,(function(e,t,r,n,o,a,i,u){l._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),n[e],e,o,a,i)&&m(l._trace(v(e,r),n,o,a,i,u,!0))}))}else if("("===d[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");m(this._trace(v(this._eval(d,t,r[r.length-1],r.slice(0,-1),o,a),y),t,r,o,a,i,u))}else if("@"===d[0]){var b=!1,O=d.slice(1,-2);switch(O){case"scalar":t&&["object","function"].includes(n(t))||(b=!0);break;case"boolean":case"string":case"undefined":case"function":n(t)===O&&(b=!0);break;case"integer":!Number.isFinite(t)||t%1||(b=!0);break;case"number":Number.isFinite(t)&&(b=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(b=!0);break;case"object":t&&n(t)===O&&(b=!0);break;case"array":Array.isArray(t)&&(b=!0);break;case"other":b=this.currOtherTypeCallback(t,r,o,a);break;case"null":null===t&&(b=!0);break;default:throw new TypeError("Unknown value type "+O)}if(b)return c={path:r,value:t,parent:o,parentProperty:a},this._handleCallback(c,i,"value"),c}else if("`"===d[0]&&t&&p.call(t,d.slice(1))){var k=d.slice(1);m(this._trace(y,t[k],h(r,k),t,k,i,u,!0))}else if(d.includes(",")){var w,S=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(d.split(","));try{for(S.s();!(w=S.n()).done;){var E=w.value;m(this._trace(v(E,y),t,r,o,a,i,!0))}}catch(e){S.e(e)}finally{S.f()}}else!s&&t&&p.call(t,d)&&m(this._trace(y,t[d],h(r,d),t,d,i,u,!0))}if(this._hasParentSelector)for(var T=0;T<g.length;T++){var P=g[T];if(P&&P.isParentSelector){var _=this._trace(P.expr,t,P.path,o,a,i,u);if(Array.isArray(_)){g[T]=_[0];for(var j=_.length,A=1;A<j;A++)T++,g.splice(T,0,_[A])}else g[T]=_}}return g},g.prototype._walk=function(e,t,r,o,a,i,u,s){if(Array.isArray(r))for(var c=r.length,l=0;l<c;l++)s(l,e,t,r,o,a,i,u);else r&&"object"===n(r)&&Object.keys(r).forEach((function(n){s(n,e,t,r,o,a,i,u)}))},g.prototype._slice=function(e,t,r,n,o,a,i){if(Array.isArray(r)){var u=r.length,s=e.split(":"),c=s[2]&&Number.parseInt(s[2])||1,l=s[0]&&Number.parseInt(s[0])||0,f=s[1]&&Number.parseInt(s[1])||u;l=l<0?Math.max(0,l+u):Math.min(u,l),f=f<0?Math.max(0,f+u):Math.min(u,f);for(var d=[],p=l;p<f;p+=c)this._trace(v(p,t),r,n,o,a,i,!0).forEach((function(e){d.push(e)}));return d}},g.prototype._eval=function(e,t,r,n,o,a){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=a,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=o,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=r,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=g.toPathString(n.concat([r])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},g.cache={},g.toPathString=function(e){for(var t=e,r=t.length,n="$",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(n+=/^[\*0-9]+$/.test(t[o])?"["+t[o]+"]":"['"+t[o]+"']");return n},g.toPointer=function(e){for(var t=e,r=t.length,n="",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(n+="/"+t[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},g.toPathArray=function(e){var t=g.cache;if(t[e])return t[e].concat();var r=[],n=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(e,t){return"[#"+(r.push(t)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map((function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?r[t[1]]:e}));return t[e]=n,t[e].concat()},g.prototype.vm={runInNewContext:function(e,t){var r=Object.keys(t),n=[];!function(e,r,n){for(var o=e.length,a=0;a<o;a++)i=e[a],"function"==typeof t[i]&&r.push(e.splice(a--,1)[0]);var i}(r,n);var o=r.map((function(e,r){return t[e]})),a=n.reduce((function(e,r){var n=t[r].toString();return/function/.test(n)||(n="function "+n),"var "+r+"="+n+";"+e}),"");/(["'])use strict\1/.test(e=a+e)||r.includes("arguments")||(e="var arguments = undefined;"+e);var i=(e=e.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),s=i>-1?e.slice(0,i+1)+" return "+e.slice(i+1):" return "+e;return u(Function,l(r).concat([s])).apply(void 0,l(o))}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(3574);OktaAuth=n}();
//# sourceMappingURL=okta-auth-js.min.js.map